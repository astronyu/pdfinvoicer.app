function dm(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function hm(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Tf={exports:{}},Uu={},If={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function fm(){if(dp)return qt;dp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,L={};function A(I,ae,N){this.props=I,this.context=ae,this.refs=L,this.updater=N||b}A.prototype.isReactComponent={},A.prototype.setState=function(I,ae){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ae,"setState")},A.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=A.prototype;function D(I,ae,N){this.props=I,this.context=ae,this.refs=L,this.updater=N||b}var H=D.prototype=new E;H.constructor=D,j(H,A.prototype),H.isPureReactComponent=!0;var Y=Array.isArray,ne=Object.prototype.hasOwnProperty,we={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function Q(I,ae,N){var M,$={},z=null,W=null;if(ae!=null)for(M in ae.ref!==void 0&&(W=ae.ref),ae.key!==void 0&&(z=""+ae.key),ae)ne.call(ae,M)&&!ue.hasOwnProperty(M)&&($[M]=ae[M]);var K=arguments.length-2;if(K===1)$.children=N;else if(1<K){for(var de=Array(K),me=0;me<K;me++)de[me]=arguments[me+2];$.children=de}if(I&&I.defaultProps)for(M in K=I.defaultProps,K)$[M]===void 0&&($[M]=K[M]);return{$$typeof:r,type:I,key:z,ref:W,props:$,_owner:we.current}}function ye(I,ae){return{$$typeof:r,type:I.type,key:ae,ref:I.ref,props:I.props,_owner:I._owner}}function pe(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function B(I){var ae={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(N){return ae[N]})}var V=/\/+/g;function ie(I,ae){return typeof I=="object"&&I!==null&&I.key!=null?B(""+I.key):ae.toString(36)}function ee(I,ae,N,M,$){var z=typeof I;(z==="undefined"||z==="boolean")&&(I=null);var W=!1;if(I===null)W=!0;else switch(z){case"string":case"number":W=!0;break;case"object":switch(I.$$typeof){case r:case e:W=!0}}if(W)return W=I,$=$(W),I=M===""?"."+ie(W,0):M,Y($)?(N="",I!=null&&(N=I.replace(V,"$&/")+"/"),ee($,ae,N,"",function(me){return me})):$!=null&&(pe($)&&($=ye($,N+(!$.key||W&&W.key===$.key?"":(""+$.key).replace(V,"$&/")+"/")+I)),ae.push($)),1;if(W=0,M=M===""?".":M+":",Y(I))for(var K=0;K<I.length;K++){z=I[K];var de=M+ie(z,K);W+=ee(z,ae,N,de,$)}else if(de=C(I),typeof de=="function")for(I=de.call(I),K=0;!(z=I.next()).done;)z=z.value,de=M+ie(z,K++),W+=ee(z,ae,N,de,$);else if(z==="object")throw ae=String(I),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return W}function Se(I,ae,N){if(I==null)return I;var M=[],$=0;return ee(I,M,"","",function(z){return ae.call(N,z,$++)}),M}function ke(I){if(I._status===-1){var ae=I._result;ae=ae(),ae.then(function(N){(I._status===0||I._status===-1)&&(I._status=1,I._result=N)},function(N){(I._status===0||I._status===-1)&&(I._status=2,I._result=N)}),I._status===-1&&(I._status=0,I._result=ae)}if(I._status===1)return I._result.default;throw I._result}var Ne={current:null},re={transition:null},se={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:re,ReactCurrentOwner:we};return qt.Children={map:Se,forEach:function(I,ae,N){Se(I,function(){ae.apply(this,arguments)},N)},count:function(I){var ae=0;return Se(I,function(){ae++}),ae},toArray:function(I){return Se(I,function(ae){return ae})||[]},only:function(I){if(!pe(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},qt.Component=A,qt.Fragment=t,qt.Profiler=s,qt.PureComponent=D,qt.StrictMode=n,qt.Suspense=h,qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,qt.cloneElement=function(I,ae,N){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var M=j({},I.props),$=I.key,z=I.ref,W=I._owner;if(ae!=null){if(ae.ref!==void 0&&(z=ae.ref,W=we.current),ae.key!==void 0&&($=""+ae.key),I.type&&I.type.defaultProps)var K=I.type.defaultProps;for(de in ae)ne.call(ae,de)&&!ue.hasOwnProperty(de)&&(M[de]=ae[de]===void 0&&K!==void 0?K[de]:ae[de])}var de=arguments.length-2;if(de===1)M.children=N;else if(1<de){K=Array(de);for(var me=0;me<de;me++)K[me]=arguments[me+2];M.children=K}return{$$typeof:r,type:I.type,key:$,ref:z,props:M,_owner:W}},qt.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},qt.createElement=Q,qt.createFactory=function(I){var ae=Q.bind(null,I);return ae.type=I,ae},qt.createRef=function(){return{current:null}},qt.forwardRef=function(I){return{$$typeof:u,render:I}},qt.isValidElement=pe,qt.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ke}},qt.memo=function(I,ae){return{$$typeof:f,type:I,compare:ae===void 0?null:ae}},qt.startTransition=function(I){var ae=re.transition;re.transition={};try{I()}finally{re.transition=ae}},qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},qt.useCallback=function(I,ae){return Ne.current.useCallback(I,ae)},qt.useContext=function(I){return Ne.current.useContext(I)},qt.useDebugValue=function(){},qt.useDeferredValue=function(I){return Ne.current.useDeferredValue(I)},qt.useEffect=function(I,ae){return Ne.current.useEffect(I,ae)},qt.useId=function(){return Ne.current.useId()},qt.useImperativeHandle=function(I,ae,N){return Ne.current.useImperativeHandle(I,ae,N)},qt.useInsertionEffect=function(I,ae){return Ne.current.useInsertionEffect(I,ae)},qt.useLayoutEffect=function(I,ae){return Ne.current.useLayoutEffect(I,ae)},qt.useMemo=function(I,ae){return Ne.current.useMemo(I,ae)},qt.useReducer=function(I,ae,N){return Ne.current.useReducer(I,ae,N)},qt.useRef=function(I){return Ne.current.useRef(I)},qt.useState=function(I){return Ne.current.useState(I)},qt.useSyncExternalStore=function(I,ae,N){return Ne.current.useSyncExternalStore(I,ae,N)},qt.useTransition=function(){return Ne.current.useTransition()},qt.version="18.2.0",qt}var hp;function U1(){return hp||(hp=1,If.exports=fm()),If.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function pm(){if(fp)return Uu;fp=1;var r=U1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var v,x={},C=null,b=null;f!==void 0&&(C=""+f),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(b=h.ref);for(v in h)n.call(h,v)&&!o.hasOwnProperty(v)&&(x[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps,h)x[v]===void 0&&(x[v]=h[v]);return{$$typeof:e,type:u,key:C,ref:b,props:x,_owner:s.current}}return Uu.Fragment=t,Uu.jsx=l,Uu.jsxs=l,Uu}var pp;function gm(){return pp||(pp=1,Tf.exports=pm()),Tf.exports}var m=gm(),G=U1();const U2=B1(G),mm=dm({__proto__:null,default:U2},[G]);var ih={},Ff={exports:{}},Ni={},Rf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function vm(){return gp||(gp=1,function(r){function e(re,se){var I=re.length;re.push(se);e:for(;0<I;){var ae=I-1>>>1,N=re[ae];if(0<s(N,se))re[ae]=se,re[I]=N,I=ae;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var se=re[0],I=re.pop();if(I!==se){re[0]=I;e:for(var ae=0,N=re.length,M=N>>>1;ae<M;){var $=2*(ae+1)-1,z=re[$],W=$+1,K=re[W];if(0>s(z,I))W<N&&0>s(K,z)?(re[ae]=K,re[W]=I,ae=W):(re[ae]=z,re[$]=I,ae=$);else if(W<N&&0>s(K,I))re[ae]=K,re[W]=I,ae=W;else break e}}return se}function s(re,se){var I=re.sortIndex-se.sortIndex;return I!==0?I:re.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],f=[],v=1,x=null,C=3,b=!1,j=!1,L=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(re){for(var se=t(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=re)n(f),se.sortIndex=se.expirationTime,e(h,se);else break;se=t(f)}}function Y(re){if(L=!1,H(re),!j)if(t(h)!==null)j=!0,ke(ne);else{var se=t(f);se!==null&&Ne(Y,se.startTime-re)}}function ne(re,se){j=!1,L&&(L=!1,E(Q),Q=-1),b=!0;var I=C;try{for(H(se),x=t(h);x!==null&&(!(x.expirationTime>se)||re&&!B());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,C=x.priorityLevel;var N=ae(x.expirationTime<=se);se=r.unstable_now(),typeof N=="function"?x.callback=N:x===t(h)&&n(h),H(se)}else n(h);x=t(h)}if(x!==null)var M=!0;else{var $=t(f);$!==null&&Ne(Y,$.startTime-se),M=!1}return M}finally{x=null,C=I,b=!1}}var we=!1,ue=null,Q=-1,ye=5,pe=-1;function B(){return!(r.unstable_now()-pe<ye)}function V(){if(ue!==null){var re=r.unstable_now();pe=re;var se=!0;try{se=ue(!0,re)}finally{se?ie():(we=!1,ue=null)}}else we=!1}var ie;if(typeof D=="function")ie=function(){D(V)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Se=ee.port2;ee.port1.onmessage=V,ie=function(){Se.postMessage(null)}}else ie=function(){A(V,0)};function ke(re){ue=re,we||(we=!0,ie())}function Ne(re,se){Q=A(function(){re(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){j||b||(j=!0,ke(ne))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(re){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var I=C;C=se;try{return re()}finally{C=I}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var I=C;C=re;try{return se()}finally{C=I}},r.unstable_scheduleCallback=function(re,se,I){var ae=r.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ae+I:ae):I=ae,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=I+N,re={id:v++,callback:se,priorityLevel:re,startTime:I,expirationTime:N,sortIndex:-1},I>ae?(re.sortIndex=I,e(f,re),t(h)===null&&re===t(f)&&(L?(E(Q),Q=-1):L=!0,Ne(Y,I-ae))):(re.sortIndex=N,e(h,re),j||b||(j=!0,ke(ne))),re},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(re){var se=C;return function(){var I=C;C=se;try{return re.apply(this,arguments)}finally{C=I}}}}(Df)),Df}var mp;function ym(){return mp||(mp=1,Rf.exports=vm()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function xm(){if(vp)return Ni;vp=1;var r=U1(),e=ym();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function C(i){return h.call(x,i)?!0:h.call(v,i)?!1:f.test(i)?x[i]=!0:(v[i]=!0,!1)}function b(i,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,a,c,p){if(a===null||typeof a>"u"||b(i,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function L(i,a,c,p,w,k,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=k,this.removeEmptyString=R}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new L(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];A[a]=new L(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new L(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new L(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new L(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new L(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new L(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new L(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new L(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(E,D);A[a]=new L(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(E,D);A[a]=new L(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(E,D);A[a]=new L(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new L(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new L(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,a,c,p){var w=A.hasOwnProperty(a)?A[a]:null;(w!==null?w.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,c,w,p)&&(c=null),p||w===null?C(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):w.mustUseProperty?i[w.propertyName]=c===null?w.type===3?!1:"":c:(a=w.attributeName,p=w.attributeNamespace,c===null?i.removeAttribute(a):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?i.setAttributeNS(p,a,c):i.setAttribute(a,c))))}var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),we=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),re=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var I=Object.assign,ae;function N(i){if(ae===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ae=a&&a[1]||""}return`
`+ae+i}var M=!1;function $(i,a){if(!i||M)return"";M=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Le){var p=Le}Reflect.construct(i,[],a)}else{try{a.call()}catch(Le){p=Le}i.call(a.prototype)}else{try{throw Error()}catch(Le){p=Le}i()}}catch(Le){if(Le&&p&&typeof Le.stack=="string"){for(var w=Le.stack.split(`
`),k=p.stack.split(`
`),R=w.length-1,X=k.length-1;1<=R&&0<=X&&w[R]!==k[X];)X--;for(;1<=R&&0<=X;R--,X--)if(w[R]!==k[X]){if(R!==1||X!==1)do if(R--,X--,0>X||w[R]!==k[X]){var ce=`
`+w[R].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=R&&0<=X);break}}}finally{M=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?N(i):""}function z(i){switch(i.tag){case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return i=$(i.type,!1),i;case 11:return i=$(i.type.render,!1),i;case 1:return i=$(i.type,!0),i;default:return""}}function W(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ue:return"Fragment";case we:return"Portal";case ye:return"Profiler";case Q:return"StrictMode";case ie:return"Suspense";case ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case pe:return(i._context.displayName||"Context")+".Provider";case V:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Se:return a=i.displayName||null,a!==null?a:W(i.type)||"Memo";case ke:a=i._payload,i=i._init;try{return W(i(a))}catch{}}return null}function K(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(a);case 8:return a===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function me(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function De(i){var a=me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,k=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return w.call(this)},set:function(R){p=""+R,k.call(this,R)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Oe(i){i._valueTracker||(i._valueTracker=De(i))}function Ve(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return i&&(p=me(i)?i.checked?"true":"false":i.value),i=p,i!==c?(a.setValue(i),!0):!1}function Ge(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function mt(i,a){var c=a.checked;return I({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Ie(i,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=de(a.value!=null?a.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function te(i,a){a=a.checked,a!=null&&H(i,"checked",a,!1)}function Nt(i,a){te(i,a);var c=de(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ze(i,a.type,c):a.hasOwnProperty("defaultValue")&&ze(i,a.type,de(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ot(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ze(i,a,c){(a!=="number"||Ge(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var We=Array.isArray;function Je(i,a,c,p){if(i=i.options,a){a={};for(var w=0;w<c.length;w++)a["$"+c[w]]=!0;for(c=0;c<i.length;c++)w=a.hasOwnProperty("$"+i[c].value),i[c].selected!==w&&(i[c].selected=w),w&&p&&(i[c].defaultSelected=!0)}else{for(c=""+de(c),a=null,w=0;w<i.length;w++){if(i[w].value===c){i[w].selected=!0,p&&(i[w].defaultSelected=!0);return}a!==null||i[w].disabled||(a=i[w])}a!==null&&(a.selected=!0)}}function Ke(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return I({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ut(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(We(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:de(c)}}function jt(i,a){var c=de(a.value),p=de(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function Tt(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Mt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Mt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xt,bt=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,w){MSApp.execUnsafeLocalFunction(function(){return i(a,c,p,w)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Xt=Xt||document.createElement("div"),Xt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Xt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Ft(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},on=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(i){on.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Xe[a]=Xe[i]})});function Zt(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Xe.hasOwnProperty(i)&&Xe[i]?(""+a).trim():a+"px"}function di(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=Zt(c,a[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,w):i[c]=w}}var hr=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(i,a){if(a){if(hr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function hi(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gt=null;function as(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var br=null,ln=null,Tn=null;function Sr(i){if(i=Do(i)){if(typeof br!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Ml(a),br(i.stateNode,i.type,a))}}function Lt(i){ln?Tn?Tn.push(i):Tn=[i]:ln=i}function Qt(){if(ln){var i=ln,a=Tn;if(Tn=ln=null,Sr(i),a)for(i=0;i<a.length;i++)Sr(a[i])}}function Os(i,a){return i(a)}function Xr(){}var fi=!1;function Pi(i,a,c){if(fi)return i(a,c);fi=!0;try{return Os(i,a,c)}finally{fi=!1,(ln!==null||Tn!==null)&&(Xr(),Qt())}}function ft(i,a){var c=i.stateNode;if(c===null)return null;var p=Ml(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ti=!1;if(u)try{var In={};Object.defineProperty(In,"passive",{get:function(){ti=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{ti=!1}function Fn(i,a,c,p,w,k,R,X,ce){var Le=Array.prototype.slice.call(arguments,3);try{a.apply(c,Le)}catch(Ue){this.onError(Ue)}}var Nr=!1,jr=null,cn=!1,Ms=null,os={onError:function(i){Nr=!0,jr=i}};function Ei(i,a,c,p,w,k,R,X,ce){Nr=!1,jr=null,Fn.apply(os,arguments)}function Ti(i,a,c,p,w,k,R,X,ce){if(Ei.apply(this,arguments),Nr){if(Nr){var Le=jr;Nr=!1,jr=null}else throw Error(t(198));cn||(cn=!0,Ms=Le)}}function tn(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Ii(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ri(i){if(tn(i)!==i)throw Error(t(188))}function Hi(i){var a=i.alternate;if(!a){if(a=tn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,p=a;;){var w=c.return;if(w===null)break;var k=w.alternate;if(k===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===c)return ri(w),i;if(k===p)return ri(w),a;k=k.sibling}throw Error(t(188))}if(c.return!==p.return)c=w,p=k;else{for(var R=!1,X=w.child;X;){if(X===c){R=!0,c=w,p=k;break}if(X===p){R=!0,p=w,c=k;break}X=X.sibling}if(!R){for(X=k.child;X;){if(X===c){R=!0,c=k,p=w;break}if(X===p){R=!0,p=k,c=w;break}X=X.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function Bs(i){return i=Hi(i),i!==null?da(i):null}function da(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=da(i);if(a!==null)return a;i=i.sibling}return null}var ha=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,so=e.unstable_shouldYield,gc=e.unstable_requestPaint,Lr=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,Us=e.unstable_ImmediatePriority,vl=e.unstable_UserBlockingPriority,ao=e.unstable_NormalPriority,yl=e.unstable_LowPriority,mc=e.unstable_IdlePriority,pa=null,pi=null;function oo(i){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(pa,i,void 0,(i.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:yc,Or=Math.log,vc=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(Or(i)/vc|0)|0}var ga=64,zs=4194304;function ma(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Rn(i,a){var c=i.pendingLanes;if(c===0)return 0;var p=0,w=i.suspendedLanes,k=i.pingedLanes,R=c&268435455;if(R!==0){var X=R&~w;X!==0?p=ma(X):(k&=R,k!==0&&(p=ma(k)))}else R=c&~w,R!==0?p=ma(R):k!==0&&(p=ma(k));if(p===0)return 0;if(a!==0&&a!==p&&(a&w)===0&&(w=p&-p,k=a&-a,w>=k||w===16&&(k&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)c=31-ni(a),w=1<<c,p|=i[c],a&=~w;return p}function lo(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(i,a){for(var c=i.suspendedLanes,p=i.pingedLanes,w=i.expirationTimes,k=i.pendingLanes;0<k;){var R=31-ni(k),X=1<<R,ce=w[R];ce===-1?((X&c)===0||(X&p)!==0)&&(w[R]=lo(X,a)):ce<=a&&(i.expiredLanes|=X),k&=~X}}function va(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function xl(){var i=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),i}function wl(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function qs(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ni(a),i[a]=c}function xu(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var w=31-ni(c),k=1<<w;a[w]=0,p[w]=-1,i[w]=-1,c&=~k}}function co(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var p=31-ni(c),w=1<<p;w&a|i[p]&a&&(i[p]|=a),c&=~w}}var er=0;function uo(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var xc,bl,wc,Wi,ya,$s=!1,xa=[],Ar=null,Vi=null,Fi=null,xt=new Map,wa=new Map,Zi=[],Gi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _l(i,a){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":xt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(a.pointerId)}}function Hs(i,a,c,p,w,k){return i===null||i.nativeEvent!==k?(i={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:k,targetContainers:[w]},a!==null&&(a=Do(a),a!==null&&bl(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),i)}function ho(i,a,c,p,w){switch(a){case"focusin":return Ar=Hs(Ar,i,a,c,p,w),!0;case"dragenter":return Vi=Hs(Vi,i,a,c,p,w),!0;case"mouseover":return Fi=Hs(Fi,i,a,c,p,w),!0;case"pointerover":var k=w.pointerId;return xt.set(k,Hs(xt.get(k)||null,i,a,c,p,w)),!0;case"gotpointercapture":return k=w.pointerId,wa.set(k,Hs(wa.get(k)||null,i,a,c,p,w)),!0}return!1}function fo(i){var a=ta(i.target);if(a!==null){var c=tn(a);if(c!==null){if(a=c.tag,a===13){if(a=Ii(c),a!==null){i.blockedOn=a,ya(i.priority,function(){wc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function po(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=mo(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Gt=p,c.target.dispatchEvent(p),Gt=null}else return a=Do(c),a!==null&&bl(a),i.blockedOn=c,!1;a.shift()}return!0}function bc(i,a,c){po(i)&&c.delete(a)}function wu(){$s=!1,Ar!==null&&po(Ar)&&(Ar=null),Vi!==null&&po(Vi)&&(Vi=null),Fi!==null&&po(Fi)&&(Fi=null),xt.forEach(bc),wa.forEach(bc)}function ls(i,a){i.blockedOn===a&&(i.blockedOn=null,$s||($s=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function Ri(i){function a(w){return ls(w,i)}if(0<xa.length){ls(xa[0],i);for(var c=1;c<xa.length;c++){var p=xa[c];p.blockedOn===i&&(p.blockedOn=null)}}for(Ar!==null&&ls(Ar,i),Vi!==null&&ls(Vi,i),Fi!==null&&ls(Fi,i),xt.forEach(a),wa.forEach(a),c=0;c<Zi.length;c++)p=Zi[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<Zi.length&&(c=Zi[0],c.blockedOn===null);)fo(c),c.blockedOn===null&&Zi.shift()}var ii=Y.ReactCurrentBatchConfig,go=!0;function ba(i,a,c,p){var w=er,k=ii.transition;ii.transition=null;try{er=1,Ws(i,a,c,p)}finally{er=w,ii.transition=k}}function kl(i,a,c,p){var w=er,k=ii.transition;ii.transition=null;try{er=4,Ws(i,a,c,p)}finally{er=w,ii.transition=k}}function Ws(i,a,c,p){if(go){var w=mo(i,a,c,p);if(w===null)Rl(i,a,p,_a,c),_l(i,p);else if(ho(w,i,a,c,p))p.stopPropagation();else if(_l(i,p),a&4&&-1<Gi.indexOf(i)){for(;w!==null;){var k=Do(w);if(k!==null&&xc(k),k=mo(i,a,c,p),k===null&&Rl(i,a,p,_a,c),k===w)break;w=k}w!==null&&p.stopPropagation()}else Rl(i,a,p,null,c)}}var _a=null;function mo(i,a,c,p){if(_a=null,i=as(p),i=ta(i),i!==null)if(a=tn(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Ii(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return _a=i,null}function Cl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case Us:return 1;case vl:return 4;case ao:case yl:return 16;case mc:return 536870912;default:return 16}default:return 16}}var Di=null,gi=null,mi=null;function _c(){if(mi)return mi;var i,a=gi,c=a.length,p,w="value"in Di?Di.value:Di.textContent,k=w.length;for(i=0;i<c&&a[i]===w[i];i++);var R=c-i;for(p=1;p<=R&&a[c-p]===w[k-p];p++);return mi=w.slice(i,1<p?1-p:void 0)}function Oi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function On(){return!0}function vo(){return!1}function Zr(i){function a(c,p,w,k,R){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(c=i[X],this[X]=c?c(k):k[X]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?On:vo,this.isPropagationStopped=vo,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),a}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Zr(Vs),ka=I({},Vs,{view:0,detail:0}),Sl=Zr(ka),Ca,yo,Yi,Gs=I({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Yi&&(Yi&&i.type==="mousemove"?(Ca=i.screenX-Yi.screenX,yo=i.screenY-Yi.screenY):yo=Ca=0,Yi=i),Ca)},movementY:function(i){return"movementY"in i?i.movementY:yo}}),xo=Zr(Gs),kc=I({},Gs,{dataTransfer:0}),bu=Zr(kc),wo=I({},ka,{relatedTarget:0}),cs=Zr(wo),Nl=I({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=Zr(Nl),jl=I({},Vs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),y=Zr(jl),T=I({},Vs,{data:0}),J=Zr(T),oe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Me(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Pe[i])?!!a[i]:!1}function Qe(){return Me}var dt=I({},ka,{key:function(i){if(i.key){var a=oe[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Oi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qe,charCode:function(i){return i.type==="keypress"?Oi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Et=Zr(dt),Pt=I({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zt=Zr(Pt),Pr=I({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qe}),Fr=Zr(Pr),$r=I({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),un=Zr($r),Qr=I({},Gs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mi=Zr(Qr),si=[9,13,27,32],vi=u&&"CompositionEvent"in window,Js=null;u&&"documentMode"in document&&(Js=document.documentMode);var Ll=u&&"TextEvent"in window&&!Js,bo=u&&(!vi||Js&&8<Js&&11>=Js),Sa=" ",_o=!1;function ko(i,a){switch(i){case"keyup":return si.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rr=!1;function Co(i,a){switch(i){case"compositionend":return Na(a);case"keypress":return a.which!==32?null:(_o=!0,Sa);case"textInput":return i=a.data,i===Sa&&_o?null:i;default:return null}}function So(i,a){if(Rr)return i==="compositionend"||!vi&&ko(i,a)?(i=_c(),mi=gi=Di=null,Rr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bo&&a.locale!=="ko"?null:a.data;default:return null}}var No={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!No[i.type]:a==="textarea"}function kn(i,a,c,p){Lt(p),a=jc(a,"onChange"),0<a.length&&(c=new Zs("onChange","change",null,c,p),i.push({event:c,listeners:a}))}var ja=null,us=null;function Cc(i){Il(i,0)}function Cn(i){var a=Da(i);if(Ve(a))return i}function Lo(i,a){if(i==="change")return a}var Al=!1;if(u){var Ao;if(u){var Ji="oninput"in document;if(!Ji){var Ks=document.createElement("div");Ks.setAttribute("oninput","return;"),Ji=typeof Ks.oninput=="function"}Ao=Ji}else Ao=!1;Al=Ao&&(!document.documentMode||9<document.documentMode)}function Sn(){ja&&(ja.detachEvent("onpropertychange",dn),us=ja=null)}function dn(i){if(i.propertyName==="value"&&Cn(us)){var a=[];kn(a,us,i,as(i)),Pi(Cc,a)}}function Xs(i,a,c){i==="focusin"?(Sn(),ja=a,us=c,ja.attachEvent("onpropertychange",dn)):i==="focusout"&&Sn()}function ds(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cn(us)}function hs(i,a){if(i==="click")return Cn(a)}function Po(i,a){if(i==="input"||i==="change")return Cn(a)}function fs(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var tr=typeof Object.is=="function"?Object.is:fs;function ps(i,a){if(tr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!h.call(a,w)||!tr(i[w],a[w]))return!1}return!0}function hn(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ai(i,a){var c=hn(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=a&&p>=a)return{node:c,offset:a-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hn(c)}}function La(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?La(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Pl(){for(var i=window,a=Ge();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Ge(i.document)}return a}function Aa(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Pa(i){var a=Pl(),c=i.focusedElem,p=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&La(c.ownerDocument.documentElement,c)){if(p!==null&&Aa(c)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var w=c.textContent.length,k=Math.min(p.start,w);p=p.end===void 0?k:Math.min(p.end,w),!i.extend&&k>p&&(w=p,p=k,k=w),w=ai(c,k);var R=ai(c,p);w&&R&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),i.removeAllRanges(),k>p?(i.addRange(a),i.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ea=u&&"documentMode"in document&&11>=document.documentMode,oi=null,gs=null,Ki=null,ms=!1;function vs(i,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ms||oi==null||oi!==Ge(p)||(p=oi,"selectionStart"in p&&Aa(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ki&&ps(Ki,p)||(Ki=p,p=jc(gs,"onSelect"),0<p.length&&(a=new Zs("onSelect","select",null,a,c),i.push({event:a,listeners:p}),a.target=oi)))}function Qs(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var rn={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Mn={},fr={};u&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function sr(i){if(Mn[i])return Mn[i];if(!rn[i])return i;var a=rn[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in fr)return Mn[i]=a[c];return i}var Dr=sr("animationend"),Hr=sr("animationiteration"),Xi=sr("animationstart"),Eo=sr("transitionend"),Ta=new Map,El="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(i,a){Ta.set(i,a),o(a,[i])}for(var To=0;To<El.length;To++){var Nn=El[To],yi=Nn.toLowerCase(),Sc=Nn[0].toUpperCase()+Nn.slice(1);Qi(yi,"on"+Sc)}Qi(Dr,"onAnimationEnd"),Qi(Hr,"onAnimationIteration"),Qi(Xi,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(Eo,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Tl(i,a,c){var p=i.type||"unknown-event";i.currentTarget=c,Ti(p,a,void 0,i),i.currentTarget=null}function Il(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],w=p.event;p=p.listeners;e:{var k=void 0;if(a)for(var R=p.length-1;0<=R;R--){var X=p[R],ce=X.instance,Le=X.currentTarget;if(X=X.listener,ce!==k&&w.isPropagationStopped())break e;Tl(w,X,Le),k=ce}else for(R=0;R<p.length;R++){if(X=p[R],ce=X.instance,Le=X.currentTarget,X=X.listener,ce!==k&&w.isPropagationStopped())break e;Tl(w,X,Le),k=ce}}}if(cn)throw i=Ms,cn=!1,Ms=null,i}function pr(i,a){var c=a[Un];c===void 0&&(c=a[Un]=new Set);var p=i+"__bubble";c.has(p)||(Fl(a,i,2,!1),c.add(p))}function Nc(i,a,c){var p=0;a&&(p|=4),Fl(c,i,p,a)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Ia(i){if(!i[Io]){i[Io]=!0,n.forEach(function(c){c!=="selectionchange"&&(Sd.has(c)||Nc(c,!1,i),Nc(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Io]||(a[Io]=!0,Nc("selectionchange",!1,a))}}function Fl(i,a,c,p){switch(Cl(a)){case 1:var w=ba;break;case 4:w=kl;break;default:w=Ws}c=w.bind(null,a,c,i),w=void 0,!ti||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),p?w!==void 0?i.addEventListener(a,c,{capture:!0,passive:w}):i.addEventListener(a,c,!0):w!==void 0?i.addEventListener(a,c,{passive:w}):i.addEventListener(a,c,!1)}function Rl(i,a,c,p,w){var k=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var X=p.stateNode.containerInfo;if(X===w||X.nodeType===8&&X.parentNode===w)break;if(R===4)for(R=p.return;R!==null;){var ce=R.tag;if((ce===3||ce===4)&&(ce=R.stateNode.containerInfo,ce===w||ce.nodeType===8&&ce.parentNode===w))return;R=R.return}for(;X!==null;){if(R=ta(X),R===null)return;if(ce=R.tag,ce===5||ce===6){p=k=R;continue e}X=X.parentNode}}p=p.return}Pi(function(){var Le=k,Ue=as(c),qe=[];e:{var Be=Ta.get(i);if(Be!==void 0){var rt=Zs,st=i;switch(i){case"keypress":if(Oi(c)===0)break e;case"keydown":case"keyup":rt=Et;break;case"focusin":st="focus",rt=cs;break;case"focusout":st="blur",rt=cs;break;case"beforeblur":case"afterblur":rt=cs;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Fr;break;case Dr:case Hr:case Xi:rt=Ys;break;case Eo:rt=un;break;case"scroll":rt=Sl;break;case"wheel":rt=Mi;break;case"copy":case"cut":case"paste":rt=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=zt}var lt=(a&4)!==0,Gr=!lt&&i==="scroll",Ce=lt?Be!==null?Be+"Capture":null:Be;lt=[];for(var ge=Le,je;ge!==null;){je=ge;var He=je.stateNode;if(je.tag===5&&He!==null&&(je=He,Ce!==null&&(He=ft(ge,Ce),He!=null&&lt.push(Dl(ge,He,je)))),Gr)break;ge=ge.return}0<lt.length&&(Be=new rt(Be,st,null,c,Ue),qe.push({event:Be,listeners:lt}))}}if((a&7)===0){e:{if(Be=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",Be&&c!==Gt&&(st=c.relatedTarget||c.fromElement)&&(ta(st)||st[fn]))break e;if((rt||Be)&&(Be=Ue.window===Ue?Ue:(Be=Ue.ownerDocument)?Be.defaultView||Be.parentWindow:window,rt?(st=c.relatedTarget||c.toElement,rt=Le,st=st?ta(st):null,st!==null&&(Gr=tn(st),st!==Gr||st.tag!==5&&st.tag!==6)&&(st=null)):(rt=null,st=Le),rt!==st)){if(lt=xo,He="onMouseLeave",Ce="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(lt=zt,He="onPointerLeave",Ce="onPointerEnter",ge="pointer"),Gr=rt==null?Be:Da(rt),je=st==null?Be:Da(st),Be=new lt(He,ge+"leave",rt,c,Ue),Be.target=Gr,Be.relatedTarget=je,He=null,ta(Ue)===Le&&(lt=new lt(Ce,ge+"enter",st,c,Ue),lt.target=je,lt.relatedTarget=Gr,He=lt),Gr=He,rt&&st)t:{for(lt=rt,Ce=st,ge=0,je=lt;je;je=Fa(je))ge++;for(je=0,He=Ce;He;He=Fa(He))je++;for(;0<ge-je;)lt=Fa(lt),ge--;for(;0<je-ge;)Ce=Fa(Ce),je--;for(;ge--;){if(lt===Ce||Ce!==null&&lt===Ce.alternate)break t;lt=Fa(lt),Ce=Fa(Ce)}lt=null}else lt=null;rt!==null&&Nd(qe,Be,rt,lt,!1),st!==null&&Gr!==null&&Nd(qe,Gr,st,lt,!0)}}e:{if(Be=Le?Da(Le):window,rt=Be.nodeName&&Be.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Be.type==="file")var ct=Lo;else if(jo(Be))if(Al)ct=Po;else{ct=ds;var vt=Xs}else(rt=Be.nodeName)&&rt.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(ct=hs);if(ct&&(ct=ct(i,Le))){kn(qe,ct,c,Ue);break e}vt&&vt(i,Be,Le),i==="focusout"&&(vt=Be._wrapperState)&&vt.controlled&&Be.type==="number"&&ze(Be,"number",Be.value)}switch(vt=Le?Da(Le):window,i){case"focusin":(jo(vt)||vt.contentEditable==="true")&&(oi=vt,gs=Le,Ki=null);break;case"focusout":Ki=gs=oi=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,vs(qe,c,Ue);break;case"selectionchange":if(Ea)break;case"keydown":case"keyup":vs(qe,c,Ue)}var yt;if(vi)e:{switch(i){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else Rr?ko(i,c)&&(At="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(At="onCompositionStart");At&&(bo&&c.locale!=="ko"&&(Rr||At!=="onCompositionStart"?At==="onCompositionEnd"&&Rr&&(yt=_c()):(Di=Ue,gi="value"in Di?Di.value:Di.textContent,Rr=!0)),vt=jc(Le,At),0<vt.length&&(At=new J(At,i,null,c,Ue),qe.push({event:At,listeners:vt}),yt?At.data=yt:(yt=Na(c),yt!==null&&(At.data=yt)))),(yt=Ll?Co(i,c):So(i,c))&&(Le=jc(Le,"onBeforeInput"),0<Le.length&&(Ue=new J("onBeforeInput","beforeinput",null,c,Ue),qe.push({event:Ue,listeners:Le}),Ue.data=yt))}Il(qe,a)})}function Dl(i,a,c){return{instance:i,listener:a,currentTarget:c}}function jc(i,a){for(var c=a+"Capture",p=[];i!==null;){var w=i,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=ft(i,c),k!=null&&p.unshift(Dl(i,k,w)),k=ft(i,a),k!=null&&p.push(Dl(i,k,w))),i=i.return}return p}function Fa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Nd(i,a,c,p,w){for(var k=a._reactName,R=[];c!==null&&c!==p;){var X=c,ce=X.alternate,Le=X.stateNode;if(ce!==null&&ce===p)break;X.tag===5&&Le!==null&&(X=Le,w?(ce=ft(c,k),ce!=null&&R.unshift(Dl(c,ce,X))):w||(ce=ft(c,k),ce!=null&&R.push(Dl(c,ce,X)))),c=c.return}R.length!==0&&i.push({event:a,listeners:R})}var Zh=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function jd(i){return(typeof i=="string"?i:""+i).replace(Zh,`
`).replace(Gh,"")}function Lc(i,a,c){if(a=jd(a),jd(i)!==a&&c)throw Error(t(425))}function Fo(){}var Ol=null,Ra=null;function _u(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,Ld=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(i){return Ad.resolve(null).then(i).catch(Jh)}:ku;function Jh(i){setTimeout(function(){throw i})}function Cu(i,a){var c=a,p=0;do{var w=c.nextSibling;if(i.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){i.removeChild(w),Ri(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);Ri(a)}function jn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function xi(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),es="__reactFiber$"+Bn,Ro="__reactProps$"+Bn,fn="__reactContainer$"+Bn,Un="__reactEvents$"+Bn,Kh="__reactListeners$"+Bn,Xh="__reactHandles$"+Bn;function ta(i){var a=i[es];if(a)return a;for(var c=i.parentNode;c;){if(a=c[fn]||c[es]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=xi(i);i!==null;){if(c=i[es])return c;i=xi(i)}return a}i=c,c=i.parentNode}return null}function Do(i){return i=i[es]||i[fn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Da(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ml(i){return i[Ro]||null}var Su=[],ys=-1;function Bi(i){return{current:i}}function ar(i){0>ys||(i.current=Su[ys],Su[ys]=null,ys--)}function cr(i,a){ys++,Su[ys]=i.current,i.current=a}var ra={},nn=Bi(ra),zn=Bi(!1),Oa=ra;function Oo(i,a){var c=i.type.contextTypes;if(!c)return ra;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in c)w[k]=a[k];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=w),w}function qn(i){return i=i.childContextTypes,i!=null}function Ac(){ar(zn),ar(nn)}function Pd(i,a,c){if(nn.current!==ra)throw Error(t(168));cr(nn,a),cr(zn,c)}function Nu(i,a,c){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in a))throw Error(t(108,K(i)||"Unknown",w));return I({},c,p)}function Ma(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ra,Oa=nn.current,cr(nn,i),cr(zn,zn.current),!0}function Ed(i,a,c){var p=i.stateNode;if(!p)throw Error(t(169));c?(i=Nu(i,a,Oa),p.__reactInternalMemoizedMergedChildContext=i,ar(zn),ar(nn),cr(nn,i)):ar(zn),cr(zn,c)}var xs=null,Bl=!1,d=!1;function g(i){xs===null?xs=[i]:xs.push(i)}function _(i){Bl=!0,g(i)}function S(){if(!d&&xs!==null){d=!0;var i=0,a=er;try{var c=xs;for(er=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}xs=null,Bl=!1}catch(w){throw xs!==null&&(xs=xs.slice(i+1)),ha(Us,S),w}finally{er=a,d=!1}}return null}var P=[],F=0,O=null,U=0,q=[],Z=0,le=null,be=1,_e="";function ve(i,a){P[F++]=U,P[F++]=O,O=i,U=a}function Re(i,a,c){q[Z++]=be,q[Z++]=_e,q[Z++]=le,le=i;var p=be;i=_e;var w=32-ni(p)-1;p&=~(1<<w),c+=1;var k=32-ni(a)+w;if(30<k){var R=w-w%5;k=(p&(1<<R)-1).toString(32),p>>=R,w-=R,be=1<<32-ni(a)+w|c<<w|p,_e=k+i}else be=1<<k|c<<w|p,_e=i}function Ae(i){i.return!==null&&(ve(i,1),Re(i,1,0))}function he(i){for(;i===O;)O=P[--F],P[F]=null,U=P[--F],P[F]=null;for(;i===le;)le=q[--Z],q[Z]=null,_e=q[--Z],q[Z]=null,be=q[--Z],q[Z]=null}var fe=null,Te=null,Ee=!1,Fe=null;function et(i,a){var c=ss(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Ze(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,fe=i,Te=jn(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,fe=i,Te=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=le!==null?{id:be,overflow:_e}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ss(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,fe=i,Te=null,!0):!1;default:return!1}}function pt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ye(i){if(Ee){var a=Te;if(a){var c=a;if(!Ze(i,a)){if(pt(i))throw Error(t(418));a=jn(c.nextSibling);var p=fe;a&&Ze(i,a)?et(p,c):(i.flags=i.flags&-4097|2,Ee=!1,fe=i)}}else{if(pt(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ee=!1,fe=i}}}function Yt(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fe=i}function Jt(i){if(i!==fe)return!1;if(!Ee)return Yt(i),Ee=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!_u(i.type,i.memoizedProps)),a&&(a=Te)){if(pt(i))throw Ht(),Error(t(418));for(;a;)et(i,a),a=jn(a.nextSibling)}if(Yt(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Te=jn(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Te=null}}else Te=fe?jn(i.stateNode.nextSibling):null;return!0}function Ht(){for(var i=Te;i;)i=jn(i.nextSibling)}function Rt(){Te=fe=null,Ee=!1}function or(i){Fe===null?Fe=[i]:Fe.push(i)}var ur=Y.ReactCurrentBatchConfig;function gt(i,a){if(i&&i.defaultProps){a=I({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}var Er=Bi(null),sn=null,yr=null,pn=null;function rr(){pn=yr=sn=null}function Ln(i){var a=Er.current;ar(Er),i._currentValue=a}function An(i,a,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===c)break;i=i.return}}function Tr(i,a){sn=i,pn=yr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(ki=!0),i.firstContext=null)}function dr(i){var a=i._currentValue;if(pn!==i)if(i={context:i,memoizedValue:a,next:null},yr===null){if(sn===null)throw Error(t(308));yr=i,sn.dependencies={lanes:0,firstContext:i}}else yr=yr.next=i;return a}var Mr=null;function $n(i){Mr===null?Mr=[i]:Mr.push(i)}function Ui(i,a,c,p){var w=a.interleaved;return w===null?(c.next=c,$n(a)):(c.next=w.next,w.next=c),a.interleaved=c,vr(i,p)}function vr(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var gn=!1;function ws(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mn(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function lr(i,a,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(nr&2)!==0){var w=p.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),p.pending=a,vr(i,c)}return w=p.interleaved,w===null?(a.next=a,$n(p)):(a.next=w.next,w.next=a),p.interleaved=a,vr(i,c)}function Mo(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,co(i,c)}}function ju(i,a){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?w=k=R:k=k.next=R,c=c.next}while(c!==null);k===null?w=k=a:k=k.next=a}else w=k=a;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Ul(i,a,c,p){var w=i.updateQueue;gn=!1;var k=w.firstBaseUpdate,R=w.lastBaseUpdate,X=w.shared.pending;if(X!==null){w.shared.pending=null;var ce=X,Le=ce.next;ce.next=null,R===null?k=Le:R.next=Le,R=ce;var Ue=i.alternate;Ue!==null&&(Ue=Ue.updateQueue,X=Ue.lastBaseUpdate,X!==R&&(X===null?Ue.firstBaseUpdate=Le:X.next=Le,Ue.lastBaseUpdate=ce))}if(k!==null){var qe=w.baseState;R=0,Ue=Le=ce=null,X=k;do{var Be=X.lane,rt=X.eventTime;if((p&Be)===Be){Ue!==null&&(Ue=Ue.next={eventTime:rt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var st=i,lt=X;switch(Be=a,rt=c,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){qe=st.call(rt,qe,Be);break e}qe=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,Be=typeof st=="function"?st.call(rt,qe,Be):st,Be==null)break e;qe=I({},qe,Be);break e;case 2:gn=!0}}X.callback!==null&&X.lane!==0&&(i.flags|=64,Be=w.effects,Be===null?w.effects=[X]:Be.push(X))}else rt={eventTime:rt,lane:Be,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ue===null?(Le=Ue=rt,ce=qe):Ue=Ue.next=rt,R|=Be;if(X=X.next,X===null){if(X=w.shared.pending,X===null)break;Be=X,X=Be.next,Be.next=null,w.lastBaseUpdate=Be,w.shared.pending=null}}while(!0);if(Ue===null&&(ce=qe),w.baseState=ce,w.firstBaseUpdate=Le,w.lastBaseUpdate=Ue,a=w.shared.interleaved,a!==null){w=a;do R|=w.lane,w=w.next;while(w!==a)}else k===null&&(w.shared.lanes=0);Xl|=R,i.lanes=R,i.memoizedState=qe}}function zl(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(t(191,w));w.call(p)}}}var Bo=new r.Component().refs;function Uo(i,a,c,p){a=i.memoizedState,c=c(p,a),c=c==null?a:I({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Hn={isMounted:function(i){return(i=i._reactInternals)?tn(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var p=ci(),w=Go(i),k=mn(p,w);k.payload=a,c!=null&&(k.callback=c),a=lr(i,k,w),a!==null&&(Ns(a,i,w,p),Mo(a,i,w))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var p=ci(),w=Go(i),k=mn(p,w);k.tag=1,k.payload=a,c!=null&&(k.callback=c),a=lr(i,k,w),a!==null&&(Ns(a,i,w,p),Mo(a,i,w))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=ci(),p=Go(i),w=mn(c,p);w.tag=2,a!=null&&(w.callback=a),a=lr(i,w,p),a!==null&&(Ns(a,i,p,c),Mo(a,i,p))}};function Ua(i,a,c,p,w,k,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,k,R):a.prototype&&a.prototype.isPureReactComponent?!ps(c,p)||!ps(w,k):!0}function za(i,a,c){var p=!1,w=ra,k=a.contextType;return typeof k=="object"&&k!==null?k=dr(k):(w=qn(a)?Oa:nn.current,p=a.contextTypes,k=(p=p!=null)?Oo(i,w):ra),a=new a(c,k),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Hn,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=k),a}function Lu(i,a,c,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==i&&Hn.enqueueReplaceState(a,a.state,null)}function zo(i,a,c,p){var w=i.stateNode;w.props=c,w.state=i.memoizedState,w.refs=Bo,ws(i);var k=a.contextType;typeof k=="object"&&k!==null?w.context=dr(k):(k=qn(a)?Oa:nn.current,w.context=Oo(i,k)),w.state=i.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(Uo(i,a,k,c),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&Hn.enqueueReplaceState(w,w.state,null),Ul(i,c,w,p),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function qo(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,i));var w=p,k=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(R){var X=w.refs;X===Bo&&(X=w.refs={}),R===null?delete X[k]:X[k]=R},a._stringRef=k,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function qa(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Pc(i){var a=i._init;return a(i._payload)}function ql(i){function a(Ce,ge){if(i){var je=Ce.deletions;je===null?(Ce.deletions=[ge],Ce.flags|=16):je.push(ge)}}function c(Ce,ge){if(!i)return null;for(;ge!==null;)a(Ce,ge),ge=ge.sibling;return null}function p(Ce,ge){for(Ce=new Map;ge!==null;)ge.key!==null?Ce.set(ge.key,ge):Ce.set(ge.index,ge),ge=ge.sibling;return Ce}function w(Ce,ge){return Ce=Jo(Ce,ge),Ce.index=0,Ce.sibling=null,Ce}function k(Ce,ge,je){return Ce.index=je,i?(je=Ce.alternate,je!==null?(je=je.index,je<ge?(Ce.flags|=2,ge):je):(Ce.flags|=2,ge)):(Ce.flags|=1048576,ge)}function R(Ce){return i&&Ce.alternate===null&&(Ce.flags|=2),Ce}function X(Ce,ge,je,He){return ge===null||ge.tag!==6?(ge=Nf(je,Ce.mode,He),ge.return=Ce,ge):(ge=w(ge,je),ge.return=Ce,ge)}function ce(Ce,ge,je,He){var ct=je.type;return ct===ue?Ue(Ce,ge,je.props.children,He,je.key):ge!==null&&(ge.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ke&&Pc(ct)===ge.type)?(He=w(ge,je.props),He.ref=qo(Ce,ge,je),He.return=Ce,He):(He=Jd(je.type,je.key,je.props,null,Ce.mode,He),He.ref=qo(Ce,ge,je),He.return=Ce,He)}function Le(Ce,ge,je,He){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==je.containerInfo||ge.stateNode.implementation!==je.implementation?(ge=jf(je,Ce.mode,He),ge.return=Ce,ge):(ge=w(ge,je.children||[]),ge.return=Ce,ge)}function Ue(Ce,ge,je,He,ct){return ge===null||ge.tag!==7?(ge=rc(je,Ce.mode,He,ct),ge.return=Ce,ge):(ge=w(ge,je),ge.return=Ce,ge)}function qe(Ce,ge,je){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Nf(""+ge,Ce.mode,je),ge.return=Ce,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case ne:return je=Jd(ge.type,ge.key,ge.props,null,Ce.mode,je),je.ref=qo(Ce,null,ge),je.return=Ce,je;case we:return ge=jf(ge,Ce.mode,je),ge.return=Ce,ge;case ke:var He=ge._init;return qe(Ce,He(ge._payload),je)}if(We(ge)||se(ge))return ge=rc(ge,Ce.mode,je,null),ge.return=Ce,ge;qa(Ce,ge)}return null}function Be(Ce,ge,je,He){var ct=ge!==null?ge.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return ct!==null?null:X(Ce,ge,""+je,He);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case ne:return je.key===ct?ce(Ce,ge,je,He):null;case we:return je.key===ct?Le(Ce,ge,je,He):null;case ke:return ct=je._init,Be(Ce,ge,ct(je._payload),He)}if(We(je)||se(je))return ct!==null?null:Ue(Ce,ge,je,He,null);qa(Ce,je)}return null}function rt(Ce,ge,je,He,ct){if(typeof He=="string"&&He!==""||typeof He=="number")return Ce=Ce.get(je)||null,X(ge,Ce,""+He,ct);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case ne:return Ce=Ce.get(He.key===null?je:He.key)||null,ce(ge,Ce,He,ct);case we:return Ce=Ce.get(He.key===null?je:He.key)||null,Le(ge,Ce,He,ct);case ke:var vt=He._init;return rt(Ce,ge,je,vt(He._payload),ct)}if(We(He)||se(He))return Ce=Ce.get(je)||null,Ue(ge,Ce,He,ct,null);qa(ge,He)}return null}function st(Ce,ge,je,He){for(var ct=null,vt=null,yt=ge,At=ge=0,yn=null;yt!==null&&At<je.length;At++){yt.index>At?(yn=yt,yt=null):yn=yt.sibling;var ir=Be(Ce,yt,je[At],He);if(ir===null){yt===null&&(yt=yn);break}i&&yt&&ir.alternate===null&&a(Ce,yt),ge=k(ir,ge,At),vt===null?ct=ir:vt.sibling=ir,vt=ir,yt=yn}if(At===je.length)return c(Ce,yt),Ee&&ve(Ce,At),ct;if(yt===null){for(;At<je.length;At++)yt=qe(Ce,je[At],He),yt!==null&&(ge=k(yt,ge,At),vt===null?ct=yt:vt.sibling=yt,vt=yt);return Ee&&ve(Ce,At),ct}for(yt=p(Ce,yt);At<je.length;At++)yn=rt(yt,Ce,At,je[At],He),yn!==null&&(i&&yn.alternate!==null&&yt.delete(yn.key===null?At:yn.key),ge=k(yn,ge,At),vt===null?ct=yn:vt.sibling=yn,vt=yn);return i&&yt.forEach(function(Ko){return a(Ce,Ko)}),Ee&&ve(Ce,At),ct}function lt(Ce,ge,je,He){var ct=se(je);if(typeof ct!="function")throw Error(t(150));if(je=ct.call(je),je==null)throw Error(t(151));for(var vt=ct=null,yt=ge,At=ge=0,yn=null,ir=je.next();yt!==null&&!ir.done;At++,ir=je.next()){yt.index>At?(yn=yt,yt=null):yn=yt.sibling;var Ko=Be(Ce,yt,ir.value,He);if(Ko===null){yt===null&&(yt=yn);break}i&&yt&&Ko.alternate===null&&a(Ce,yt),ge=k(Ko,ge,At),vt===null?ct=Ko:vt.sibling=Ko,vt=Ko,yt=yn}if(ir.done)return c(Ce,yt),Ee&&ve(Ce,At),ct;if(yt===null){for(;!ir.done;At++,ir=je.next())ir=qe(Ce,ir.value,He),ir!==null&&(ge=k(ir,ge,At),vt===null?ct=ir:vt.sibling=ir,vt=ir);return Ee&&ve(Ce,At),ct}for(yt=p(Ce,yt);!ir.done;At++,ir=je.next())ir=rt(yt,Ce,At,ir.value,He),ir!==null&&(i&&ir.alternate!==null&&yt.delete(ir.key===null?At:ir.key),ge=k(ir,ge,At),vt===null?ct=ir:vt.sibling=ir,vt=ir);return i&&yt.forEach(function(um){return a(Ce,um)}),Ee&&ve(Ce,At),ct}function Gr(Ce,ge,je,He){if(typeof je=="object"&&je!==null&&je.type===ue&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case ne:e:{for(var ct=je.key,vt=ge;vt!==null;){if(vt.key===ct){if(ct=je.type,ct===ue){if(vt.tag===7){c(Ce,vt.sibling),ge=w(vt,je.props.children),ge.return=Ce,Ce=ge;break e}}else if(vt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ke&&Pc(ct)===vt.type){c(Ce,vt.sibling),ge=w(vt,je.props),ge.ref=qo(Ce,vt,je),ge.return=Ce,Ce=ge;break e}c(Ce,vt);break}else a(Ce,vt);vt=vt.sibling}je.type===ue?(ge=rc(je.props.children,Ce.mode,He,je.key),ge.return=Ce,Ce=ge):(He=Jd(je.type,je.key,je.props,null,Ce.mode,He),He.ref=qo(Ce,ge,je),He.return=Ce,Ce=He)}return R(Ce);case we:e:{for(vt=je.key;ge!==null;){if(ge.key===vt)if(ge.tag===4&&ge.stateNode.containerInfo===je.containerInfo&&ge.stateNode.implementation===je.implementation){c(Ce,ge.sibling),ge=w(ge,je.children||[]),ge.return=Ce,Ce=ge;break e}else{c(Ce,ge);break}else a(Ce,ge);ge=ge.sibling}ge=jf(je,Ce.mode,He),ge.return=Ce,Ce=ge}return R(Ce);case ke:return vt=je._init,Gr(Ce,ge,vt(je._payload),He)}if(We(je))return st(Ce,ge,je,He);if(se(je))return lt(Ce,ge,je,He);qa(Ce,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,ge!==null&&ge.tag===6?(c(Ce,ge.sibling),ge=w(ge,je),ge.return=Ce,Ce=ge):(c(Ce,ge),ge=Nf(je,Ce.mode,He),ge.return=Ce,Ce=ge),R(Ce)):c(Ce,ge)}return Gr}var ts=ql(!0),Td=ql(!1),$l={},wi=Bi($l),bi=Bi($l),Hl=Bi($l);function $a(i){if(i===$l)throw Error(t(174));return i}function Au(i,a){switch(cr(Hl,a),cr(bi,i),cr(wi,$l),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ut(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Ut(a,i)}ar(wi),cr(wi,a)}function Ha(){ar(wi),ar(bi),ar(Hl)}function Wl(i){$a(Hl.current);var a=$a(wi.current),c=Ut(a,i.type);a!==c&&(cr(bi,i),cr(wi,c))}function Ec(i){bi.current===i&&(ar(wi),ar(bi))}var _r=Bi(0);function Wa(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vl=[];function Va(){for(var i=0;i<Vl.length;i++)Vl[i]._workInProgressVersionPrimary=null;Vl.length=0}var Zl=Y.ReactCurrentDispatcher,Pu=Y.ReactCurrentBatchConfig,rs=0,kr=null,Br=null,xr=null,Gl=!1,$o=!1,Yl=0,Id=0;function Ur(){throw Error(t(321))}function Eu(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!tr(i[c],a[c]))return!1;return!0}function Tc(i,a,c,p,w,k){if(rs=k,kr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zl.current=i===null||i.memoizedState===null?D5:O5,i=c(p,w),$o){k=0;do{if($o=!1,Yl=0,25<=k)throw Error(t(301));k+=1,xr=Br=null,a.updateQueue=null,Zl.current=M5,i=c(p,w)}while($o)}if(Zl.current=Od,a=Br!==null&&Br.next!==null,rs=0,xr=Br=kr=null,Gl=!1,a)throw Error(t(300));return i}function Tu(){var i=Yl!==0;return Yl=0,i}function zi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?kr.memoizedState=xr=i:xr=xr.next=i,xr}function _i(){if(Br===null){var i=kr.alternate;i=i!==null?i.memoizedState:null}else i=Br.next;var a=xr===null?kr.memoizedState:xr.next;if(a!==null)xr=a,Br=i;else{if(i===null)throw Error(t(310));Br=i,i={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},xr===null?kr.memoizedState=xr=i:xr=xr.next=i}return xr}function bs(i,a){return typeof a=="function"?a(i):a}function Jl(i){var a=_i(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=Br,w=p.baseQueue,k=c.pending;if(k!==null){if(w!==null){var R=w.next;w.next=k.next,k.next=R}p.baseQueue=w=k,c.pending=null}if(w!==null){k=w.next,p=p.baseState;var X=R=null,ce=null,Le=k;do{var Ue=Le.lane;if((rs&Ue)===Ue)ce!==null&&(ce=ce.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),p=Le.hasEagerState?Le.eagerState:i(p,Le.action);else{var qe={lane:Ue,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ce===null?(X=ce=qe,R=p):ce=ce.next=qe,kr.lanes|=Ue,Xl|=Ue}Le=Le.next}while(Le!==null&&Le!==k);ce===null?R=p:ce.next=X,tr(p,a.memoizedState)||(ki=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=ce,c.lastRenderedState=p}if(i=c.interleaved,i!==null){w=i;do k=w.lane,kr.lanes|=k,Xl|=k,w=w.next;while(w!==i)}else w===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Ho(i){var a=_i(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=c.dispatch,w=c.pending,k=a.memoizedState;if(w!==null){c.pending=null;var R=w=w.next;do k=i(k,R.action),R=R.next;while(R!==w);tr(k,a.memoizedState)||(ki=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),c.lastRenderedState=k}return[k,p]}function ns(){}function _s(i,a){var c=kr,p=_i(),w=a(),k=!tr(p.memoizedState,w);if(k&&(p.memoizedState=w,ki=!0),p=p.queue,Qh(Ic.bind(null,c,p,i),[i]),p.getSnapshot!==a||k||xr!==null&&xr.memoizedState.tag&1){if(c.flags|=2048,Za(9,Kl.bind(null,c,p,w,a),void 0,null),vn===null)throw Error(t(349));(rs&30)!==0||ks(c,a,w)}return w}function ks(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=kr.updateQueue,a===null?(a={lastEffect:null,stores:null},kr.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Kl(i,a,c,p){a.value=c,a.getSnapshot=p,Iu(a)&&Fd(i)}function Ic(i,a,c){return c(function(){Iu(a)&&Fd(i)})}function Iu(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!tr(i,c)}catch{return!0}}function Fd(i){var a=vr(i,1);a!==null&&Ns(a,i,1,-1)}function Fc(i){var a=zi();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:i},a.queue=i,i=i.dispatch=R5.bind(null,kr,i),[a.memoizedState,i]}function Za(i,a,c,p){return i={tag:i,create:a,destroy:c,deps:p,next:null},a=kr.updateQueue,a===null?(a={lastEffect:null,stores:null},kr.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,a.lastEffect=i)),i}function o0(){return _i().memoizedState}function Rd(i,a,c,p){var w=zi();kr.flags|=i,w.memoizedState=Za(1|a,c,void 0,p===void 0?null:p)}function Dd(i,a,c,p){var w=_i();p=p===void 0?null:p;var k=void 0;if(Br!==null){var R=Br.memoizedState;if(k=R.destroy,p!==null&&Eu(p,R.deps)){w.memoizedState=Za(a,c,k,p);return}}kr.flags|=i,w.memoizedState=Za(1|a,c,k,p)}function l0(i,a){return Rd(8390656,8,i,a)}function Qh(i,a){return Dd(2048,8,i,a)}function c0(i,a){return Dd(4,2,i,a)}function u0(i,a){return Dd(4,4,i,a)}function d0(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function h0(i,a,c){return c=c!=null?c.concat([i]):null,Dd(4,4,d0.bind(null,a,i),c)}function ef(){}function f0(i,a){var c=_i();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Eu(a,p[1])?p[0]:(c.memoizedState=[i,a],i)}function p0(i,a){var c=_i();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Eu(a,p[1])?p[0]:(i=i(),c.memoizedState=[i,a],i)}function g0(i,a,c){return(rs&21)===0?(i.baseState&&(i.baseState=!1,ki=!0),i.memoizedState=c):(tr(c,a)||(c=xl(),kr.lanes|=c,Xl|=c,i.baseState=!0),a)}function I5(i,a){var c=er;er=c!==0&&4>c?c:4,i(!0);var p=Pu.transition;Pu.transition={};try{i(!1),a()}finally{er=c,Pu.transition=p}}function m0(){return _i().memoizedState}function F5(i,a,c){var p=Go(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},v0(i))y0(a,c);else if(c=Ui(i,a,c,p),c!==null){var w=ci();Ns(c,i,p,w),x0(c,a,p)}}function R5(i,a,c){var p=Go(i),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(v0(i))y0(a,w);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var R=a.lastRenderedState,X=k(R,c);if(w.hasEagerState=!0,w.eagerState=X,tr(X,R)){var ce=a.interleaved;ce===null?(w.next=w,$n(a)):(w.next=ce.next,ce.next=w),a.interleaved=w;return}}catch{}finally{}c=Ui(i,a,w,p),c!==null&&(w=ci(),Ns(c,i,p,w),x0(c,a,p))}}function v0(i){var a=i.alternate;return i===kr||a!==null&&a===kr}function y0(i,a){$o=Gl=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function x0(i,a,c){if((c&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,co(i,c)}}var Od={readContext:dr,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},D5={readContext:dr,useCallback:function(i,a){return zi().memoizedState=[i,a===void 0?null:a],i},useContext:dr,useEffect:l0,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Rd(4194308,4,d0.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Rd(4194308,4,i,a)},useInsertionEffect:function(i,a){return Rd(4,2,i,a)},useMemo:function(i,a){var c=zi();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var p=zi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=F5.bind(null,kr,i),[p.memoizedState,i]},useRef:function(i){var a=zi();return i={current:i},a.memoizedState=i},useState:Fc,useDebugValue:ef,useDeferredValue:function(i){return zi().memoizedState=i},useTransition:function(){var i=Fc(!1),a=i[0];return i=I5.bind(null,i[1]),zi().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var p=kr,w=zi();if(Ee){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),vn===null)throw Error(t(349));(rs&30)!==0||ks(p,a,c)}w.memoizedState=c;var k={value:c,getSnapshot:a};return w.queue=k,l0(Ic.bind(null,p,k,i),[i]),p.flags|=2048,Za(9,Kl.bind(null,p,k,c,a),void 0,null),c},useId:function(){var i=zi(),a=vn.identifierPrefix;if(Ee){var c=_e,p=be;c=(p&~(1<<32-ni(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Yl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Id++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},O5={readContext:dr,useCallback:f0,useContext:dr,useEffect:Qh,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:p0,useReducer:Jl,useRef:o0,useState:function(){return Jl(bs)},useDebugValue:ef,useDeferredValue:function(i){var a=_i();return g0(a,Br.memoizedState,i)},useTransition:function(){var i=Jl(bs)[0],a=_i().memoizedState;return[i,a]},useMutableSource:ns,useSyncExternalStore:_s,useId:m0,unstable_isNewReconciler:!1},M5={readContext:dr,useCallback:f0,useContext:dr,useEffect:Qh,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:p0,useReducer:Ho,useRef:o0,useState:function(){return Ho(bs)},useDebugValue:ef,useDeferredValue:function(i){var a=_i();return Br===null?a.memoizedState=i:g0(a,Br.memoizedState,i)},useTransition:function(){var i=Ho(bs)[0],a=_i().memoizedState;return[i,a]},useMutableSource:ns,useSyncExternalStore:_s,useId:m0,unstable_isNewReconciler:!1};function Rc(i,a){try{var c="",p=a;do c+=z(p),p=p.return;while(p);var w=c}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:a,stack:w,digest:null}}function tf(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function rf(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var B5=typeof WeakMap=="function"?WeakMap:Map;function w0(i,a,c){c=mn(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Hd||(Hd=!0,yf=p),rf(i,a)},c}function b0(i,a,c){c=mn(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var w=a.value;c.payload=function(){return p(w)},c.callback=function(){rf(i,a)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){rf(i,a),typeof p!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function _0(i,a,c){var p=i.pingCache;if(p===null){p=i.pingCache=new B5;var w=new Set;p.set(a,w)}else w=p.get(a),w===void 0&&(w=new Set,p.set(a,w));w.has(c)||(w.add(c),i=Q5.bind(null,i,a,c),a.then(i,i))}function k0(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function C0(i,a,c,p,w){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=mn(-1,1),a.tag=2,lr(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var U5=Y.ReactCurrentOwner,ki=!1;function li(i,a,c,p){a.child=i===null?Td(a,null,c,p):ts(a,i.child,c,p)}function S0(i,a,c,p,w){c=c.render;var k=a.ref;return Tr(a,w),p=Tc(i,a,c,p,k,w),c=Tu(),i!==null&&!ki?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Ga(i,a,w)):(Ee&&c&&Ae(a),a.flags|=1,li(i,a,p,w),a.child)}function N0(i,a,c,p,w){if(i===null){var k=c.type;return typeof k=="function"&&!Sf(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=k,j0(i,a,k,p,w)):(i=Jd(c.type,null,p,a,a.mode,w),i.ref=a.ref,i.return=a,a.child=i)}if(k=i.child,(i.lanes&w)===0){var R=k.memoizedProps;if(c=c.compare,c=c!==null?c:ps,c(R,p)&&i.ref===a.ref)return Ga(i,a,w)}return a.flags|=1,i=Jo(k,p),i.ref=a.ref,i.return=a,a.child=i}function j0(i,a,c,p,w){if(i!==null){var k=i.memoizedProps;if(ps(k,p)&&i.ref===a.ref)if(ki=!1,a.pendingProps=p=k,(i.lanes&w)!==0)(i.flags&131072)!==0&&(ki=!0);else return a.lanes=i.lanes,Ga(i,a,w)}return nf(i,a,c,p,w)}function L0(i,a,c){var p=a.pendingProps,w=p.children,k=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(Oc,qi),qi|=c;else{if((c&1073741824)===0)return i=k!==null?k.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,cr(Oc,qi),qi|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=k!==null?k.baseLanes:c,cr(Oc,qi),qi|=p}else k!==null?(p=k.baseLanes|c,a.memoizedState=null):p=c,cr(Oc,qi),qi|=p;return li(i,a,w,c),a.child}function A0(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function nf(i,a,c,p,w){var k=qn(c)?Oa:nn.current;return k=Oo(a,k),Tr(a,w),c=Tc(i,a,c,p,k,w),p=Tu(),i!==null&&!ki?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Ga(i,a,w)):(Ee&&p&&Ae(a),a.flags|=1,li(i,a,c,w),a.child)}function P0(i,a,c,p,w){if(qn(c)){var k=!0;Ma(a)}else k=!1;if(Tr(a,w),a.stateNode===null)Bd(i,a),za(a,c,p),zo(a,c,p,w),p=!0;else if(i===null){var R=a.stateNode,X=a.memoizedProps;R.props=X;var ce=R.context,Le=c.contextType;typeof Le=="object"&&Le!==null?Le=dr(Le):(Le=qn(c)?Oa:nn.current,Le=Oo(a,Le));var Ue=c.getDerivedStateFromProps,qe=typeof Ue=="function"||typeof R.getSnapshotBeforeUpdate=="function";qe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==p||ce!==Le)&&Lu(a,R,p,Le),gn=!1;var Be=a.memoizedState;R.state=Be,Ul(a,p,R,w),ce=a.memoizedState,X!==p||Be!==ce||zn.current||gn?(typeof Ue=="function"&&(Uo(a,c,Ue,p),ce=a.memoizedState),(X=gn||Ua(a,c,X,p,Be,ce,Le))?(qe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=ce),R.props=p,R.state=ce,R.context=Le,p=X):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,Ba(i,a),X=a.memoizedProps,Le=a.type===a.elementType?X:gt(a.type,X),R.props=Le,qe=a.pendingProps,Be=R.context,ce=c.contextType,typeof ce=="object"&&ce!==null?ce=dr(ce):(ce=qn(c)?Oa:nn.current,ce=Oo(a,ce));var rt=c.getDerivedStateFromProps;(Ue=typeof rt=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==qe||Be!==ce)&&Lu(a,R,p,ce),gn=!1,Be=a.memoizedState,R.state=Be,Ul(a,p,R,w);var st=a.memoizedState;X!==qe||Be!==st||zn.current||gn?(typeof rt=="function"&&(Uo(a,c,rt,p),st=a.memoizedState),(Le=gn||Ua(a,c,Le,p,Be,st,ce)||!1)?(Ue||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,st,ce),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,st,ce)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||X===i.memoizedProps&&Be===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Be===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=st),R.props=p,R.state=st,R.context=ce,p=Le):(typeof R.componentDidUpdate!="function"||X===i.memoizedProps&&Be===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Be===i.memoizedState||(a.flags|=1024),p=!1)}return sf(i,a,c,p,k,w)}function sf(i,a,c,p,w,k){A0(i,a);var R=(a.flags&128)!==0;if(!p&&!R)return w&&Ed(a,c,!1),Ga(i,a,k);p=a.stateNode,U5.current=a;var X=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&R?(a.child=ts(a,i.child,null,k),a.child=ts(a,null,X,k)):li(i,a,X,k),a.memoizedState=p.state,w&&Ed(a,c,!0),a.child}function E0(i){var a=i.stateNode;a.pendingContext?Pd(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Pd(i,a.context,!1),Au(i,a.containerInfo)}function T0(i,a,c,p,w){return Rt(),or(w),a.flags|=256,li(i,a,c,p),a.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(i){return{baseLanes:i,cachePool:null,transitions:null}}function I0(i,a,c){var p=a.pendingProps,w=_r.current,k=!1,R=(a.flags&128)!==0,X;if((X=R)||(X=i!==null&&i.memoizedState===null?!1:(w&2)!==0),X?(k=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),cr(_r,w&1),i===null)return Ye(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=p.children,i=p.fallback,k?(p=a.mode,k=a.child,R={mode:"hidden",children:R},(p&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=R):k=Kd(R,p,0,null),i=rc(i,p,c,null),k.return=a,i.return=a,k.sibling=i,a.child=k,a.child.memoizedState=of(c),a.memoizedState=af,i):lf(a,R));if(w=i.memoizedState,w!==null&&(X=w.dehydrated,X!==null))return z5(i,a,R,p,X,w,c);if(k){k=p.fallback,R=a.mode,w=i.child,X=w.sibling;var ce={mode:"hidden",children:p.children};return(R&1)===0&&a.child!==w?(p=a.child,p.childLanes=0,p.pendingProps=ce,a.deletions=null):(p=Jo(w,ce),p.subtreeFlags=w.subtreeFlags&14680064),X!==null?k=Jo(X,k):(k=rc(k,R,c,null),k.flags|=2),k.return=a,p.return=a,p.sibling=k,a.child=p,p=k,k=a.child,R=i.child.memoizedState,R=R===null?of(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},k.memoizedState=R,k.childLanes=i.childLanes&~c,a.memoizedState=af,p}return k=i.child,i=k.sibling,p=Jo(k,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=p,a.memoizedState=null,p}function lf(i,a){return a=Kd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Md(i,a,c,p){return p!==null&&or(p),ts(a,i.child,null,c),i=lf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function z5(i,a,c,p,w,k,R){if(c)return a.flags&256?(a.flags&=-257,p=tf(Error(t(422))),Md(i,a,R,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(k=p.fallback,w=a.mode,p=Kd({mode:"visible",children:p.children},w,0,null),k=rc(k,w,R,null),k.flags|=2,p.return=a,k.return=a,p.sibling=k,a.child=p,(a.mode&1)!==0&&ts(a,i.child,null,R),a.child.memoizedState=of(R),a.memoizedState=af,k);if((a.mode&1)===0)return Md(i,a,R,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var X=p.dgst;return p=X,k=Error(t(419)),p=tf(k,p,void 0),Md(i,a,R,p)}if(X=(R&i.childLanes)!==0,ki||X){if(p=vn,p!==null){switch(R&-R){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(p.suspendedLanes|R))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,vr(i,w),Ns(p,i,w,-1))}return Cf(),p=tf(Error(t(421))),Md(i,a,R,p)}return w.data==="$?"?(a.flags|=128,a.child=i.child,a=em.bind(null,i),w._reactRetry=a,null):(i=k.treeContext,Te=jn(w.nextSibling),fe=a,Ee=!0,Fe=null,i!==null&&(q[Z++]=be,q[Z++]=_e,q[Z++]=le,be=i.id,_e=i.overflow,le=a),a=lf(a,p.children),a.flags|=4096,a)}function F0(i,a,c){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),An(i.return,a,c)}function cf(i,a,c,p,w){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=c,k.tailMode=w)}function R0(i,a,c){var p=a.pendingProps,w=p.revealOrder,k=p.tail;if(li(i,a,p.children,c),p=_r.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F0(i,c,a);else if(i.tag===19)F0(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(cr(_r,p),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(c=a.child,w=null;c!==null;)i=c.alternate,i!==null&&Wa(i)===null&&(w=c),c=c.sibling;c=w,c===null?(w=a.child,a.child=null):(w=c.sibling,c.sibling=null),cf(a,!1,w,c,k);break;case"backwards":for(c=null,w=a.child,a.child=null;w!==null;){if(i=w.alternate,i!==null&&Wa(i)===null){a.child=w;break}i=w.sibling,w.sibling=c,c=w,w=i}cf(a,!0,c,null,k);break;case"together":cf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ga(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Xl|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=Jo(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Jo(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function q5(i,a,c){switch(a.tag){case 3:E0(a),Rt();break;case 5:Wl(a);break;case 1:qn(a.type)&&Ma(a);break;case 4:Au(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,w=a.memoizedProps.value;cr(Er,p._currentValue),p._currentValue=w;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(cr(_r,_r.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?I0(i,a,c):(cr(_r,_r.current&1),i=Ga(i,a,c),i!==null?i.sibling:null);cr(_r,_r.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(i.flags&128)!==0){if(p)return R0(i,a,c);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),cr(_r,_r.current),p)break;return null;case 22:case 23:return a.lanes=0,L0(i,a,c)}return Ga(i,a,c)}var D0,uf,O0,M0;D0=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},uf=function(){},O0=function(i,a,c,p){var w=i.memoizedProps;if(w!==p){i=a.stateNode,$a(wi.current);var k=null;switch(c){case"input":w=mt(i,w),p=mt(i,p),k=[];break;case"select":w=I({},w,{value:void 0}),p=I({},p,{value:void 0}),k=[];break;case"textarea":w=Ke(i,w),p=Ke(i,p),k=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Fo)}mr(c,p);var R;c=null;for(Le in w)if(!p.hasOwnProperty(Le)&&w.hasOwnProperty(Le)&&w[Le]!=null)if(Le==="style"){var X=w[Le];for(R in X)X.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(s.hasOwnProperty(Le)?k||(k=[]):(k=k||[]).push(Le,null));for(Le in p){var ce=p[Le];if(X=w!=null?w[Le]:void 0,p.hasOwnProperty(Le)&&ce!==X&&(ce!=null||X!=null))if(Le==="style")if(X){for(R in X)!X.hasOwnProperty(R)||ce&&ce.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in ce)ce.hasOwnProperty(R)&&X[R]!==ce[R]&&(c||(c={}),c[R]=ce[R])}else c||(k||(k=[]),k.push(Le,c)),c=ce;else Le==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,X=X?X.__html:void 0,ce!=null&&X!==ce&&(k=k||[]).push(Le,ce)):Le==="children"?typeof ce!="string"&&typeof ce!="number"||(k=k||[]).push(Le,""+ce):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(s.hasOwnProperty(Le)?(ce!=null&&Le==="onScroll"&&pr("scroll",i),k||X===ce||(k=[])):(k=k||[]).push(Le,ce))}c&&(k=k||[]).push("style",c);var Le=k;(a.updateQueue=Le)&&(a.flags|=4)}},M0=function(i,a,c,p){c!==p&&(a.flags|=4)};function Fu(i,a){if(!Ee)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Wn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(a)for(var w=i.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=p,i.childLanes=c,a}function $5(i,a,c){var p=a.pendingProps;switch(he(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(a),null;case 1:return qn(a.type)&&Ac(),Wn(a),null;case 3:return p=a.stateNode,Ha(),ar(zn),ar(nn),Va(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Jt(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fe!==null&&(bf(Fe),Fe=null))),uf(i,a),Wn(a),null;case 5:Ec(a);var w=$a(Hl.current);if(c=a.type,i!==null&&a.stateNode!=null)O0(i,a,c,p,w),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Wn(a),null}if(i=$a(wi.current),Jt(a)){p=a.stateNode,c=a.type;var k=a.memoizedProps;switch(p[es]=a,p[Ro]=k,i=(a.mode&1)!==0,c){case"dialog":pr("cancel",p),pr("close",p);break;case"iframe":case"object":case"embed":pr("load",p);break;case"video":case"audio":for(w=0;w<ea.length;w++)pr(ea[w],p);break;case"source":pr("error",p);break;case"img":case"image":case"link":pr("error",p),pr("load",p);break;case"details":pr("toggle",p);break;case"input":Ie(p,k),pr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!k.multiple},pr("invalid",p);break;case"textarea":ut(p,k),pr("invalid",p)}mr(c,k),w=null;for(var R in k)if(k.hasOwnProperty(R)){var X=k[R];R==="children"?typeof X=="string"?p.textContent!==X&&(k.suppressHydrationWarning!==!0&&Lc(p.textContent,X,i),w=["children",X]):typeof X=="number"&&p.textContent!==""+X&&(k.suppressHydrationWarning!==!0&&Lc(p.textContent,X,i),w=["children",""+X]):s.hasOwnProperty(R)&&X!=null&&R==="onScroll"&&pr("scroll",p)}switch(c){case"input":Oe(p),ot(p,k,!0);break;case"textarea":Oe(p),Tt(p);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(p.onclick=Fo)}p=w,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Mt(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=R.createElement(c,{is:p.is}):(i=R.createElement(c),c==="select"&&(R=i,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):i=R.createElementNS(i,c),i[es]=a,i[Ro]=p,D0(i,a,!1,!1),a.stateNode=i;e:{switch(R=hi(c,p),c){case"dialog":pr("cancel",i),pr("close",i),w=p;break;case"iframe":case"object":case"embed":pr("load",i),w=p;break;case"video":case"audio":for(w=0;w<ea.length;w++)pr(ea[w],i);w=p;break;case"source":pr("error",i),w=p;break;case"img":case"image":case"link":pr("error",i),pr("load",i),w=p;break;case"details":pr("toggle",i),w=p;break;case"input":Ie(i,p),w=mt(i,p),pr("invalid",i);break;case"option":w=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},w=I({},p,{value:void 0}),pr("invalid",i);break;case"textarea":ut(i,p),w=Ke(i,p),pr("invalid",i);break;default:w=p}mr(c,w),X=w;for(k in X)if(X.hasOwnProperty(k)){var ce=X[k];k==="style"?di(i,ce):k==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&bt(i,ce)):k==="children"?typeof ce=="string"?(c!=="textarea"||ce!=="")&&Ft(i,ce):typeof ce=="number"&&Ft(i,""+ce):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?ce!=null&&k==="onScroll"&&pr("scroll",i):ce!=null&&H(i,k,ce,R))}switch(c){case"input":Oe(i),ot(i,p,!1);break;case"textarea":Oe(i),Tt(i);break;case"option":p.value!=null&&i.setAttribute("value",""+de(p.value));break;case"select":i.multiple=!!p.multiple,k=p.value,k!=null?Je(i,!!p.multiple,k,!1):p.defaultValue!=null&&Je(i,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Fo)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Wn(a),null;case 6:if(i&&a.stateNode!=null)M0(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=$a(Hl.current),$a(wi.current),Jt(a)){if(p=a.stateNode,c=a.memoizedProps,p[es]=a,(k=p.nodeValue!==c)&&(i=fe,i!==null))switch(i.tag){case 3:Lc(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lc(p.nodeValue,c,(i.mode&1)!==0)}k&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[es]=a,a.stateNode=p}return Wn(a),null;case 13:if(ar(_r),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ee&&Te!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ht(),Rt(),a.flags|=98560,k=!1;else if(k=Jt(a),p!==null&&p.dehydrated!==null){if(i===null){if(!k)throw Error(t(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[es]=a}else Rt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wn(a),k=!1}else Fe!==null&&(bf(Fe),Fe=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(_r.current&1)!==0?an===0&&(an=3):Cf())),a.updateQueue!==null&&(a.flags|=4),Wn(a),null);case 4:return Ha(),uf(i,a),i===null&&Ia(a.stateNode.containerInfo),Wn(a),null;case 10:return Ln(a.type._context),Wn(a),null;case 17:return qn(a.type)&&Ac(),Wn(a),null;case 19:if(ar(_r),k=a.memoizedState,k===null)return Wn(a),null;if(p=(a.flags&128)!==0,R=k.rendering,R===null)if(p)Fu(k,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(R=Wa(i),R!==null){for(a.flags|=128,Fu(k,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)k=c,i=p,k.flags&=14680066,R=k.alternate,R===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=R.childLanes,k.lanes=R.lanes,k.child=R.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=R.memoizedProps,k.memoizedState=R.memoizedState,k.updateQueue=R.updateQueue,k.type=R.type,i=R.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return cr(_r,_r.current&1|2),a.child}i=i.sibling}k.tail!==null&&Lr()>Mc&&(a.flags|=128,p=!0,Fu(k,!1),a.lanes=4194304)}else{if(!p)if(i=Wa(R),i!==null){if(a.flags|=128,p=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Fu(k,!0),k.tail===null&&k.tailMode==="hidden"&&!R.alternate&&!Ee)return Wn(a),null}else 2*Lr()-k.renderingStartTime>Mc&&c!==1073741824&&(a.flags|=128,p=!0,Fu(k,!1),a.lanes=4194304);k.isBackwards?(R.sibling=a.child,a.child=R):(c=k.last,c!==null?c.sibling=R:a.child=R,k.last=R)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=Lr(),a.sibling=null,c=_r.current,cr(_r,p?c&1|2:c&1),a):(Wn(a),null);case 22:case 23:return kf(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(qi&1073741824)!==0&&(Wn(a),a.subtreeFlags&6&&(a.flags|=8192)):Wn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function H5(i,a){switch(he(a),a.tag){case 1:return qn(a.type)&&Ac(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ha(),ar(zn),ar(nn),Va(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Ec(a),null;case 13:if(ar(_r),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Rt()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ar(_r),null;case 4:return Ha(),null;case 10:return Ln(a.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var Ud=!1,Vn=!1,W5=typeof WeakSet=="function"?WeakSet:Set,it=null;function Dc(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Wr(i,a,p)}else c.current=null}function df(i,a,c){try{c()}catch(p){Wr(i,a,p)}}var B0=!1;function V5(i,a){if(Ol=go,i=Pl(),Aa(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,k=p.focusNode;p=p.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var R=0,X=-1,ce=-1,Le=0,Ue=0,qe=i,Be=null;t:for(;;){for(var rt;qe!==c||w!==0&&qe.nodeType!==3||(X=R+w),qe!==k||p!==0&&qe.nodeType!==3||(ce=R+p),qe.nodeType===3&&(R+=qe.nodeValue.length),(rt=qe.firstChild)!==null;)Be=qe,qe=rt;for(;;){if(qe===i)break t;if(Be===c&&++Le===w&&(X=R),Be===k&&++Ue===p&&(ce=R),(rt=qe.nextSibling)!==null)break;qe=Be,Be=qe.parentNode}qe=rt}c=X===-1||ce===-1?null:{start:X,end:ce}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ra={focusedElem:i,selectionRange:c},go=!1,it=a;it!==null;)if(a=it,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,it=i;else for(;it!==null;){a=it;try{var st=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,Gr=st.memoizedState,Ce=a.stateNode,ge=Ce.getSnapshotBeforeUpdate(a.elementType===a.type?lt:gt(a.type,lt),Gr);Ce.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var je=a.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(He){Wr(a,a.return,He)}if(i=a.sibling,i!==null){i.return=a.return,it=i;break}it=a.return}return st=B0,B0=!1,st}function Ru(i,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&i)===i){var k=w.destroy;w.destroy=void 0,k!==void 0&&df(a,c,k)}w=w.next}while(w!==p)}}function zd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function hf(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function U0(i){var a=i.alternate;a!==null&&(i.alternate=null,U0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[es],delete a[Ro],delete a[Un],delete a[Kh],delete a[Xh])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function z0(i){return i.tag===5||i.tag===3||i.tag===4}function q0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||z0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ff(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Fo));else if(p!==4&&(i=i.child,i!==null))for(ff(i,a,c),i=i.sibling;i!==null;)ff(i,a,c),i=i.sibling}function pf(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(pf(i,a,c),i=i.sibling;i!==null;)pf(i,a,c),i=i.sibling}var Pn=null,Cs=!1;function Wo(i,a,c){for(c=c.child;c!==null;)$0(i,a,c),c=c.sibling}function $0(i,a,c){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(pa,c)}catch{}switch(c.tag){case 5:Vn||Dc(c,a);case 6:var p=Pn,w=Cs;Pn=null,Wo(i,a,c),Pn=p,Cs=w,Pn!==null&&(Cs?(i=Pn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Pn.removeChild(c.stateNode));break;case 18:Pn!==null&&(Cs?(i=Pn,c=c.stateNode,i.nodeType===8?Cu(i.parentNode,c):i.nodeType===1&&Cu(i,c),Ri(i)):Cu(Pn,c.stateNode));break;case 4:p=Pn,w=Cs,Pn=c.stateNode.containerInfo,Cs=!0,Wo(i,a,c),Pn=p,Cs=w;break;case 0:case 11:case 14:case 15:if(!Vn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var k=w,R=k.destroy;k=k.tag,R!==void 0&&((k&2)!==0||(k&4)!==0)&&df(c,a,R),w=w.next}while(w!==p)}Wo(i,a,c);break;case 1:if(!Vn&&(Dc(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(X){Wr(c,a,X)}Wo(i,a,c);break;case 21:Wo(i,a,c);break;case 22:c.mode&1?(Vn=(p=Vn)||c.memoizedState!==null,Wo(i,a,c),Vn=p):Wo(i,a,c);break;default:Wo(i,a,c)}}function H0(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new W5),a.forEach(function(p){var w=tm.bind(null,i,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Ss(i,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var k=i,R=a,X=R;e:for(;X!==null;){switch(X.tag){case 5:Pn=X.stateNode,Cs=!1;break e;case 3:Pn=X.stateNode.containerInfo,Cs=!0;break e;case 4:Pn=X.stateNode.containerInfo,Cs=!0;break e}X=X.return}if(Pn===null)throw Error(t(160));$0(k,R,w),Pn=null,Cs=!1;var ce=w.alternate;ce!==null&&(ce.return=null),w.return=null}catch(Le){Wr(w,a,Le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)W0(a,i),a=a.sibling}function W0(i,a){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ss(a,i),na(i),p&4){try{Ru(3,i,i.return),zd(3,i)}catch(lt){Wr(i,i.return,lt)}try{Ru(5,i,i.return)}catch(lt){Wr(i,i.return,lt)}}break;case 1:Ss(a,i),na(i),p&512&&c!==null&&Dc(c,c.return);break;case 5:if(Ss(a,i),na(i),p&512&&c!==null&&Dc(c,c.return),i.flags&32){var w=i.stateNode;try{Ft(w,"")}catch(lt){Wr(i,i.return,lt)}}if(p&4&&(w=i.stateNode,w!=null)){var k=i.memoizedProps,R=c!==null?c.memoizedProps:k,X=i.type,ce=i.updateQueue;if(i.updateQueue=null,ce!==null)try{X==="input"&&k.type==="radio"&&k.name!=null&&te(w,k),hi(X,R);var Le=hi(X,k);for(R=0;R<ce.length;R+=2){var Ue=ce[R],qe=ce[R+1];Ue==="style"?di(w,qe):Ue==="dangerouslySetInnerHTML"?bt(w,qe):Ue==="children"?Ft(w,qe):H(w,Ue,qe,Le)}switch(X){case"input":Nt(w,k);break;case"textarea":jt(w,k);break;case"select":var Be=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var rt=k.value;rt!=null?Je(w,!!k.multiple,rt,!1):Be!==!!k.multiple&&(k.defaultValue!=null?Je(w,!!k.multiple,k.defaultValue,!0):Je(w,!!k.multiple,k.multiple?[]:"",!1))}w[Ro]=k}catch(lt){Wr(i,i.return,lt)}}break;case 6:if(Ss(a,i),na(i),p&4){if(i.stateNode===null)throw Error(t(162));w=i.stateNode,k=i.memoizedProps;try{w.nodeValue=k}catch(lt){Wr(i,i.return,lt)}}break;case 3:if(Ss(a,i),na(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ri(a.containerInfo)}catch(lt){Wr(i,i.return,lt)}break;case 4:Ss(a,i),na(i);break;case 13:Ss(a,i),na(i),w=i.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(vf=Lr())),p&4&&H0(i);break;case 22:if(Ue=c!==null&&c.memoizedState!==null,i.mode&1?(Vn=(Le=Vn)||Ue,Ss(a,i),Vn=Le):Ss(a,i),na(i),p&8192){if(Le=i.memoizedState!==null,(i.stateNode.isHidden=Le)&&!Ue&&(i.mode&1)!==0)for(it=i,Ue=i.child;Ue!==null;){for(qe=it=Ue;it!==null;){switch(Be=it,rt=Be.child,Be.tag){case 0:case 11:case 14:case 15:Ru(4,Be,Be.return);break;case 1:Dc(Be,Be.return);var st=Be.stateNode;if(typeof st.componentWillUnmount=="function"){p=Be,c=Be.return;try{a=p,st.props=a.memoizedProps,st.state=a.memoizedState,st.componentWillUnmount()}catch(lt){Wr(p,c,lt)}}break;case 5:Dc(Be,Be.return);break;case 22:if(Be.memoizedState!==null){G0(qe);continue}}rt!==null?(rt.return=Be,it=rt):G0(qe)}Ue=Ue.sibling}e:for(Ue=null,qe=i;;){if(qe.tag===5){if(Ue===null){Ue=qe;try{w=qe.stateNode,Le?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(X=qe.stateNode,ce=qe.memoizedProps.style,R=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,X.style.display=Zt("display",R))}catch(lt){Wr(i,i.return,lt)}}}else if(qe.tag===6){if(Ue===null)try{qe.stateNode.nodeValue=Le?"":qe.memoizedProps}catch(lt){Wr(i,i.return,lt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===i)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===i)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===i)break e;Ue===qe&&(Ue=null),qe=qe.return}Ue===qe&&(Ue=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ss(a,i),na(i),p&4&&H0(i);break;case 21:break;default:Ss(a,i),na(i)}}function na(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(z0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(Ft(w,""),p.flags&=-33);var k=q0(i);pf(i,k,w);break;case 3:case 4:var R=p.stateNode.containerInfo,X=q0(i);ff(i,X,R);break;default:throw Error(t(161))}}catch(ce){Wr(i,i.return,ce)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Z5(i,a,c){it=i,V0(i)}function V0(i,a,c){for(var p=(i.mode&1)!==0;it!==null;){var w=it,k=w.child;if(w.tag===22&&p){var R=w.memoizedState!==null||Ud;if(!R){var X=w.alternate,ce=X!==null&&X.memoizedState!==null||Vn;X=Ud;var Le=Vn;if(Ud=R,(Vn=ce)&&!Le)for(it=w;it!==null;)R=it,ce=R.child,R.tag===22&&R.memoizedState!==null?Y0(w):ce!==null?(ce.return=R,it=ce):Y0(w);for(;k!==null;)it=k,V0(k),k=k.sibling;it=w,Ud=X,Vn=Le}Z0(i)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,it=k):Z0(i)}}function Z0(i){for(;it!==null;){var a=it;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Vn||zd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Vn)if(c===null)p.componentDidMount();else{var w=a.elementType===a.type?c.memoizedProps:gt(a.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&zl(a,k,p);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}zl(a,R,c)}break;case 5:var X=a.stateNode;if(c===null&&a.flags&4){c=X;var ce=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&c.focus();break;case"img":ce.src&&(c.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Le=a.alternate;if(Le!==null){var Ue=Le.memoizedState;if(Ue!==null){var qe=Ue.dehydrated;qe!==null&&Ri(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||a.flags&512&&hf(a)}catch(Be){Wr(a,a.return,Be)}}if(a===i){it=null;break}if(c=a.sibling,c!==null){c.return=a.return,it=c;break}it=a.return}}function G0(i){for(;it!==null;){var a=it;if(a===i){it=null;break}var c=a.sibling;if(c!==null){c.return=a.return,it=c;break}it=a.return}}function Y0(i){for(;it!==null;){var a=it;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{zd(4,a)}catch(ce){Wr(a,c,ce)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var w=a.return;try{p.componentDidMount()}catch(ce){Wr(a,w,ce)}}var k=a.return;try{hf(a)}catch(ce){Wr(a,k,ce)}break;case 5:var R=a.return;try{hf(a)}catch(ce){Wr(a,R,ce)}}}catch(ce){Wr(a,a.return,ce)}if(a===i){it=null;break}var X=a.sibling;if(X!==null){X.return=a.return,it=X;break}it=a.return}}var G5=Math.ceil,qd=Y.ReactCurrentDispatcher,gf=Y.ReactCurrentOwner,is=Y.ReactCurrentBatchConfig,nr=0,vn=null,en=null,En=0,qi=0,Oc=Bi(0),an=0,Du=null,Xl=0,$d=0,mf=0,Ou=null,Ci=null,vf=0,Mc=1/0,Ya=null,Hd=!1,yf=null,Vo=null,Wd=!1,Zo=null,Vd=0,Mu=0,xf=null,Zd=-1,Gd=0;function ci(){return(nr&6)!==0?Lr():Zd!==-1?Zd:Zd=Lr()}function Go(i){return(i.mode&1)===0?1:(nr&2)!==0&&En!==0?En&-En:ur.transition!==null?(Gd===0&&(Gd=xl()),Gd):(i=er,i!==0||(i=window.event,i=i===void 0?16:Cl(i.type)),i)}function Ns(i,a,c,p){if(50<Mu)throw Mu=0,xf=null,Error(t(185));qs(i,c,p),((nr&2)===0||i!==vn)&&(i===vn&&((nr&2)===0&&($d|=c),an===4&&Yo(i,En)),Si(i,p),c===1&&nr===0&&(a.mode&1)===0&&(Mc=Lr()+500,Bl&&S()))}function Si(i,a){var c=i.callbackNode;Dn(i,a);var p=Rn(i,i===vn?En:0);if(p===0)c!==null&&fa(c),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(c!=null&&fa(c),a===1)i.tag===0?_(K0.bind(null,i)):g(K0.bind(null,i)),Yh(function(){(nr&6)===0&&S()}),c=null;else{switch(uo(p)){case 1:c=Us;break;case 4:c=vl;break;case 16:c=ao;break;case 536870912:c=mc;break;default:c=ao}c=sp(c,J0.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function J0(i,a){if(Zd=-1,Gd=0,(nr&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Bc()&&i.callbackNode!==c)return null;var p=Rn(i,i===vn?En:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Yd(i,p);else{a=p;var w=nr;nr|=2;var k=Q0();(vn!==i||En!==a)&&(Ya=null,Mc=Lr()+500,ec(i,a));do try{K5();break}catch(X){X0(i,X)}while(!0);rr(),qd.current=k,nr=w,en!==null?a=0:(vn=null,En=0,a=an)}if(a!==0){if(a===2&&(w=va(i),w!==0&&(p=w,a=wf(i,w))),a===1)throw c=Du,ec(i,0),Yo(i,p),Si(i,Lr()),c;if(a===6)Yo(i,p);else{if(w=i.current.alternate,(p&30)===0&&!Y5(w)&&(a=Yd(i,p),a===2&&(k=va(i),k!==0&&(p=k,a=wf(i,k))),a===1))throw c=Du,ec(i,0),Yo(i,p),Si(i,Lr()),c;switch(i.finishedWork=w,i.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:tc(i,Ci,Ya);break;case 3:if(Yo(i,p),(p&130023424)===p&&(a=vf+500-Lr(),10<a)){if(Rn(i,0)!==0)break;if(w=i.suspendedLanes,(w&p)!==p){ci(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=ku(tc.bind(null,i,Ci,Ya),a);break}tc(i,Ci,Ya);break;case 4:if(Yo(i,p),(p&4194240)===p)break;for(a=i.eventTimes,w=-1;0<p;){var R=31-ni(p);k=1<<R,R=a[R],R>w&&(w=R),p&=~k}if(p=w,p=Lr()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*G5(p/1960))-p,10<p){i.timeoutHandle=ku(tc.bind(null,i,Ci,Ya),p);break}tc(i,Ci,Ya);break;case 5:tc(i,Ci,Ya);break;default:throw Error(t(329))}}}return Si(i,Lr()),i.callbackNode===c?J0.bind(null,i):null}function wf(i,a){var c=Ou;return i.current.memoizedState.isDehydrated&&(ec(i,a).flags|=256),i=Yd(i,a),i!==2&&(a=Ci,Ci=c,a!==null&&bf(a)),i}function bf(i){Ci===null?Ci=i:Ci.push.apply(Ci,i)}function Y5(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],k=w.getSnapshot;w=w.value;try{if(!tr(k(),w))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yo(i,a){for(a&=~mf,a&=~$d,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-ni(a),p=1<<c;i[c]=-1,a&=~p}}function K0(i){if((nr&6)!==0)throw Error(t(327));Bc();var a=Rn(i,0);if((a&1)===0)return Si(i,Lr()),null;var c=Yd(i,a);if(i.tag!==0&&c===2){var p=va(i);p!==0&&(a=p,c=wf(i,p))}if(c===1)throw c=Du,ec(i,0),Yo(i,a),Si(i,Lr()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,tc(i,Ci,Ya),Si(i,Lr()),null}function _f(i,a){var c=nr;nr|=1;try{return i(a)}finally{nr=c,nr===0&&(Mc=Lr()+500,Bl&&S())}}function Ql(i){Zo!==null&&Zo.tag===0&&(nr&6)===0&&Bc();var a=nr;nr|=1;var c=is.transition,p=er;try{if(is.transition=null,er=1,i)return i()}finally{er=p,is.transition=c,nr=a,(nr&6)===0&&S()}}function kf(){qi=Oc.current,ar(Oc)}function ec(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Ld(c)),en!==null)for(c=en.return;c!==null;){var p=c;switch(he(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ac();break;case 3:Ha(),ar(zn),ar(nn),Va();break;case 5:Ec(p);break;case 4:Ha();break;case 13:ar(_r);break;case 19:ar(_r);break;case 10:Ln(p.type._context);break;case 22:case 23:kf()}c=c.return}if(vn=i,en=i=Jo(i.current,null),En=qi=a,an=0,Du=null,mf=$d=Xl=0,Ci=Ou=null,Mr!==null){for(a=0;a<Mr.length;a++)if(c=Mr[a],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,k=c.pending;if(k!==null){var R=k.next;k.next=w,p.next=R}c.pending=p}Mr=null}return i}function X0(i,a){do{var c=en;try{if(rr(),Zl.current=Od,Gl){for(var p=kr.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}Gl=!1}if(rs=0,xr=Br=kr=null,$o=!1,Yl=0,gf.current=null,c===null||c.return===null){an=1,Du=a,en=null;break}e:{var k=i,R=c.return,X=c,ce=a;if(a=En,X.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Le=ce,Ue=X,qe=Ue.tag;if((Ue.mode&1)===0&&(qe===0||qe===11||qe===15)){var Be=Ue.alternate;Be?(Ue.updateQueue=Be.updateQueue,Ue.memoizedState=Be.memoizedState,Ue.lanes=Be.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var rt=k0(R);if(rt!==null){rt.flags&=-257,C0(rt,R,X,k,a),rt.mode&1&&_0(k,Le,a),a=rt,ce=Le;var st=a.updateQueue;if(st===null){var lt=new Set;lt.add(ce),a.updateQueue=lt}else st.add(ce);break e}else{if((a&1)===0){_0(k,Le,a),Cf();break e}ce=Error(t(426))}}else if(Ee&&X.mode&1){var Gr=k0(R);if(Gr!==null){(Gr.flags&65536)===0&&(Gr.flags|=256),C0(Gr,R,X,k,a),or(Rc(ce,X));break e}}k=ce=Rc(ce,X),an!==4&&(an=2),Ou===null?Ou=[k]:Ou.push(k),k=R;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var Ce=w0(k,ce,a);ju(k,Ce);break e;case 1:X=ce;var ge=k.type,je=k.stateNode;if((k.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Vo===null||!Vo.has(je)))){k.flags|=65536,a&=-a,k.lanes|=a;var He=b0(k,X,a);ju(k,He);break e}}k=k.return}while(k!==null)}tp(c)}catch(ct){a=ct,en===c&&c!==null&&(en=c=c.return);continue}break}while(!0)}function Q0(){var i=qd.current;return qd.current=Od,i===null?Od:i}function Cf(){(an===0||an===3||an===2)&&(an=4),vn===null||(Xl&268435455)===0&&($d&268435455)===0||Yo(vn,En)}function Yd(i,a){var c=nr;nr|=2;var p=Q0();(vn!==i||En!==a)&&(Ya=null,ec(i,a));do try{J5();break}catch(w){X0(i,w)}while(!0);if(rr(),nr=c,qd.current=p,en!==null)throw Error(t(261));return vn=null,En=0,an}function J5(){for(;en!==null;)ep(en)}function K5(){for(;en!==null&&!so();)ep(en)}function ep(i){var a=ip(i.alternate,i,qi);i.memoizedProps=i.pendingProps,a===null?tp(i):en=a,gf.current=null}function tp(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=$5(c,a,qi),c!==null){en=c;return}}else{if(c=H5(c,a),c!==null){c.flags&=32767,en=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,en=null;return}}if(a=a.sibling,a!==null){en=a;return}en=a=i}while(a!==null);an===0&&(an=5)}function tc(i,a,c){var p=er,w=is.transition;try{is.transition=null,er=1,X5(i,a,c,p)}finally{is.transition=w,er=p}return null}function X5(i,a,c,p){do Bc();while(Zo!==null);if((nr&6)!==0)throw Error(t(327));c=i.finishedWork;var w=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var k=c.lanes|c.childLanes;if(xu(i,k),i===vn&&(en=vn=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Wd||(Wd=!0,sp(ao,function(){return Bc(),null})),k=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||k){k=is.transition,is.transition=null;var R=er;er=1;var X=nr;nr|=4,gf.current=null,V5(i,c),W0(c,i),Pa(Ra),go=!!Ol,Ra=Ol=null,i.current=c,Z5(c),gc(),nr=X,er=R,is.transition=k}else i.current=c;if(Wd&&(Wd=!1,Zo=i,Vd=w),k=i.pendingLanes,k===0&&(Vo=null),oo(c.stateNode),Si(i,Lr()),a!==null)for(p=i.onRecoverableError,c=0;c<a.length;c++)w=a[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(Hd)throw Hd=!1,i=yf,yf=null,i;return(Vd&1)!==0&&i.tag!==0&&Bc(),k=i.pendingLanes,(k&1)!==0?i===xf?Mu++:(Mu=0,xf=i):Mu=0,S(),null}function Bc(){if(Zo!==null){var i=uo(Vd),a=is.transition,c=er;try{if(is.transition=null,er=16>i?16:i,Zo===null)var p=!1;else{if(i=Zo,Zo=null,Vd=0,(nr&6)!==0)throw Error(t(331));var w=nr;for(nr|=4,it=i.current;it!==null;){var k=it,R=k.child;if((it.flags&16)!==0){var X=k.deletions;if(X!==null){for(var ce=0;ce<X.length;ce++){var Le=X[ce];for(it=Le;it!==null;){var Ue=it;switch(Ue.tag){case 0:case 11:case 15:Ru(8,Ue,k)}var qe=Ue.child;if(qe!==null)qe.return=Ue,it=qe;else for(;it!==null;){Ue=it;var Be=Ue.sibling,rt=Ue.return;if(U0(Ue),Ue===Le){it=null;break}if(Be!==null){Be.return=rt,it=Be;break}it=rt}}}var st=k.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var Gr=lt.sibling;lt.sibling=null,lt=Gr}while(lt!==null)}}it=k}}if((k.subtreeFlags&2064)!==0&&R!==null)R.return=k,it=R;else e:for(;it!==null;){if(k=it,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Ru(9,k,k.return)}var Ce=k.sibling;if(Ce!==null){Ce.return=k.return,it=Ce;break e}it=k.return}}var ge=i.current;for(it=ge;it!==null;){R=it;var je=R.child;if((R.subtreeFlags&2064)!==0&&je!==null)je.return=R,it=je;else e:for(R=ge;it!==null;){if(X=it,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:zd(9,X)}}catch(ct){Wr(X,X.return,ct)}if(X===R){it=null;break e}var He=X.sibling;if(He!==null){He.return=X.return,it=He;break e}it=X.return}}if(nr=w,S(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(pa,i)}catch{}p=!0}return p}finally{er=c,is.transition=a}}return!1}function rp(i,a,c){a=Rc(c,a),a=w0(i,a,1),i=lr(i,a,1),a=ci(),i!==null&&(qs(i,1,a),Si(i,a))}function Wr(i,a,c){if(i.tag===3)rp(i,i,c);else for(;a!==null;){if(a.tag===3){rp(a,i,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Vo===null||!Vo.has(p))){i=Rc(c,i),i=b0(a,i,1),a=lr(a,i,1),i=ci(),a!==null&&(qs(a,1,i),Si(a,i));break}}a=a.return}}function Q5(i,a,c){var p=i.pingCache;p!==null&&p.delete(a),a=ci(),i.pingedLanes|=i.suspendedLanes&c,vn===i&&(En&c)===c&&(an===4||an===3&&(En&130023424)===En&&500>Lr()-vf?ec(i,0):mf|=c),Si(i,a)}function np(i,a){a===0&&((i.mode&1)===0?a=1:(a=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var c=ci();i=vr(i,a),i!==null&&(qs(i,a,c),Si(i,c))}function em(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),np(i,c)}function tm(i,a){var c=0;switch(i.tag){case 13:var p=i.stateNode,w=i.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),np(i,c)}var ip;ip=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||zn.current)ki=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return ki=!1,q5(i,a,c);ki=(i.flags&131072)!==0}else ki=!1,Ee&&(a.flags&1048576)!==0&&Re(a,U,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Bd(i,a),i=a.pendingProps;var w=Oo(a,nn.current);Tr(a,c),w=Tc(null,a,p,i,w,c);var k=Tu();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,qn(p)?(k=!0,Ma(a)):k=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,ws(a),w.updater=Hn,a.stateNode=w,w._reactInternals=a,zo(a,p,i,c),a=sf(null,a,p,!0,k,c)):(a.tag=0,Ee&&k&&Ae(a),li(null,a,w,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Bd(i,a),i=a.pendingProps,w=p._init,p=w(p._payload),a.type=p,w=a.tag=nm(p),i=gt(p,i),w){case 0:a=nf(null,a,p,i,c);break e;case 1:a=P0(null,a,p,i,c);break e;case 11:a=S0(null,a,p,i,c);break e;case 14:a=N0(null,a,p,gt(p.type,i),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:gt(p,w),nf(i,a,p,w,c);case 1:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:gt(p,w),P0(i,a,p,w,c);case 3:e:{if(E0(a),i===null)throw Error(t(387));p=a.pendingProps,k=a.memoizedState,w=k.element,Ba(i,a),Ul(a,p,null,c);var R=a.memoizedState;if(p=R.element,k.isDehydrated)if(k={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){w=Rc(Error(t(423)),a),a=T0(i,a,p,c,w);break e}else if(p!==w){w=Rc(Error(t(424)),a),a=T0(i,a,p,c,w);break e}else for(Te=jn(a.stateNode.containerInfo.firstChild),fe=a,Ee=!0,Fe=null,c=Td(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Rt(),p===w){a=Ga(i,a,c);break e}li(i,a,p,c)}a=a.child}return a;case 5:return Wl(a),i===null&&Ye(a),p=a.type,w=a.pendingProps,k=i!==null?i.memoizedProps:null,R=w.children,_u(p,w)?R=null:k!==null&&_u(p,k)&&(a.flags|=32),A0(i,a),li(i,a,R,c),a.child;case 6:return i===null&&Ye(a),null;case 13:return I0(i,a,c);case 4:return Au(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=ts(a,null,p,c):li(i,a,p,c),a.child;case 11:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:gt(p,w),S0(i,a,p,w,c);case 7:return li(i,a,a.pendingProps,c),a.child;case 8:return li(i,a,a.pendingProps.children,c),a.child;case 12:return li(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,w=a.pendingProps,k=a.memoizedProps,R=w.value,cr(Er,p._currentValue),p._currentValue=R,k!==null)if(tr(k.value,R)){if(k.children===w.children&&!zn.current){a=Ga(i,a,c);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var X=k.dependencies;if(X!==null){R=k.child;for(var ce=X.firstContext;ce!==null;){if(ce.context===p){if(k.tag===1){ce=mn(-1,c&-c),ce.tag=2;var Le=k.updateQueue;if(Le!==null){Le=Le.shared;var Ue=Le.pending;Ue===null?ce.next=ce:(ce.next=Ue.next,Ue.next=ce),Le.pending=ce}}k.lanes|=c,ce=k.alternate,ce!==null&&(ce.lanes|=c),An(k.return,c,a),X.lanes|=c;break}ce=ce.next}}else if(k.tag===10)R=k.type===a.type?null:k.child;else if(k.tag===18){if(R=k.return,R===null)throw Error(t(341));R.lanes|=c,X=R.alternate,X!==null&&(X.lanes|=c),An(R,c,a),R=k.sibling}else R=k.child;if(R!==null)R.return=k;else for(R=k;R!==null;){if(R===a){R=null;break}if(k=R.sibling,k!==null){k.return=R.return,R=k;break}R=R.return}k=R}li(i,a,w.children,c),a=a.child}return a;case 9:return w=a.type,p=a.pendingProps.children,Tr(a,c),w=dr(w),p=p(w),a.flags|=1,li(i,a,p,c),a.child;case 14:return p=a.type,w=gt(p,a.pendingProps),w=gt(p.type,w),N0(i,a,p,w,c);case 15:return j0(i,a,a.type,a.pendingProps,c);case 17:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:gt(p,w),Bd(i,a),a.tag=1,qn(p)?(i=!0,Ma(a)):i=!1,Tr(a,c),za(a,p,w),zo(a,p,w,c),sf(null,a,p,!0,i,c);case 19:return R0(i,a,c);case 22:return L0(i,a,c)}throw Error(t(156,a.tag))};function sp(i,a){return ha(i,a)}function rm(i,a,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(i,a,c,p){return new rm(i,a,c,p)}function Sf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nm(i){if(typeof i=="function")return Sf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===Se)return 14}return 2}function Jo(i,a){var c=i.alternate;return c===null?(c=ss(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Jd(i,a,c,p,w,k){var R=2;if(p=i,typeof i=="function")Sf(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case ue:return rc(c.children,w,k,a);case Q:R=8,w|=8;break;case ye:return i=ss(12,c,a,w|2),i.elementType=ye,i.lanes=k,i;case ie:return i=ss(13,c,a,w),i.elementType=ie,i.lanes=k,i;case ee:return i=ss(19,c,a,w),i.elementType=ee,i.lanes=k,i;case Ne:return Kd(c,w,k,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case pe:R=10;break e;case B:R=9;break e;case V:R=11;break e;case Se:R=14;break e;case ke:R=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=ss(R,c,a,w),a.elementType=i,a.type=p,a.lanes=k,a}function rc(i,a,c,p){return i=ss(7,i,p,a),i.lanes=c,i}function Kd(i,a,c,p){return i=ss(22,i,p,a),i.elementType=Ne,i.lanes=c,i.stateNode={isHidden:!1},i}function Nf(i,a,c){return i=ss(6,i,null,a),i.lanes=c,i}function jf(i,a,c){return a=ss(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function im(i,a,c,p,w){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Lf(i,a,c,p,w,k,R,X,ce){return i=new im(i,a,c,X,ce),a===1?(a=1,k===!0&&(a|=8)):a=0,k=ss(3,null,null,a),i.current=k,k.stateNode=i,k.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(k),i}function sm(i,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:p==null?null:""+p,children:i,containerInfo:a,implementation:c}}function ap(i){if(!i)return ra;i=i._reactInternals;e:{if(tn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(qn(c))return Nu(i,c,a)}return a}function op(i,a,c,p,w,k,R,X,ce){return i=Lf(c,p,!0,i,w,k,R,X,ce),i.context=ap(null),c=i.current,p=ci(),w=Go(c),k=mn(p,w),k.callback=a??null,lr(c,k,w),i.current.lanes=w,qs(i,w,p),Si(i,p),i}function Xd(i,a,c,p){var w=a.current,k=ci(),R=Go(w);return c=ap(c),a.context===null?a.context=c:a.pendingContext=c,a=mn(k,R),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=lr(w,a,R),i!==null&&(Ns(i,w,R,k),Mo(i,w,R)),R}function Qd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function lp(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Af(i,a){lp(i,a),(i=i.alternate)&&lp(i,a)}function am(){return null}var cp=typeof reportError=="function"?reportError:function(i){console.error(i)};function Pf(i){this._internalRoot=i}eh.prototype.render=Pf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));Xd(i,a,null,null)},eh.prototype.unmount=Pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ql(function(){Xd(null,i,null,null)}),a[fn]=null}};function eh(i){this._internalRoot=i}eh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Wi();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Zi.length&&a!==0&&a<Zi[c].priority;c++);Zi.splice(c,0,i),c===0&&fo(i)}};function Ef(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function th(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function up(){}function om(i,a,c,p,w){if(w){if(typeof p=="function"){var k=p;p=function(){var Le=Qd(R);k.call(Le)}}var R=op(a,p,i,0,null,!1,!1,"",up);return i._reactRootContainer=R,i[fn]=R.current,Ia(i.nodeType===8?i.parentNode:i),Ql(),R}for(;w=i.lastChild;)i.removeChild(w);if(typeof p=="function"){var X=p;p=function(){var Le=Qd(ce);X.call(Le)}}var ce=Lf(i,0,!1,null,null,!1,!1,"",up);return i._reactRootContainer=ce,i[fn]=ce.current,Ia(i.nodeType===8?i.parentNode:i),Ql(function(){Xd(a,ce,c,p)}),ce}function rh(i,a,c,p,w){var k=c._reactRootContainer;if(k){var R=k;if(typeof w=="function"){var X=w;w=function(){var ce=Qd(R);X.call(ce)}}Xd(a,R,i,w)}else R=om(c,a,i,w,p);return Qd(R)}xc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=ma(a.pendingLanes);c!==0&&(co(a,c|1),Si(a,Lr()),(nr&6)===0&&(Mc=Lr()+500,S()))}break;case 13:Ql(function(){var p=vr(i,1);if(p!==null){var w=ci();Ns(p,i,1,w)}}),Af(i,1)}},bl=function(i){if(i.tag===13){var a=vr(i,134217728);if(a!==null){var c=ci();Ns(a,i,134217728,c)}Af(i,134217728)}},wc=function(i){if(i.tag===13){var a=Go(i),c=vr(i,a);if(c!==null){var p=ci();Ns(c,i,a,p)}Af(i,a)}},Wi=function(){return er},ya=function(i,a){var c=er;try{return er=i,a()}finally{er=c}},br=function(i,a,c){switch(a){case"input":if(Nt(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==i&&p.form===i.form){var w=Ml(p);if(!w)throw Error(t(90));Ve(p),Nt(p,w)}}}break;case"textarea":jt(i,c);break;case"select":a=c.value,a!=null&&Je(i,!!c.multiple,a,!1)}},Os=_f,Xr=Ql;var lm={usingClientEntryPoint:!1,Events:[Do,Da,Ml,Lt,Qt,_f]},Bu={findFiberByHostInstance:ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cm={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bs(i),i===null?null:i.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{pa=nh.inject(cm),pi=nh}catch{}}return Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm,Ni.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(a))throw Error(t(200));return sm(i,a,null,c)},Ni.createRoot=function(i,a){if(!Ef(i))throw Error(t(299));var c=!1,p="",w=cp;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Lf(i,1,!1,null,null,c,!1,p,w),i[fn]=a.current,Ia(i.nodeType===8?i.parentNode:i),new Pf(a)},Ni.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Bs(a),i=i===null?null:i.stateNode,i},Ni.flushSync=function(i){return Ql(i)},Ni.hydrate=function(i,a,c){if(!th(a))throw Error(t(200));return rh(null,i,a,!0,c)},Ni.hydrateRoot=function(i,a,c){if(!Ef(i))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,w=!1,k="",R=cp;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=op(a,null,i,1,c??null,w,!1,k,R),i[fn]=a.current,Ia(i),p)for(i=0;i<p.length;i++)c=p[i],w=c._getVersion,w=w(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,w]:a.mutableSourceEagerHydrationData.push(c,w);return new eh(a)},Ni.render=function(i,a,c){if(!th(a))throw Error(t(200));return rh(null,i,a,!1,c)},Ni.unmountComponentAtNode=function(i){if(!th(i))throw Error(t(40));return i._reactRootContainer?(Ql(function(){rh(null,null,i,!1,function(){i._reactRootContainer=null,i[fn]=null})}),!0):!1},Ni.unstable_batchedUpdates=_f,Ni.unstable_renderSubtreeIntoContainer=function(i,a,c,p){if(!th(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return rh(i,a,c,!1,p)},Ni.version="18.2.0-next-9e3b772b8-20220608",Ni}var yp;function z2(){if(yp)return Ff.exports;yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ff.exports=xm(),Ff.exports}var xp;function wm(){if(xp)return ih;xp=1;var r=z2();return ih.createRoot=r.createRoot,ih.hydrateRoot=r.hydrateRoot,ih}var bm=wm();const _m=B1(bm);z2();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rd.apply(this,arguments)}var il;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(il||(il={}));const wp="popstate";function km(r){r===void 0&&(r={});function e(s,o){let{pathname:l="/",search:u="",hash:h=""}=hc(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),l1("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:xh(o))}function n(s,o){z1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Sm(e,t,n,r)}function qr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function z1(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cm(){return Math.random().toString(36).substr(2,8)}function bp(r,e){return{usr:r.state,key:r.key,idx:e}}function l1(r,e,t,n){return t===void 0&&(t=null),rd({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?hc(e):e,{state:t,key:e&&e.key||n||Cm()})}function xh(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Sm(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u=il.Pop,h=null,f=v();f==null&&(f=0,l.replaceState(rd({},l.state,{idx:f}),""));function v(){return(l.state||{idx:null}).idx}function x(){u=il.Pop;let A=v(),E=A==null?null:A-f;f=A,h&&h({action:u,location:L.location,delta:E})}function C(A,E){u=il.Push;let D=l1(L.location,A,E);t&&t(D,A),f=v()+1;let H=bp(D,f),Y=L.createHref(D);try{l.pushState(H,"",Y)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(Y)}o&&h&&h({action:u,location:L.location,delta:1})}function b(A,E){u=il.Replace;let D=l1(L.location,A,E);t&&t(D,A),f=v();let H=bp(D,f),Y=L.createHref(D);l.replaceState(H,"",Y),o&&h&&h({action:u,location:L.location,delta:0})}function j(A){let E=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof A=="string"?A:xh(A);return D=D.replace(/ $/,"%20"),qr(E,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,E)}let L={get action(){return u},get location(){return r(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(wp,x),h=A,()=>{s.removeEventListener(wp,x),h=null}},createHref(A){return e(s,A)},createURL:j,encodeLocation(A){let E=j(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:C,replace:b,go(A){return l.go(A)}};return L}var _p;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(_p||(_p={}));function Nm(r,e,t){return t===void 0&&(t="/"),jm(r,e,t)}function jm(r,e,t,n){let s=typeof e=="string"?hc(e):e,o=uu(s.pathname||"/",t);if(o==null)return null;let l=q2(r);Lm(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=Bm(o);u=Om(l[h],f)}return u}function q2(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(qr(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=al([n,h.relativePath]),v=t.concat(h);o.children&&o.children.length>0&&(qr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),q2(o.children,e,v,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Rm(f,o.index),routesMeta:v})};return r.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of $2(o.path))s(o,l,h)}),e}function $2(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=$2(n.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>r.startsWith("/")&&h===""?"/":h)}function Lm(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Dm(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Am=/^:[\w-]+$/,Pm=3,Em=2,Tm=1,Im=10,Fm=-2,kp=r=>r==="*";function Rm(r,e){let t=r.split("/"),n=t.length;return t.some(kp)&&(n+=Fm),e&&(n+=Em),t.filter(s=>!kp(s)).reduce((s,o)=>s+(Am.test(o)?Pm:o===""?Tm:Im),n)}function Dm(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function Om(r,e,t){let{routesMeta:n}=r,s={},o="/",l=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=c1({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},v),C=h.route;if(!x)return null;Object.assign(s,x.params),l.push({params:s,pathname:al([o,x.pathname]),pathnameBase:$m(al([o,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(o=al([o,x.pathnameBase]))}return l}function c1(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Mm(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,v,x)=>{let{paramName:C,isOptional:b}=v;if(C==="*"){let L=u[x]||"";l=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}const j=u[x];return b&&!j?f[C]=void 0:f[C]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:r}}function Mm(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),z1(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Bm(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z1(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function uu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Um(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?hc(r):r;return{pathname:t?t.startsWith("/")?t:zm(t,e):e,search:Hm(n),hash:Wm(s)}}function zm(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Of(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qm(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function q1(r,e){let t=qm(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function $1(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=hc(r):(s=rd({},r),qr(!s.pathname||!s.pathname.includes("?"),Of("?","pathname","search",s)),qr(!s.pathname||!s.pathname.includes("#"),Of("#","pathname","hash",s)),qr(!s.search||!s.search.includes("#"),Of("#","search","hash",s)));let o=r===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let x=e.length-1;if(!n&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),x-=1;s.pathname=C.join("/")}u=x>=0?e[x]:"/"}let h=Um(s,u),f=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||v)&&(h.pathname+="/"),h}const al=r=>r.join("/").replace(/\/\/+/g,"/"),$m=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hm=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wm=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vm(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const H2=["post","put","patch","delete"];new Set(H2);const Zm=["get",...H2];new Set(Zm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nd.apply(this,arguments)}const Rh=G.createContext(null),W2=G.createContext(null),no=G.createContext(null),Dh=G.createContext(null),pl=G.createContext({outlet:null,matches:[],isDataRoute:!1}),V2=G.createContext(null);function Gm(r,e){let{relative:t}=e===void 0?{}:e;mu()||qr(!1);let{basename:n,navigator:s}=G.useContext(no),{hash:o,pathname:l,search:u}=Oh(r,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:al([n,l])),s.createHref({pathname:h,search:u,hash:o})}function mu(){return G.useContext(Dh)!=null}function io(){return mu()||qr(!1),G.useContext(Dh).location}function Z2(r){G.useContext(no).static||G.useLayoutEffect(r)}function gl(){let{isDataRoute:r}=G.useContext(pl);return r?ov():Ym()}function Ym(){mu()||qr(!1);let r=G.useContext(Rh),{basename:e,future:t,navigator:n}=G.useContext(no),{matches:s}=G.useContext(pl),{pathname:o}=io(),l=JSON.stringify(q1(s,t.v7_relativeSplatPath)),u=G.useRef(!1);return Z2(()=>{u.current=!0}),G.useCallback(function(f,v){if(v===void 0&&(v={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let x=$1(f,JSON.parse(l),o,v.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:al([e,x.pathname])),(v.replace?n.replace:n.push)(x,v.state,v)},[e,n,l,o,r])}function Oh(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=G.useContext(no),{matches:s}=G.useContext(pl),{pathname:o}=io(),l=JSON.stringify(q1(s,n.v7_relativeSplatPath));return G.useMemo(()=>$1(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function Jm(r,e){return Km(r,e)}function Km(r,e,t,n){mu()||qr(!1);let{navigator:s}=G.useContext(no),{matches:o}=G.useContext(pl),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=io(),v;if(e){var x;let A=typeof e=="string"?hc(e):e;h==="/"||(x=A.pathname)!=null&&x.startsWith(h)||qr(!1),v=A}else v=f;let C=v.pathname||"/",b=C;if(h!=="/"){let A=h.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=Nm(r,{pathname:b}),L=rv(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:al([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:al([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,n);return e&&L?G.createElement(Dh.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:il.Pop}},L):L}function Xm(){let r=av(),e=Vm(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:s},t):null,null)}const Qm=G.createElement(Xm,null);class ev extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(pl.Provider,{value:this.props.routeContext},G.createElement(V2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tv(r){let{routeContext:e,match:t,children:n}=r,s=G.useContext(Rh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(pl.Provider,{value:e},n)}function rv(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=(s=t)==null?void 0:s.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);v>=0||qr(!1),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,f=-1;if(t&&n&&n.v7_partialHydration)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=v),x.route.id){let{loaderData:C,errors:b}=t,j=x.route.loader&&C[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||j){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((v,x,C)=>{let b,j=!1,L=null,A=null;t&&(b=u&&x.route.id?u[x.route.id]:void 0,L=x.route.errorElement||Qm,h&&(f<0&&C===0?(lv("route-fallback"),j=!0,A=null):f===C&&(j=!0,A=x.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,C+1)),D=()=>{let H;return b?H=L:j?H=A:x.route.Component?H=G.createElement(x.route.Component,null):x.route.element?H=x.route.element:H=v,G.createElement(tv,{match:x,routeContext:{outlet:v,matches:E,isDataRoute:t!=null},children:H})};return t&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?G.createElement(ev,{location:t.location,revalidation:t.revalidation,component:L,error:b,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):D()},null)}var G2=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(G2||{}),Y2=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Y2||{});function nv(r){let e=G.useContext(Rh);return e||qr(!1),e}function iv(r){let e=G.useContext(W2);return e||qr(!1),e}function sv(r){let e=G.useContext(pl);return e||qr(!1),e}function J2(r){let e=sv(),t=e.matches[e.matches.length-1];return t.route.id||qr(!1),t.route.id}function av(){var r;let e=G.useContext(V2),t=iv(),n=J2();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ov(){let{router:r}=nv(G2.UseNavigateStable),e=J2(Y2.UseNavigateStable),t=G.useRef(!1);return Z2(()=>{t.current=!0}),G.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,nd({fromRouteId:e},o)))},[r,e])}const Cp={};function lv(r,e,t){Cp[r]||(Cp[r]=!0)}function cv(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Kc(r){let{to:e,replace:t,state:n,relative:s}=r;mu()||qr(!1);let{future:o,static:l}=G.useContext(no),{matches:u}=G.useContext(pl),{pathname:h}=io(),f=gl(),v=$1(e,q1(u,o.v7_relativeSplatPath),h,s==="path"),x=JSON.stringify(v);return G.useEffect(()=>f(JSON.parse(x),{replace:t,state:n,relative:s}),[f,x,s,t,n]),null}function wn(r){qr(!1)}function uv(r){let{basename:e="/",children:t=null,location:n,navigationType:s=il.Pop,navigator:o,static:l=!1,future:u}=r;mu()&&qr(!1);let h=e.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:h,navigator:o,static:l,future:nd({v7_relativeSplatPath:!1},u)}),[h,u,o,l]);typeof n=="string"&&(n=hc(n));let{pathname:v="/",search:x="",hash:C="",state:b=null,key:j="default"}=n,L=G.useMemo(()=>{let A=uu(v,h);return A==null?null:{location:{pathname:A,search:x,hash:C,state:b,key:j},navigationType:s}},[h,v,x,C,b,j,s]);return L==null?null:G.createElement(no.Provider,{value:f},G.createElement(Dh.Provider,{children:t,value:L}))}function Sp(r){let{children:e,location:t}=r;return Jm(u1(e),t)}new Promise(()=>{});function u1(r,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(r,(n,s)=>{if(!G.isValidElement(n))return;let o=[...e,s];if(n.type===G.Fragment){t.push.apply(t,u1(n.props.children,o));return}n.type!==wn&&qr(!1),!n.props.index||!n.props.children||qr(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=u1(n.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wh.apply(this,arguments)}function K2(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function dv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hv(r,e){return r.button===0&&(!e||e==="_self")&&!dv(r)}const fv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gv="6";try{window.__reactRouterVersion=gv}catch{}const mv=G.createContext({isTransitioning:!1}),vv="startTransition",Np=mm[vv];function yv(r){let{basename:e,children:t,future:n,window:s}=r,o=G.useRef();o.current==null&&(o.current=km({window:s,v5Compat:!0}));let l=o.current,[u,h]=G.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},v=G.useCallback(x=>{f&&Np?Np(()=>h(x)):h(x)},[h,f]);return G.useLayoutEffect(()=>l.listen(v),[l,v]),G.useEffect(()=>cv(n),[n]),G.createElement(uv,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:n})}const xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=G.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:v,viewTransition:x}=e,C=K2(e,fv),{basename:b}=G.useContext(no),j,L=!1;if(typeof f=="string"&&wv.test(f)&&(j=f,xv))try{let H=new URL(window.location.href),Y=f.startsWith("//")?new URL(H.protocol+f):new URL(f),ne=uu(Y.pathname,b);Y.origin===H.origin&&ne!=null?f=ne+Y.search+Y.hash:L=!0}catch{}let A=Gm(f,{relative:s}),E=_v(f,{replace:l,state:u,target:h,preventScrollReset:v,relative:s,viewTransition:x});function D(H){n&&n(H),H.defaultPrevented||E(H)}return G.createElement("a",wh({},C,{href:j||A,onClick:L||o?n:D,ref:t,target:h}))}),Mf=G.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:l=!1,style:u,to:h,viewTransition:f,children:v}=e,x=K2(e,pv),C=Oh(h,{relative:x.relative}),b=io(),j=G.useContext(W2),{navigator:L,basename:A}=G.useContext(no),E=j!=null&&kv(C)&&f===!0,D=L.encodeLocation?L.encodeLocation(C).pathname:C.pathname,H=b.pathname,Y=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(H=H.toLowerCase(),Y=Y?Y.toLowerCase():null,D=D.toLowerCase()),Y&&A&&(Y=uu(Y,A)||Y);const ne=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let we=H===D||!l&&H.startsWith(D)&&H.charAt(ne)==="/",ue=Y!=null&&(Y===D||!l&&Y.startsWith(D)&&Y.charAt(D.length)==="/"),Q={isActive:we,isPending:ue,isTransitioning:E},ye=we?n:void 0,pe;typeof o=="function"?pe=o(Q):pe=[o,we?"active":null,ue?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(Q):u;return G.createElement(Xn,wh({},x,{"aria-current":ye,className:pe,ref:t,style:B,to:h,viewTransition:f}),typeof v=="function"?v(Q):v)});var d1;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(d1||(d1={}));var jp;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(jp||(jp={}));function bv(r){let e=G.useContext(Rh);return e||qr(!1),e}function _v(r,e){let{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,h=gl(),f=io(),v=Oh(r,{relative:l});return G.useCallback(x=>{if(hv(x,t)){x.preventDefault();let C=n!==void 0?n:xh(f)===xh(v);h(r,{replace:C,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[f,h,v,n,s,t,r,o,l,u])}function kv(r,e){e===void 0&&(e={});let t=G.useContext(mv);t==null&&qr(!1);let{basename:n}=bv(d1.useViewTransitionState),s=Oh(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=uu(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=uu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return c1(s.pathname,l)!=null||c1(s.pathname,o)!=null}function Vt(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}var Cv=["color"],wd=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Cv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Sv=["color"],X2=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Sv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Nv=["color"],Q2=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Nv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),jv=["color"],Bf=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,jv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Lv=["color"],H1=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Lv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Av=["color"],W1=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Av);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Pv=["color"],eg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Pv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Ev=["color"],tg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Ev);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Tv=["color"],zu=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Tv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Iv=["color"],bd=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Iv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Fv=["color"],rg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Fv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Rv=["color"],Dv=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Rv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Ov=["color"],Mv=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Ov);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Bv=["color"],Mh=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Bv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Uv=["color"],Bh=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Uv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),zv=["color"],bh=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,zv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),qv=["color"],$v=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,qv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Hv=["color"],ng=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Hv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Wv=["color"],ig=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Wv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M3.5 2C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V4.70711L9.29289 2H3.5ZM2 2.5C2 1.67157 2.67157 1 3.5 1H9.5C9.63261 1 9.75979 1.05268 9.85355 1.14645L12.7803 4.07322C12.921 4.21388 13 4.40464 13 4.60355V12.5C13 13.3284 12.3284 14 11.5 14H3.5C2.67157 14 2 13.3284 2 12.5V2.5ZM4.75 7.5C4.75 7.22386 4.97386 7 5.25 7H7V5.25C7 4.97386 7.22386 4.75 7.5 4.75C7.77614 4.75 8 4.97386 8 5.25V7H9.75C10.0261 7 10.25 7.22386 10.25 7.5C10.25 7.77614 10.0261 8 9.75 8H8V9.75C8 10.0261 7.77614 10.25 7.5 10.25C7.22386 10.25 7 10.0261 7 9.75V8H5.25C4.97386 8 4.75 7.77614 4.75 7.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Vv=["color"],Zv=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Vv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H9.08579C9.21839 2 9.34557 2.05268 9.43934 2.14645L11.8536 4.56066C11.9473 4.65443 12 4.78161 12 4.91421V12.5C12 12.7761 11.7761 13 11.5 13H3.5C3.22386 13 3 12.7761 3 12.5V2.5ZM3.5 1C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V4.91421C13 4.51639 12.842 4.13486 12.5607 3.85355L10.1464 1.43934C9.86514 1.15804 9.48361 1 9.08579 1H3.5ZM4.5 4C4.22386 4 4 4.22386 4 4.5C4 4.77614 4.22386 5 4.5 5H7.5C7.77614 5 8 4.77614 8 4.5C8 4.22386 7.77614 4 7.5 4H4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H10.5C10.7761 11 11 10.7761 11 10.5C11 10.2239 10.7761 10 10.5 10H4.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Gv=["color"],sg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Gv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Yv=["color"],Lp=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Yv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Jv=["color"],Kv=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Jv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Xv=["color"],V1=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Xv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M14 11.0001V4.00006L1 4.00006L1 11.0001H14ZM15 4.00006V11.0001C15 11.5523 14.5523 12.0001 14 12.0001H1C0.447715 12.0001 0 11.5523 0 11.0001V4.00006C0 3.44778 0.447715 3.00006 1 3.00006H14C14.5523 3.00006 15 3.44778 15 4.00006ZM2 5.25C2 5.11193 2.11193 5 2.25 5H5.75C5.88807 5 6 5.11193 6 5.25V9.75C6 9.88807 5.88807 10 5.75 10H2.25C2.11193 10 2 9.88807 2 9.75V5.25ZM7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H7.5ZM7 9.5C7 9.22386 7.22386 9 7.5 9H12.5C12.7761 9 13 9.22386 13 9.5C13 9.77614 12.7761 10 12.5 10H7.5C7.22386 10 7 9.77614 7 9.5ZM7.5 5C7.22386 5 7 5.22386 7 5.5C7 5.77614 7.22386 6 7.5 6H11.5C11.7761 6 12 5.77614 12 5.5C12 5.22386 11.7761 5 11.5 5H7.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),Qv=["color"],ag=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,Qv);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ey=["color"],og=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,ey);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M1.5 5.25C1.91421 5.25 2.25 4.91421 2.25 4.5C2.25 4.08579 1.91421 3.75 1.5 3.75C1.08579 3.75 0.75 4.08579 0.75 4.5C0.75 4.91421 1.08579 5.25 1.5 5.25ZM4 4.5C4 4.22386 4.22386 4 4.5 4H13.5C13.7761 4 14 4.22386 14 4.5C14 4.77614 13.7761 5 13.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H13.5C13.7761 8 14 7.77614 14 7.5C14 7.22386 13.7761 7 13.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H13.5C13.7761 11 14 10.7761 14 10.5C14 10.2239 13.7761 10 13.5 10H4.5ZM2.25 7.5C2.25 7.91421 1.91421 8.25 1.5 8.25C1.08579 8.25 0.75 7.91421 0.75 7.5C0.75 7.08579 1.08579 6.75 1.5 6.75C1.91421 6.75 2.25 7.08579 2.25 7.5ZM1.5 11.25C1.91421 11.25 2.25 10.9142 2.25 10.5C2.25 10.0858 1.91421 9.75 1.5 9.75C1.08579 9.75 0.75 10.0858 0.75 10.5C0.75 10.9142 1.08579 11.25 1.5 11.25Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ty=["color"],du=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,ty);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ry=["color"],lg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,ry);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ny=["color"],Z1=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,ny);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.5 0.875C5.49797 0.875 3.875 2.49797 3.875 4.5C3.875 6.15288 4.98124 7.54738 6.49373 7.98351C5.2997 8.12901 4.27557 8.55134 3.50407 9.31167C2.52216 10.2794 2.02502 11.72 2.02502 13.5999C2.02502 13.8623 2.23769 14.0749 2.50002 14.0749C2.76236 14.0749 2.97502 13.8623 2.97502 13.5999C2.97502 11.8799 3.42786 10.7206 4.17091 9.9883C4.91536 9.25463 6.02674 8.87499 7.49995 8.87499C8.97317 8.87499 10.0846 9.25463 10.8291 9.98831C11.5721 10.7206 12.025 11.8799 12.025 13.5999C12.025 13.8623 12.2376 14.0749 12.5 14.0749C12.7623 14.075 12.975 13.8623 12.975 13.6C12.975 11.72 12.4778 10.2794 11.4959 9.31166C10.7244 8.55135 9.70025 8.12903 8.50625 7.98352C10.0187 7.5474 11.125 6.15289 11.125 4.5C11.125 2.49797 9.50203 0.875 7.5 0.875ZM4.825 4.5C4.825 3.02264 6.02264 1.825 7.5 1.825C8.97736 1.825 10.175 3.02264 10.175 4.5C10.175 5.97736 8.97736 7.175 7.5 7.175C6.02264 7.175 4.825 5.97736 4.825 4.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),iy=["color"],cg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,iy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),sy=["color"],ay=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,sy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M0.877075 7.49972C0.877075 3.84204 3.84222 0.876892 7.49991 0.876892C11.1576 0.876892 14.1227 3.84204 14.1227 7.49972C14.1227 11.1574 11.1576 14.1226 7.49991 14.1226C3.84222 14.1226 0.877075 11.1574 0.877075 7.49972ZM7.49991 1.82689C4.36689 1.82689 1.82708 4.36671 1.82708 7.49972C1.82708 10.6327 4.36689 13.1726 7.49991 13.1726C10.6329 13.1726 13.1727 10.6327 13.1727 7.49972C13.1727 4.36671 10.6329 1.82689 7.49991 1.82689ZM8.24993 10.5C8.24993 10.9142 7.91414 11.25 7.49993 11.25C7.08571 11.25 6.74993 10.9142 6.74993 10.5C6.74993 10.0858 7.08571 9.75 7.49993 9.75C7.91414 9.75 8.24993 10.0858 8.24993 10.5ZM6.05003 6.25C6.05003 5.57211 6.63511 4.925 7.50003 4.925C8.36496 4.925 8.95003 5.57211 8.95003 6.25C8.95003 6.74118 8.68002 6.99212 8.21447 7.27494C8.16251 7.30651 8.10258 7.34131 8.03847 7.37854L8.03841 7.37858C7.85521 7.48497 7.63788 7.61119 7.47449 7.73849C7.23214 7.92732 6.95003 8.23198 6.95003 8.7C6.95004 9.00376 7.19628 9.25 7.50004 9.25C7.8024 9.25 8.04778 9.00601 8.05002 8.70417L8.05056 8.7033C8.05924 8.6896 8.08493 8.65735 8.15058 8.6062C8.25207 8.52712 8.36508 8.46163 8.51567 8.37436L8.51571 8.37433C8.59422 8.32883 8.68296 8.27741 8.78559 8.21506C9.32004 7.89038 10.05 7.35382 10.05 6.25C10.05 4.92789 8.93511 3.825 7.50003 3.825C6.06496 3.825 4.95003 4.92789 4.95003 6.25C4.95003 6.55376 5.19628 6.8 5.50003 6.8C5.80379 6.8 6.05003 6.55376 6.05003 6.25Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),oy=["color"],ug=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,oy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ly=["color"],dg=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,ly);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),cy=["color"],uy=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,cy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M6.97942 1.25171L6.9585 1.30199L5.58662 4.60039C5.54342 4.70426 5.44573 4.77523 5.3336 4.78422L1.7727 5.0697L1.71841 5.07405L1.38687 5.10063L1.08608 5.12475C0.820085 5.14607 0.712228 5.47802 0.914889 5.65162L1.14406 5.84793L1.39666 6.06431L1.43802 6.09974L4.15105 8.42374C4.23648 8.49692 4.2738 8.61176 4.24769 8.72118L3.41882 12.196L3.40618 12.249L3.32901 12.5725L3.25899 12.866C3.19708 13.1256 3.47945 13.3308 3.70718 13.1917L3.9647 13.0344L4.24854 12.861L4.29502 12.8326L7.34365 10.9705C7.43965 10.9119 7.5604 10.9119 7.6564 10.9705L10.705 12.8326L10.7515 12.861L11.0354 13.0344L11.2929 13.1917C11.5206 13.3308 11.803 13.1256 11.7411 12.866L11.671 12.5725L11.5939 12.249L11.5812 12.196L10.7524 8.72118C10.7263 8.61176 10.7636 8.49692 10.849 8.42374L13.562 6.09974L13.6034 6.06431L13.856 5.84793L14.0852 5.65162C14.2878 5.47802 14.18 5.14607 13.914 5.12475L13.6132 5.10063L13.2816 5.07405L13.2274 5.0697L9.66645 4.78422C9.55432 4.77523 9.45663 4.70426 9.41343 4.60039L8.04155 1.30199L8.02064 1.25171L7.89291 0.944609L7.77702 0.665992C7.67454 0.419604 7.32551 0.419604 7.22303 0.665992L7.10715 0.944609L6.97942 1.25171ZM7.50003 2.60397L6.50994 4.98442C6.32273 5.43453 5.89944 5.74207 5.41351 5.78103L2.84361 5.98705L4.8016 7.66428C5.17183 7.98142 5.33351 8.47903 5.2204 8.95321L4.62221 11.461L6.8224 10.1171C7.23842 9.86302 7.76164 9.86302 8.17766 10.1171L10.3778 11.461L9.77965 8.95321C9.66654 8.47903 9.82822 7.98142 10.1984 7.66428L12.1564 5.98705L9.58654 5.78103C9.10061 5.74207 8.67732 5.43453 8.49011 4.98442L7.50003 2.60397Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),dy=["color"],Uh=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,dy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),hy=["color"],fy=G.forwardRef(function(r,e){var t=r.color,n=t===void 0?"currentColor":t,s=Vt(r,hy);return G.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),G.createElement("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});const py=({currentUser:r,onCreateNew:e,onLogout:t,isOpen:n,setIsOpen:s})=>{var v;let o="pdfinvoicer.app";typeof window<"u"&&window.location.hostname&&(o=window.location.hostname);const l=[{to:"/dashboard",label:"Dashboard",icon:Dv},{to:"/create-invoice",label:"Create Invoice",icon:ig,action:e},{to:"/invoice-history",label:"Invoice History",icon:og},{to:"/settings",label:"Settings",icon:sg},{to:"/contact",label:"Contact",icon:Bh}];(v=r==null?void 0:r.profile)!=null&&v.is_admin&&l.push({to:"/admin",label:"Admin Panel",icon:du});const u=r.profile.credits??0,h=({to:x,label:C,icon:b,action:j})=>{const L=A=>{j&&(A.preventDefault(),j()),s(!1)};return m.jsx("li",{children:m.jsxs(Mf,{to:x,onClick:L,className:({isActive:A})=>`w-full flex items-center px-4 py-3 my-2 text-left text-base font-medium rounded-lg transition-colors duration-200
                        ${A?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-800 dark:hover:text-gray-100"}`,children:[m.jsx(b,{className:"w-6 h-6 mr-4"}),C]})})},f=m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsxs("div",{className:"h-20 flex items-center justify-between pl-6 pr-4 border-b-2 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/logo.svg",alt:"PDF Invoicer Logo",className:"w-10 h-10"}),m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"PDF Invoicer"}),m.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:"BETA"})]})]}),m.jsx("button",{onClick:()=>s(!1),className:"md:hidden p-2",children:m.jsx(bd,{className:"w-6 h-6 text-gray-800 dark:text-gray-100"})})]}),m.jsx("nav",{className:"flex-1 px-4 py-6",children:m.jsxs("ul",{children:[l.map(x=>m.jsx(h,{...x},x.to)),m.jsx("li",{children:m.jsxs(Mf,{to:"/faq",onClick:()=>s(!1),className:"w-full flex items-center px-4 py-3 my-2 text-left text-base font-medium rounded-lg transition-colors duration-200 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-800 dark:hover:text-gray-100",children:[m.jsx(ay,{className:"w-6 h-6 mr-4"}),"Help / FAQ"]})})]})}),m.jsx("div",{className:"px-4 mb-4",children:m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-3 rounded-lg text-center",children:[m.jsxs("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500 dark:text-gray-400",children:[m.jsx(V1,{className:"w-4 h-4 mr-2"}),"CREDIT BALANCE"]}),m.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mt-1",children:u>=9999?"∞":u}),m.jsx(Mf,{to:"/buy-credits",onClick:()=>s(!1),className:"mt-2 text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:"Buy More Credits"})]})}),m.jsxs("div",{className:"p-4 border-t-2 dark:border-gray-700",children:[m.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center px-4 py-3 text-left text-base font-medium rounded-lg transition-colors duration-200 text-gray-600 dark:text-gray-300 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-700 dark:hover:text-red-300",children:[m.jsx($v,{className:"w-6 h-6 mr-4"}),"Logout"]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:["©2025 ",m.jsx("a",{href:"/",className:"text-inherit no-underline",target:"_blank",rel:"noopener noreferrer",children:o})]})]})]});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity md:hidden ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),m.jsx("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg z-40 transition-transform transform md:static md:translate-x-0 md:flex-shrink-0
                ${n?"translate-x-0":"-translate-x-full"}`,children:f})]})},gy="modulepreload",my=function(r){return"/"+r},Ap={},ol=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(f=>{if(f=my(f),f in Ap)return;Ap[f]=!0;const v=f.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const C=document.createElement("link");if(C.rel=v?"stylesheet":gy,v||(C.as="script"),C.crossOrigin="",C.href=f,h&&C.setAttribute("nonce",h),document.head.appendChild(C),v)return new Promise((b,j)=>{C.addEventListener("load",b),C.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},vy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>vu);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class G1 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class yy extends G1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pp extends G1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ep extends G1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var h1;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(h1||(h1={}));var xy=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};class wy{constructor(e,{headers:t={},customFetch:n,region:s=h1.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=vy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return xy(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=t;let u={},{region:h}=t;h||(h=this.region);const f=new URL(`${this.url}/${e}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let v;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(u["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(u["Content-Type"]="application/json",v=JSON.stringify(l)));const x=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:v}).catch(L=>{throw new yy(L)}),C=x.headers.get("x-relay-error");if(C&&C==="true")throw new Pp(x);if(!x.ok)throw new Ep(x);let b=((n=x.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield x.json():b==="application/octet-stream"?j=yield x.blob():b==="text/event-stream"?j=x:b==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof Ep||s instanceof Pp?s.context:void 0}}})}}var xn={},Uc={},zc={},qc={},$c={},Hc={},by=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hu=by();const _y=hu.fetch,hg=hu.fetch.bind(hu),fg=hu.Headers,ky=hu.Request,Cy=hu.Response,vu=Object.freeze(Object.defineProperty({__proto__:null,Headers:fg,Request:ky,Response:Cy,default:hg,fetch:_y},Symbol.toStringTag,{value:"Module"})),Sy=hm(vu);var sh={},Tp;function pg(){if(Tp)return sh;Tp=1,Object.defineProperty(sh,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return sh.default=r,sh}var Ip;function gg(){if(Ip)return Hc;Ip=1;var r=Hc&&Hc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Hc,"__esModule",{value:!0});const e=r(Sy),t=r(pg());class n{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var v,x,C;let b=null,j=null,L=null,A=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ne=await f.text();ne===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=ne:j=JSON.parse(ne))}const H=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),Y=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");H&&Y&&Y.length>1&&(L=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,L=null,A=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const H=await f.text();try{b=JSON.parse(H),Array.isArray(b)&&f.status===404&&(j=[],b=null,A=200,E="OK")}catch{f.status===404&&H===""?(A=204,E="No Content"):b={message:H}}if(b&&this.isMaybeSingle&&(!((C=b==null?void 0:b.details)===null||C===void 0)&&C.includes("0 rows"))&&(b=null,A=200,E="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:j,count:L,status:A,statusText:E}});return this.shouldThrowOnError||(h=h.catch(f=>{var v,x,C;return{error:{message:`${(v=f==null?void 0:f.name)!==null&&v!==void 0?v:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(x=f==null?void 0:f.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(C=f==null?void 0:f.code)!==null&&C!==void 0?C:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return Hc.default=n,Hc}var Fp;function mg(){if(Fp)return $c;Fp=1;var r=$c&&$c.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($c,"__esModule",{value:!0});const e=r(gg());class t extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",v=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${v?`${v},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var v;const x=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),C=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${C}"; options=${x};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return $c.default=t,$c}var Rp;function Y1(){if(Rp)return qc;Rp=1;var r=qc&&qc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qc,"__esModule",{value:!0});const e=r(mg());class t extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${h}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return qc.default=t,qc}var Dp;function vg(){if(Dp)return zc;Dp=1;var r=zc&&zc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zc,"__esModule",{value:!0});const e=r(Y1());class t{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=o,this.schema=l,this.fetch=u}select(s,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(s)){const f=s.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(f.length>0){const v=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const f="POST",v=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),u&&v.push(`count=${u}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(s)){const x=s.reduce((C,b)=>C.concat(Object.keys(b)),[]);if(x.length>0){const C=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",C.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return zc.default=t,zc}var qu={},$u={},Op;function Ny(){return Op||(Op=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.version=void 0,$u.version="0.0.0-automated"),$u}var Mp;function jy(){if(Mp)return qu;Mp=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.DEFAULT_HEADERS=void 0;const r=Ny();return qu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},qu}var Bp;function Ly(){if(Bp)return Uc;Bp=1;var r=Uc&&Uc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Uc,"__esModule",{value:!0});const e=r(vg()),t=r(Y1()),n=jy();class s{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:v}={}){let x;const C=new URL(`${this.url}/rpc/${l}`);let b;h||f?(x=h?"HEAD":"GET",Object.entries(u).filter(([L,A])=>A!==void 0).map(([L,A])=>[L,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([L,A])=>{C.searchParams.append(L,A)})):(x="POST",b=u);const j=Object.assign({},this.headers);return v&&(j.Prefer=`count=${v}`),new t.default({method:x,url:C,headers:j,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Uc.default=s,Uc}var Up;function Ay(){if(Up)return xn;Up=1;var r=xn&&xn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xn,"__esModule",{value:!0}),xn.PostgrestError=xn.PostgrestBuilder=xn.PostgrestTransformBuilder=xn.PostgrestFilterBuilder=xn.PostgrestQueryBuilder=xn.PostgrestClient=void 0;const e=r(Ly());xn.PostgrestClient=e.default;const t=r(vg());xn.PostgrestQueryBuilder=t.default;const n=r(Y1());xn.PostgrestFilterBuilder=n.default;const s=r(mg());xn.PostgrestTransformBuilder=s.default;const o=r(gg());xn.PostgrestBuilder=o.default;const l=r(pg());return xn.PostgrestError=l.default,xn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},xn}var Py=Ay();const Ey=B1(Py),{PostgrestClient:Ty,PostgrestQueryBuilder:db,PostgrestFilterBuilder:hb,PostgrestTransformBuilder:fb,PostgrestBuilder:pb,PostgrestError:gb}=Ey;function Iy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Fy=Iy(),Ry="2.11.15",Dy=`realtime-js/${Ry}`,Oy="1.0.0",yg=1e4,My=1e3;var Ju;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ju||(Ju={}));var Kn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Kn||(Kn={}));var Es;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Es||(Es={}));var f1;(function(r){r.websocket="websocket"})(f1||(f1={}));var ac;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ac||(ac={}));class By{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:f}}}class xg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Cr||(Cr={}));const zp=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,l)=>(o[l]=Uy(l,r,e,s),o),{})},Uy=(r,e,t,n)=>{const s=e.find(u=>u.name===r),o=s==null?void 0:s.type,l=t[r];return o&&!n.includes(o)?wg(o,l):p1(l)},wg=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Hy(e,t)}switch(r){case Cr.bool:return zy(e);case Cr.float4:case Cr.float8:case Cr.int2:case Cr.int4:case Cr.int8:case Cr.numeric:case Cr.oid:return qy(e);case Cr.json:case Cr.jsonb:return $y(e);case Cr.timestamp:return Wy(e);case Cr.abstime:case Cr.date:case Cr.daterange:case Cr.int4range:case Cr.int8range:case Cr.money:case Cr.reltime:case Cr.text:case Cr.time:case Cr.timestamptz:case Cr.timetz:case Cr.tsrange:case Cr.tstzrange:return p1(e);default:return p1(e)}},p1=r=>r,zy=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},qy=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},$y=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Hy=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let o;const l=r.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>wg(e,u))}return r},Wy=r=>typeof r=="string"?r.replace(" ","T"):r,bg=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Uf{constructor(e,t,n={},s=yg){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(qp||(qp={}));class Ku{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,s,o,l),this.pendingDiffs.forEach(h=>{this.state=Ku.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ku.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const o=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(o,(f,v)=>{l[f]||(h[f]=v)}),this.map(l,(f,v)=>{const x=o[f];if(x){const C=v.map(A=>A.presence_ref),b=x.map(A=>A.presence_ref),j=v.filter(A=>b.indexOf(A.presence_ref)<0),L=x.filter(A=>C.indexOf(A.presence_ref)<0);j.length>0&&(u[f]=j),L.length>0&&(h[f]=L)}else u[f]=v}),this.syncDiff(o,{joins:u,leaves:h},n,s)}static syncDiff(e,t,n,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(u,h)=>{var f;const v=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),v.length>0){const x=e[u].map(b=>b.presence_ref),C=v.filter(b=>x.indexOf(b.presence_ref)<0);e[u].unshift(...C)}n(u,v,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const v=h.map(x=>x.presence_ref);f=f.filter(x=>v.indexOf(x.presence_ref)<0),e[u]=f,s(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})($p||($p={}));var Hp;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Hp||(Hp={}));var Qa;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Qa||(Qa={}));class J1{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Uf(this,Es.join,this.params,this.timeout),this.rejoinTimer=new xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Es.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ku(this),this.broadcastEndpointURL=bg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Kn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(v=>e==null?void 0:e(Qa.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Qa.CLOSED));const h={},f={broadcast:o,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(Qa.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,b=(x=C==null?void 0:C.length)!==null&&x!==void 0?x:0,j=[];for(let L=0;L<b;L++){const A=C[L],{filter:{event:E,schema:D,table:H,filter:Y}}=A,ne=v&&v[L];if(ne&&ne.event===E&&ne.schema===D&&ne.table===H&&ne.filter===Y)j.push(Object.assign(Object.assign({},A),{id:ne.id}));else{this.unsubscribe(),this.state=Kn.errored,e==null||e(Qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Qa.SUBSCRIBED);return}}).receive("error",v=>{this.state=Kn.errored,e==null||e(Qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Es.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Uf(this,Es.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Uf(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:v}=Es;if(n&&[u,h,f,v].indexOf(l)>=0&&n!==this._joinRef())return;let C=this._onMessage(l,t,n);if(t&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,L,A;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((A=(L=b.filter)===null||L===void 0?void 0:L.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(b=>b.callback(C,n)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var j,L,A,E,D,H;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const Y=b.id,ne=(j=b.filter)===null||j===void 0?void 0:j.event;return Y&&((L=t.ids)===null||L===void 0?void 0:L.includes(Y))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((A=t.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const Y=(D=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return Y==="*"||Y===((H=t==null?void 0:t.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof C=="object"&&"ids"in C){const j=C.data,{schema:L,table:A,commit_timestamp:E,type:D,errors:H}=j;C=Object.assign(Object.assign({},{schema:L,table:A,commit_timestamp:E,eventType:D,new:{},old:{},errors:H}),this._getPayloadRecords(j))}b.callback(C,n)})}_isClosed(){return this.state===Kn.closed}_isJoined(){return this.state===Kn.joined}_isJoining(){return this.state===Kn.joining}_isLeaving(){return this.state===Kn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&J1.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Es.close,{},e)}_onError(e){this._on(Es.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=zp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=zp(e.columns,e.old_record)),t}}const Wp=()=>{},Vy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zy{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wp,this.ref=0,this.logger=Wp,this.conn=null,this.sendBuffer=[],this.serializer=new By,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>ol(async()=>{const{default:h}=await Promise.resolve().then(()=>vu);return{default:h}},void 0).then(({default:h})=>h(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${f1.websocket}`,this.httpEndpoint=bg(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Fy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oy}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ju.connecting:return ac.Connecting;case Ju.open:return ac.Open;case Ju.closing:return ac.Closing;default:return ac.Closed}}isConnected(){return this.connectionState()===ac.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new J1(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:n,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${n} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const s={access_token:t,version:Dy};t&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Es.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(My,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:o,ref:l}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Es.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Vy],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class K1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Gy extends K1{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class g1 extends K1{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Yy=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};const _g=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>vu);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Jy=()=>Yy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ol(()=>Promise.resolve().then(()=>vu),void 0)).Response:Response}),m1=r=>{if(Array.isArray(r))return r.map(t=>m1(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=m1(n)}),e};var fc=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};const zf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ky=(r,e,t)=>fc(void 0,void 0,void 0,function*(){const n=yield Jy();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new Gy(zf(s),r.status||500))}).catch(s=>{e(new g1(zf(s),s))}):e(new g1(zf(r),r))}),Xy=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function _d(r,e,t,n,s,o){return fc(this,void 0,void 0,function*(){return new Promise((l,u)=>{r(t,Xy(e,n,s,o)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Ky(h,u,n))})})}function _h(r,e,t,n){return fc(this,void 0,void 0,function*(){return _d(r,"GET",e,t,n)})}function tl(r,e,t,n,s){return fc(this,void 0,void 0,function*(){return _d(r,"POST",e,n,s,t)})}function Qy(r,e,t,n,s){return fc(this,void 0,void 0,function*(){return _d(r,"PUT",e,n,s,t)})}function e4(r,e,t,n){return fc(this,void 0,void 0,function*(){return _d(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function kg(r,e,t,n,s){return fc(this,void 0,void 0,function*(){return _d(r,"DELETE",e,n,s,t)})}var ji=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};const t4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r4{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=_g(s)}uploadOrUpdate(e,t,n,s){return ji(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Vp),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(t),v=this._getFinalPath(f),x=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),C=yield x.json();return x.ok?{data:{path:f,id:C.Id,fullPath:C.Key},error:null}:{data:null,error:C}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}upload(e,t,n){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return ji(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:Vp.upsert},s),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType);const x=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:v}),C=yield x.json();return x.ok?{data:{path:o,fullPath:C.Key},error:null}:{data:null,error:C}}catch(h){if(bn(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return ji(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield tl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new K1("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}update(e,t,n){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ji(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}copy(e,t,n){return ji(this,void 0,void 0,function*(){try{return{data:{path:(yield tl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return ji(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield tl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return ji(this,void 0,void 0,function*(){try{const s=yield tl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}download(e,t){return ji(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield _h(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(bn(u))return{data:null,error:u};throw u}})}info(e){return ji(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield _h(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:m1(n),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}exists(e){return ji(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield e4(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(bn(n)&&n instanceof g1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&s.push(h);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(e){return ji(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}list(e,t,n){return ji(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},t4),t),{prefix:e||""});return{data:yield tl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const n4="2.7.1",i4={"X-Client-Info":`storage-js/${n4}`};var Wc=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};class s4{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},i4),t),this.fetch=_g(n)}listBuckets(){return Wc(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(bn(e))return{data:null,error:e};throw e}})}getBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Wc(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Wc(this,void 0,void 0,function*(){try{return{data:yield Qy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}}class a4 extends s4{constructor(e,t={},n){super(e,t,n)}from(e){return new r4(this.url,this.headers,e,this.fetch)}}const o4="2.50.5";let Zu="";typeof Deno<"u"?Zu="deno":typeof document<"u"?Zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zu="react-native":Zu="node";const l4={"X-Client-Info":`supabase-js-${Zu}/${o4}`},c4={headers:l4},u4={schema:"public"},d4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h4={};var f4=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};const p4=r=>{let e;return r?e=r:typeof fetch>"u"?e=hg:e=fetch,(...t)=>e(...t)},g4=()=>typeof Headers>"u"?fg:Headers,m4=(r,e,t)=>{const n=p4(t),s=g4();return(o,l)=>f4(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:r;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",r),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},l),{headers:f}))})};var v4=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};function y4(r){return r.endsWith("/")?r:r+"/"}function x4(r,e){var t,n;const{db:s,auth:o,realtime:l,global:u}=r,{db:h,auth:f,realtime:v,global:x}=e,C={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},v),l),global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(t=x==null?void 0:x.headers)!==null&&t!==void 0?t:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>v4(this,void 0,void 0,function*(){return""})};return r.accessToken?C.accessToken=r.accessToken:delete C.accessToken,C}const Cg="2.70.0",Xc=30*1e3,v1=3,qf=v1*Xc,w4="http://localhost:9999",b4="supabase.auth.token",_4={"X-Client-Info":`gotrue-js/${Cg}`},y1="X-Supabase-Api-Version",Sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C4=6e5;class X1 extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Dt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class S4 extends X1{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function N4(r){return Dt(r)&&r.name==="AuthApiError"}class Ng extends X1{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ml extends X1{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class el extends ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j4(r){return Dt(r)&&r.name==="AuthSessionMissingError"}class ah extends ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oh extends ml{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lh extends ml{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L4(r){return Dt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Zp extends ml{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x1 extends ml{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $f(r){return Dt(r)&&r.name==="AuthRetryableFetchError"}class Gp extends ml{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Xu extends ml{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yp=` 	
\r=`.split(""),A4=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Yp.length;e+=1)r[Yp[e].charCodeAt(0)]=-2;for(let e=0;e<kh.length;e+=1)r[kh[e].charCodeAt(0)]=e;return r})();function Jp(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(kh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(kh[n]),e.queuedBits-=6}}function jg(r,e,t){const n=A4[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Kp(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{T4(l,n,t)};for(let l=0;l<r.length;l+=1)jg(r.charCodeAt(l),s,o);return e.join("")}function P4(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function E4(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}P4(n,e)}}function T4(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function I4(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)jg(r.charCodeAt(s),t,n);return new Uint8Array(e)}function F4(r){const e=[];return E4(r,t=>e.push(t)),new Uint8Array(e)}function R4(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return r.forEach(s=>Jp(s,t,n)),Jp(null,t,n),e.join("")}function D4(r){return Math.round(Date.now()/1e3)+r}function O4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const As=()=>typeof window<"u"&&typeof document<"u",nc={tested:!1,writable:!1},Qu=()=>{if(!As())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nc.tested)return nc.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),nc.tested=!0,nc.writable=!0}catch{nc.tested=!0,nc.writable=!1}return nc.writable};function M4(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Lg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>vu);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},B4=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ag=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ch=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},uh=async(r,e)=>{await r.removeItem(e)};class zh{constructor(){this.promise=new zh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}zh.promiseConstructor=Promise;function Hf(r){const e=r.split(".");if(e.length!==3)throw new Xu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!k4.test(e[n]))throw new Xu("JWT not in base64url format");return{header:JSON.parse(Kp(e[0])),payload:JSON.parse(Kp(e[1])),signature:I4(e[2]),raw:{header:e[0],payload:e[1]}}}async function U4(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function z4(r,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await r(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function q4(r){return("0"+r.toString(16)).substr(-2)}function $4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,q4).join("")}async function H4(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function W4(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await H4(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vc(r,e,t=!1){const n=$4();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Ag(r,`${e}-code-verifier`,s);const o=await W4(n);return[o,n===o?"plain":"s256"]}const V4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z4(r){const e=r.headers.get(y1);if(!e||!e.match(V4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function G4(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Y4(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zc(r){if(!J4.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var K4=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const ic=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),X4=[502,503,504];async function Xp(r){var e;if(!B4(r))throw new x1(ic(r),0);if(X4.includes(r.status))throw new x1(ic(r),r.status);let t;try{t=await r.json()}catch(o){throw new Ng(ic(o),o)}let n;const s=Z4(r);if(s&&s.getTime()>=Sg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Gp(ic(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new el}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Gp(ic(t),r.status,t.weak_password.reasons);throw new S4(ic(t),r.status||500,n)}const Q4=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function $t(r,e,t,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[y1]||(o[y1]=Sg["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await e3(r,e,t+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function e3(r,e,t,n,s,o){const l=Q4(e,n,s,o);let u;try{u=await r(t,Object.assign({},l))}catch(h){throw console.error(h),new x1(ic(h),0)}if(u.ok||await Xp(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(h){await Xp(h)}}function Ka(r){var e;let t=null;i3(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=D4(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Qp(r){const e=Ka(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function rl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function t3(r){return{data:r,error:null}}function r3(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:o}=r,l=K4(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function n3(r){return r}function i3(r){return r.access_token&&r.refresh_token&&r.expires_in}const Wf=["global","local","others"];var s3=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class a3{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Lg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Wf[0]){if(Wf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return await $t(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await $t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:rl})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=s3(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:r3,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Dt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rl})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,o,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},v=await $t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:n3});if(v.error)throw v.error;const x=await v.json(),C=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(h=(u=v.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const L=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(j.split(";")[1].split("=")[1]);f[`${A}Page`]=L}),f.total=parseInt(C)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Dt(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Zc(e);try{return await $t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rl})}catch(t){if(Dt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Zc(e);try{return await $t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:rl})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Zc(e);try{return await $t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:rl})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Zc(e.userId);try{const{data:t,error:n}=await $t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(Dt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Zc(e.userId),Zc(e.id);try{return{data:await $t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Dt(t))return{data:null,error:t};throw t}}}const o3={getItem:r=>Qu()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Qu()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Qu()&&globalThis.localStorage.removeItem(r)}};function e2(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function l3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gc={debug:!!(globalThis&&Qu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class c3 extends Pg{}async function u3(r,e,t){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new c3(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Gc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}l3();const d3={url:w4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t2(r,e,t){return await t()}class id{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=id.nextInstanceID,id.nextInstanceID+=1,this.instanceID>0&&As()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},d3),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new a3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lg(s.fetch),this.lock=s.lock||t2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:As()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=u3:this.lock=t2,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qu()?this.storage=o3:(this.memoryStorage={},this.storage=e2(this.memoryStorage)):(this.memoryStorage={},this.storage=e2(this.memoryStorage)),As()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=M4(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),As()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),L4(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Dt(t)?{error:t}:{error:new Ng("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ka}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Dt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,s;try{let o;if("email"in e){const{email:v,password:x,options:C}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Vc(this.storage,this.storageKey)),o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:v,password:x,data:(t=C==null?void 0:C.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:b,code_challenge_method:j},xform:Ka})}else if("phone"in e){const{phone:v,password:x,options:C}=e;o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},channel:(s=C==null?void 0:C.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:Ka})}else throw new oh("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Dt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Qp})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Qp})}else throw new oh("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ah}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,o,l,u,h,f,v,x,C,b;let j,L;if("message"in e)j=e.message,L=e.signature;else{const{chain:A,wallet:E,statement:D,options:H}=e;let Y;if(As())if(typeof E=="object")Y=E;else{const we=window;if("solana"in we&&typeof we.solana=="object"&&("signIn"in we.solana&&typeof we.solana.signIn=="function"||"signMessage"in we.solana&&typeof we.solana.signMessage=="function"))Y=we.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=E}const ne=new URL((t=H==null?void 0:H.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in Y&&Y.signIn){const we=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),D?{statement:D}:null));let ue;if(Array.isArray(we)&&we[0]&&typeof we[0]=="object")ue=we[0];else if(we&&typeof we=="object"&&"signedMessage"in we&&"signature"in we)ue=we;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)j=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),L=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ne.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(s=(n=H==null?void 0:H.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=H==null?void 0:H.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((l=H==null?void 0:H.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((u=H==null?void 0:H.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((h=H==null?void 0:H.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((x=(v=H==null?void 0:H.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...H.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);const we=await Y.signMessage(new TextEncoder().encode(j),"utf8");if(!we||!(we instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=we}}try{const{data:A,error:E}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:R4(L)},!((C=e.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ka});if(E)throw E;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new ah}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:E})}catch(A){if(Dt(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const t=await ch(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:o,error:l}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ka});if(await uh(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ah}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Dt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:o,nonce:l}=e,u=await $t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ka}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ah}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,o,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Vc(this.storage,this.storageKey));const{error:x}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:v}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:v}}throw new oh("You must provide either an email or phone number.")}catch(u){if(Dt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,n;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await $t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ka});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Vc(this.storage,this.storageKey)),await $t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:t3})}catch(o){if(Dt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new el;const{error:s}=await $t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:l}=await $t(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:l,error:u}=await $t(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new oh("You must provide either an email or phone number and a type")}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ch(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,v)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,v))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rl}):await this._useSession(async t=>{var n,s,o;const{data:l,error:u}=t;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new el}:await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:rl})})}catch(t){if(Dt(t))return j4(t)&&(await this._removeSession(),await uh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new el;const l=s.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Vc(this.storage,this.storageKey));const{data:f,error:v}=await $t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:rl});if(v)throw v;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new el;const t=Date.now()/1e3;let n=t,s=!0,o=null;const{payload:l}=Hf(e.access_token);if(l.exp&&(n=l.exp,s=n<=t),s){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Dt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new el;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Dt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!As())throw new lh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zp("No code detected.");const{data:D,error:H}=await this._exchangeCodeForSession(e.code);if(H)throw H;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!o||!u||!l||!f)throw new lh("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(u);let C=v+x;h&&(C=parseInt(h));const b=C-v;b*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const j=C-x;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,C,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,C,v);const{data:L,error:A}=await this._getUser(o);if(A)throw A;const E={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:C,refresh_token:l,token_type:f,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(Dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ch(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:o}=t;if(o)return{error:o};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(N4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await uh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=O4(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:o},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Vc(this.storage,this.storageKey,!0));try{return await $t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Dt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Dt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async o=>{var l,u,h,f,v;const{data:x,error:C}=o;if(C)throw C;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await $t(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&v!==void 0?v:void 0})});if(s)throw s;return As()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Dt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:o,error:l}=t;if(l)throw l;return await $t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Dt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await z4(async s=>(s>0&&await U4(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await $t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ka})),(s,o)=>{const l=200*Math.pow(2,s);return o&&$f(o)&&Date.now()+l-n<Xc})}catch(n){if(this._debug(t,"error",n),Dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),As()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await ch(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qf;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${qf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),$f(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new el;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zh;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new el;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Dt(o)){const l={session:null,error:o};return $f(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ag(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await uh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&As()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xc}ms, refresh threshold is ${v1} ticks`),s<=v1&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!As()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await Vc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:o}=t;return o?{data:null,error:o}:await $t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Dt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:o,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await $t(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Dt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:u}=await $t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:o}=t;return o?{data:null,error:o}:await $t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Dt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hf(s.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const v=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(l=>l.kid===e);if(n||(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+C4>Date.now()))return n;const{data:s,error:o}=await $t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Xu("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===e),!n)throw new Xu("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};n=b.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:h}}=Hf(n);if(G4(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:o,header:s,signature:l},error:null}}const f=Y4(s.alg),v=await this.fetchJwk(s.kid,t),x=await crypto.subtle.importKey("jwk",v,f,!0,["verify"]);if(!await crypto.subtle.verify(f,x,l,F4(`${u}.${h}`)))throw new Xu("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}}id.nextInstanceID=0;const h3=id;class f3 extends h3{constructor(e){super(e)}}var p3=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(x){l(x)}}function h(v){try{f(n.throw(v))}catch(x){l(x)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(r,e||[])).next())})};class g3{constructor(e,t,n){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=y4(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:u4,realtime:h4,auth:Object.assign(Object.assign({},d4),{storageKey:f}),global:c4},x=x4(n??{},v);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(C,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,x.global.fetch),this.fetch=m4(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Ty(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new wy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return p3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:o,flowType:l,lock:u,debug:h},f,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f3({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:l,lock:u,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m3=(r,e,t)=>new g3(r,e,t),v3="https://upgvvoufmlhrecgltdge.supabase.co",y3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwZ3Z2b3VmbWxocmVjZ2x0ZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzUxMDcsImV4cCI6MjA2NzIxMTEwN30.IcEzMtC-EblbRxVpeLpbNX-2qr3ptHw5CTF6kNOuQXA",Wt=m3(v3,y3);var Kt;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},r.getValidEnumValues=s=>{const o=r.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of o)l[u]=s[u];return r.objectValues(l)},r.objectValues=s=>r.objectKeys(s).map(function(o){return s[o]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},r.find=(s,o)=>{for(const l of s)if(o(l))return l},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}r.joinValues=n,r.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Kt||(Kt={}));var w1;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(w1||(w1={}));const nt=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nl=r=>{switch(typeof r){case"undefined":return nt.undefined;case"string":return nt.string;case"number":return isNaN(r)?nt.nan:nt.number;case"boolean":return nt.boolean;case"function":return nt.function;case"bigint":return nt.bigint;case"symbol":return nt.symbol;case"object":return Array.isArray(r)?nt.array:r===null?nt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?nt.promise:typeof Map<"u"&&r instanceof Map?nt.map:typeof Set<"u"&&r instanceof Set?nt.set:typeof Date<"u"&&r instanceof Date?nt.date:nt.object;default:return nt.unknown}},$e=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),x3=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class Li extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(t(l));else{let u=n,h=0;for(;h<l.path.length;){const f=l.path[h];h===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(l))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return s(this),n}static assert(e){if(!(e instanceof Li))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Li.create=r=>new Li(r);const fu=(r,e)=>{let t;switch(r.code){case $e.invalid_type:r.received===nt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case $e.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Kt.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:t=`Unrecognized key(s) in object: ${Kt.joinValues(r.keys,", ")}`;break;case $e.invalid_union:t="Invalid input";break;case $e.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Kt.joinValues(r.options)}`;break;case $e.invalid_enum_value:t=`Invalid enum value. Expected ${Kt.joinValues(r.options)}, received '${r.received}'`;break;case $e.invalid_arguments:t="Invalid function arguments";break;case $e.invalid_return_type:t="Invalid function return type";break;case $e.invalid_date:t="Invalid date";break;case $e.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Kt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case $e.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case $e.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case $e.custom:t="Invalid input";break;case $e.invalid_intersection_types:t="Intersection results could not be merged";break;case $e.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case $e.not_finite:t="Number must be finite";break;default:t=e.defaultError,Kt.assertNever(r)}return{message:t}};let Eg=fu;function w3(r){Eg=r}function Ch(){return Eg}const Sh=r=>{const{data:e,path:t,errorMaps:n,issueData:s}=r,o=[...t,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const h=n.filter(f=>!!f).slice().reverse();for(const f of h)u=f(l,{data:e,defaultError:u}).message;return{...s,path:o,message:u}},b3=[];function tt(r,e){const t=Ch(),n=Sh({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===fu?void 0:fu].filter(s=>!!s)});r.common.issues.push(n)}class ei{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if(s.status==="aborted")return St;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t){const o=await s.key,l=await s.value;n.push({key:o,value:l})}return ei.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return St;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}}const St=Object.freeze({status:"aborted"}),ru=r=>({status:"dirty",value:r}),ui=r=>({status:"valid",value:r}),b1=r=>r.status==="aborted",_1=r=>r.status==="dirty",sd=r=>r.status==="valid",ad=r=>typeof Promise<"u"&&r instanceof Promise;function Nh(r,e,t,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function Tg(r,e,t,n,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var ht;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ht||(ht={}));var Gu,Yu;class la{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r2=(r,e)=>{if(sd(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Li(r.common.issues);return this._error=t,this._error}}};function Ot(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var h,f;const{message:v}=r;return l.code==="invalid_enum_value"?{message:v??u.defaultError}:typeof u.data>"u"?{message:(h=v??n)!==null&&h!==void 0?h:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(f=v??t)!==null&&f!==void 0?f:u.defaultError}},description:s}}class Bt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return nl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ei,ctx:{common:e.parent.common,data:e.data,parsedType:nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ad(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nl(e)},o=this._parseSync({data:e,path:s.path,parent:s});return r2(s,o)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nl(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(ad(s)?s:Promise.resolve(s));return r2(n,o)}refine(e,t){const n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,o)=>{const l=e(s),u=()=>o.addIssue({code:$e.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new Fs({schema:this,typeName:Ct.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return aa.create(this,this._def)}nullable(){return dl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Is.create(this,this._def)}promise(){return gu.create(this,this._def)}or(e){return ud.create([this,e],this._def)}and(e){return dd.create(this,e,this._def)}transform(e){return new Fs({...Ot(this._def),schema:this,typeName:Ct.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new md({...Ot(this._def),innerType:this,defaultValue:t,typeName:Ct.ZodDefault})}brand(){return new Q1({typeName:Ct.ZodBranded,type:this,...Ot(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new vd({...Ot(this._def),innerType:this,catchValue:t,typeName:Ct.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return kd.create(this,e)}readonly(){return yd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _3=/^c[^\s-]{8,}$/i,k3=/^[0-9a-z]+$/,C3=/^[0-9A-HJKMNP-TV-Z]{26}$/,S3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N3=/^[a-z0-9_-]{21}$/i,j3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vf;const P3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,E3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,T3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ig="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I3=new RegExp(`^${Ig}$`);function Fg(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function F3(r){return new RegExp(`^${Fg(r)}$`)}function Rg(r){let e=`${Ig}T${Fg(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function R3(r,e){return!!((e==="v4"||!e)&&P3.test(r)||(e==="v6"||!e)&&E3.test(r))}class Ts extends Bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nt.string){const o=this._getOrReturnCtx(e);return tt(o,{code:$e.invalid_type,expected:nt.string,received:o.parsedType}),St}const n=new ei;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?tt(s,{code:$e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&tt(s,{code:$e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")L3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"email",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Vf||(Vf=new RegExp(A3,"u")),Vf.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"emoji",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")S3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"uuid",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")N3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"nanoid",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")_3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")k3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid2",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")C3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ulid",code:$e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),tt(s,{validation:"url",code:$e.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"regex",code:$e.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Rg(o).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?I3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?F3(o).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?j3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"duration",code:$e.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?R3(e.data,o.version)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ip",code:$e.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?T3.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"base64",code:$e.invalid_string,message:o.message}),n.dirty()):Kt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:$e.invalid_string,...ht.errToObj(n)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ht.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ht.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ht.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ht.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ht.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ht.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ht.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ht.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ht.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ht.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ht.errToObj(t)})}nonempty(e){return this.min(1,ht.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ts.create=r=>{var e;return new Ts({checks:[],typeName:Ct.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ot(r)})};function D3(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,o=parseInt(r.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class ll extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nt.number){const o=this._getOrReturnCtx(e);return tt(o,{code:$e.invalid_type,expected:nt.number,received:o.parsedType}),St}let n;const s=new ei;for(const o of this._def.checks)o.kind==="int"?Kt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?D3(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.not_finite,message:o.message}),s.dirty()):Kt.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ht.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ht.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ht.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ht.toString(t))}setLimit(e,t,n,s){return new ll({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ht.toString(s)}]})}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ll.create=r=>new ll({checks:[],typeName:Ct.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Ot(r)});class cl extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==nt.bigint){const o=this._getOrReturnCtx(e);return tt(o,{code:$e.invalid_type,expected:nt.bigint,received:o.parsedType}),St}let n;const s=new ei;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:$e.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Kt.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ht.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ht.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ht.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ht.toString(t))}setLimit(e,t,n,s){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ht.toString(s)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}cl.create=r=>{var e;return new cl({checks:[],typeName:Ct.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ot(r)})};class od extends Bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nt.boolean){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.boolean,received:n.parsedType}),St}return ui(e.data)}}od.create=r=>new od({typeName:Ct.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Ot(r)});class uc extends Bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nt.date){const o=this._getOrReturnCtx(e);return tt(o,{code:$e.invalid_type,expected:nt.date,received:o.parsedType}),St}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return tt(o,{code:$e.invalid_date}),St}const n=new ei;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:$e.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Kt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new uc({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ht.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ht.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}uc.create=r=>new uc({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Ct.ZodDate,...Ot(r)});class jh extends Bt{_parse(e){if(this._getType(e)!==nt.symbol){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.symbol,received:n.parsedType}),St}return ui(e.data)}}jh.create=r=>new jh({typeName:Ct.ZodSymbol,...Ot(r)});class ld extends Bt{_parse(e){if(this._getType(e)!==nt.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.undefined,received:n.parsedType}),St}return ui(e.data)}}ld.create=r=>new ld({typeName:Ct.ZodUndefined,...Ot(r)});class cd extends Bt{_parse(e){if(this._getType(e)!==nt.null){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.null,received:n.parsedType}),St}return ui(e.data)}}cd.create=r=>new cd({typeName:Ct.ZodNull,...Ot(r)});class pu extends Bt{constructor(){super(...arguments),this._any=!0}_parse(e){return ui(e.data)}}pu.create=r=>new pu({typeName:Ct.ZodAny,...Ot(r)});class lc extends Bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ui(e.data)}}lc.create=r=>new lc({typeName:Ct.ZodUnknown,...Ot(r)});class to extends Bt{_parse(e){const t=this._getOrReturnCtx(e);return tt(t,{code:$e.invalid_type,expected:nt.never,received:t.parsedType}),St}}to.create=r=>new to({typeName:Ct.ZodNever,...Ot(r)});class Lh extends Bt{_parse(e){if(this._getType(e)!==nt.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.void,received:n.parsedType}),St}return ui(e.data)}}Lh.create=r=>new Lh({typeName:Ct.ZodVoid,...Ot(r)});class Is extends Bt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==nt.array)return tt(t,{code:$e.invalid_type,expected:nt.array,received:t.parsedType}),St;if(s.exactLength!==null){const l=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(l||u)&&(tt(t,{code:l?$e.too_big:$e.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(tt(t,{code:$e.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(tt(t,{code:$e.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>s.type._parseAsync(new la(t,l,t.path,u)))).then(l=>ei.mergeArray(n,l));const o=[...t.data].map((l,u)=>s.type._parseSync(new la(t,l,t.path,u)));return ei.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Is({...this._def,minLength:{value:e,message:ht.toString(t)}})}max(e,t){return new Is({...this._def,maxLength:{value:e,message:ht.toString(t)}})}length(e,t){return new Is({...this._def,exactLength:{value:e,message:ht.toString(t)}})}nonempty(e){return this.min(1,e)}}Is.create=(r,e)=>new Is({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ct.ZodArray,...Ot(e)});function Qc(r){if(r instanceof zr){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=aa.create(Qc(n))}return new zr({...r._def,shape:()=>e})}else return r instanceof Is?new Is({...r._def,type:Qc(r.element)}):r instanceof aa?aa.create(Qc(r.unwrap())):r instanceof dl?dl.create(Qc(r.unwrap())):r instanceof ca?ca.create(r.items.map(e=>Qc(e))):r}class zr extends Bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Kt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==nt.object){const f=this._getOrReturnCtx(e);return tt(f,{code:$e.invalid_type,expected:nt.object,received:f.parsedType}),St}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof to&&this._def.unknownKeys==="strip"))for(const f in s.data)l.includes(f)||u.push(f);const h=[];for(const f of l){const v=o[f],x=s.data[f];h.push({key:{status:"valid",value:f},value:v._parse(new la(s,x,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof to){const f=this._def.unknownKeys;if(f==="passthrough")for(const v of u)h.push({key:{status:"valid",value:v},value:{status:"valid",value:s.data[v]}});else if(f==="strict")u.length>0&&(tt(s,{code:$e.unrecognized_keys,keys:u}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const v of u){const x=s.data[v];h.push({key:{status:"valid",value:v},value:f._parse(new la(s,x,s.path,v)),alwaysSet:v in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const v of h){const x=await v.key,C=await v.value;f.push({key:x,value:C,alwaysSet:v.alwaysSet})}return f}).then(f=>ei.mergeObjectSync(n,f)):ei.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return ht.errToObj,new zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,o,l,u;const h=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,t,n).message)!==null&&l!==void 0?l:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=ht.errToObj(e).message)!==null&&u!==void 0?u:h}:{message:h}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ct.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new zr({...this._def,catchall:e})}pick(e){const t={};return Kt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new zr({...this._def,shape:()=>t})}omit(e){const t={};return Kt.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new zr({...this._def,shape:()=>t})}deepPartial(){return Qc(this)}partial(e){const t={};return Kt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new zr({...this._def,shape:()=>t})}required(e){const t={};return Kt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof aa;)o=o._def.innerType;t[n]=o}}),new zr({...this._def,shape:()=>t})}keyof(){return Dg(Kt.objectKeys(this.shape))}}zr.create=(r,e)=>new zr({shape:()=>r,unknownKeys:"strip",catchall:to.create(),typeName:Ct.ZodObject,...Ot(e)});zr.strictCreate=(r,e)=>new zr({shape:()=>r,unknownKeys:"strict",catchall:to.create(),typeName:Ct.ZodObject,...Ot(e)});zr.lazycreate=(r,e)=>new zr({shape:r,unknownKeys:"strip",catchall:to.create(),typeName:Ct.ZodObject,...Ot(e)});class ud extends Bt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new Li(u.ctx.common.issues));return tt(t,{code:$e.invalid_union,unionErrors:l}),St}if(t.common.async)return Promise.all(n.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const h of n){const f={...t,common:{...t.common,issues:[]},parent:null},v=h._parseSync({data:t.data,path:t.path,parent:f});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(h=>new Li(h));return tt(t,{code:$e.invalid_union,unionErrors:u}),St}}get options(){return this._def.options}}ud.create=(r,e)=>new ud({options:r,typeName:Ct.ZodUnion,...Ot(e)});const Xa=r=>r instanceof fd?Xa(r.schema):r instanceof Fs?Xa(r.innerType()):r instanceof pd?[r.value]:r instanceof ul?r.options:r instanceof gd?Kt.objectValues(r.enum):r instanceof md?Xa(r._def.innerType):r instanceof ld?[void 0]:r instanceof cd?[null]:r instanceof aa?[void 0,...Xa(r.unwrap())]:r instanceof dl?[null,...Xa(r.unwrap())]:r instanceof Q1||r instanceof yd?Xa(r.unwrap()):r instanceof vd?Xa(r._def.innerType):[];class qh extends Bt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.object)return tt(t,{code:$e.invalid_type,expected:nt.object,received:t.parsedType}),St;const n=this.discriminator,s=t.data[n],o=this.optionsMap.get(s);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(tt(t,{code:$e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),St)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const o of t){const l=Xa(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,o)}}return new qh({typeName:Ct.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Ot(n)})}}function k1(r,e){const t=nl(r),n=nl(e);if(r===e)return{valid:!0,data:r};if(t===nt.object&&n===nt.object){const s=Kt.objectKeys(e),o=Kt.objectKeys(r).filter(u=>s.indexOf(u)!==-1),l={...r,...e};for(const u of o){const h=k1(r[u],e[u]);if(!h.valid)return{valid:!1};l[u]=h.data}return{valid:!0,data:l}}else if(t===nt.array&&n===nt.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<r.length;o++){const l=r[o],u=e[o],h=k1(l,u);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return t===nt.date&&n===nt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class dd extends Bt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(o,l)=>{if(b1(o)||b1(l))return St;const u=k1(o.value,l.value);return u.valid?((_1(o)||_1(l))&&t.dirty(),{status:t.value,value:u.data}):(tt(n,{code:$e.invalid_intersection_types}),St)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dd.create=(r,e,t)=>new dd({left:r,right:e,typeName:Ct.ZodIntersection,...Ot(t)});class ca extends Bt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==nt.array)return tt(n,{code:$e.invalid_type,expected:nt.array,received:n.parsedType}),St;if(n.data.length<this._def.items.length)return tt(n,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),St;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...n.data].map((l,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new la(n,l,n.path,u)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>ei.mergeArray(t,l)):ei.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ca({...this._def,rest:e})}}ca.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ca({items:r,typeName:Ct.ZodTuple,rest:null,...Ot(e)})};class hd extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==nt.object)return tt(n,{code:$e.invalid_type,expected:nt.object,received:n.parsedType}),St;const s=[],o=this._def.keyType,l=this._def.valueType;for(const u in n.data)s.push({key:o._parse(new la(n,u,n.path,u)),value:l._parse(new la(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?ei.mergeObjectAsync(t,s):ei.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Bt?new hd({keyType:e,valueType:t,typeName:Ct.ZodRecord,...Ot(n)}):new hd({keyType:Ts.create(),valueType:e,typeName:Ct.ZodRecord,...Ot(t)})}}class Ah extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==nt.map)return tt(n,{code:$e.invalid_type,expected:nt.map,received:n.parsedType}),St;const s=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([u,h],f)=>({key:s._parse(new la(n,u,n.path,[f,"key"])),value:o._parse(new la(n,h,n.path,[f,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of l){const f=await h.key,v=await h.value;if(f.status==="aborted"||v.status==="aborted")return St;(f.status==="dirty"||v.status==="dirty")&&t.dirty(),u.set(f.value,v.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const h of l){const f=h.key,v=h.value;if(f.status==="aborted"||v.status==="aborted")return St;(f.status==="dirty"||v.status==="dirty")&&t.dirty(),u.set(f.value,v.value)}return{status:t.value,value:u}}}}Ah.create=(r,e,t)=>new Ah({valueType:e,keyType:r,typeName:Ct.ZodMap,...Ot(t)});class dc extends Bt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==nt.set)return tt(n,{code:$e.invalid_type,expected:nt.set,received:n.parsedType}),St;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(tt(n,{code:$e.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(tt(n,{code:$e.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const o=this._def.valueType;function l(h){const f=new Set;for(const v of h){if(v.status==="aborted")return St;v.status==="dirty"&&t.dirty(),f.add(v.value)}return{status:t.value,value:f}}const u=[...n.data.values()].map((h,f)=>o._parse(new la(n,h,n.path,f)));return n.common.async?Promise.all(u).then(h=>l(h)):l(u)}min(e,t){return new dc({...this._def,minSize:{value:e,message:ht.toString(t)}})}max(e,t){return new dc({...this._def,maxSize:{value:e,message:ht.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dc.create=(r,e)=>new dc({valueType:r,minSize:null,maxSize:null,typeName:Ct.ZodSet,...Ot(e)});class iu extends Bt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.function)return tt(t,{code:$e.invalid_type,expected:nt.function,received:t.parsedType}),St;function n(u,h){return Sh({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ch(),fu].filter(f=>!!f),issueData:{code:$e.invalid_arguments,argumentsError:h}})}function s(u,h){return Sh({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ch(),fu].filter(f=>!!f),issueData:{code:$e.invalid_return_type,returnTypeError:h}})}const o={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof gu){const u=this;return ui(async function(...h){const f=new Li([]),v=await u._def.args.parseAsync(h,o).catch(b=>{throw f.addIssue(n(h,b)),f}),x=await Reflect.apply(l,this,v);return await u._def.returns._def.type.parseAsync(x,o).catch(b=>{throw f.addIssue(s(x,b)),f})})}else{const u=this;return ui(function(...h){const f=u._def.args.safeParse(h,o);if(!f.success)throw new Li([n(h,f.error)]);const v=Reflect.apply(l,this,f.data),x=u._def.returns.safeParse(v,o);if(!x.success)throw new Li([s(v,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new iu({...this._def,args:ca.create(e).rest(lc.create())})}returns(e){return new iu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new iu({args:e||ca.create([]).rest(lc.create()),returns:t||lc.create(),typeName:Ct.ZodFunction,...Ot(n)})}}class fd extends Bt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}fd.create=(r,e)=>new fd({getter:r,typeName:Ct.ZodLazy,...Ot(e)});class pd extends Bt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return tt(t,{received:t.data,code:$e.invalid_literal,expected:this._def.value}),St}return{status:"valid",value:e.data}}get value(){return this._def.value}}pd.create=(r,e)=>new pd({value:r,typeName:Ct.ZodLiteral,...Ot(e)});function Dg(r,e){return new ul({values:r,typeName:Ct.ZodEnum,...Ot(e)})}class ul extends Bt{constructor(){super(...arguments),Gu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return tt(t,{expected:Kt.joinValues(n),received:t.parsedType,code:$e.invalid_type}),St}if(Nh(this,Gu)||Tg(this,Gu,new Set(this._def.values)),!Nh(this,Gu).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return tt(t,{received:t.data,code:$e.invalid_enum_value,options:n}),St}return ui(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ul.create(e,{...this._def,...t})}exclude(e,t=this._def){return ul.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}Gu=new WeakMap;ul.create=Dg;class gd extends Bt{constructor(){super(...arguments),Yu.set(this,void 0)}_parse(e){const t=Kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==nt.string&&n.parsedType!==nt.number){const s=Kt.objectValues(t);return tt(n,{expected:Kt.joinValues(s),received:n.parsedType,code:$e.invalid_type}),St}if(Nh(this,Yu)||Tg(this,Yu,new Set(Kt.getValidEnumValues(this._def.values))),!Nh(this,Yu).has(e.data)){const s=Kt.objectValues(t);return tt(n,{received:n.data,code:$e.invalid_enum_value,options:s}),St}return ui(e.data)}get enum(){return this._def.values}}Yu=new WeakMap;gd.create=(r,e)=>new gd({values:r,typeName:Ct.ZodNativeEnum,...Ot(e)});class gu extends Bt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==nt.promise&&t.common.async===!1)return tt(t,{code:$e.invalid_type,expected:nt.promise,received:t.parsedType}),St;const n=t.parsedType===nt.promise?t.data:Promise.resolve(t.data);return ui(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}gu.create=(r,e)=>new gu({type:r,typeName:Ct.ZodPromise,...Ot(e)});class Fs extends Bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{tt(n,l),l.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(n.data,o);if(n.common.async)return Promise.resolve(l).then(async u=>{if(t.value==="aborted")return St;const h=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return h.status==="aborted"?St:h.status==="dirty"||t.value==="dirty"?ru(h.value):h});{if(t.value==="aborted")return St;const u=this._def.schema._parseSync({data:l,path:n.path,parent:n});return u.status==="aborted"?St:u.status==="dirty"||t.value==="dirty"?ru(u.value):u}}if(s.type==="refinement"){const l=u=>{const h=s.refinement(u,o);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?St:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?St:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sd(l))return l;const u=s.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>sd(l)?Promise.resolve(s.transform(l.value,o)).then(u=>({status:t.value,value:u})):l);Kt.assertNever(s)}}Fs.create=(r,e,t)=>new Fs({schema:r,typeName:Ct.ZodEffects,effect:e,...Ot(t)});Fs.createWithPreprocess=(r,e,t)=>new Fs({schema:e,effect:{type:"preprocess",transform:r},typeName:Ct.ZodEffects,...Ot(t)});class aa extends Bt{_parse(e){return this._getType(e)===nt.undefined?ui(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aa.create=(r,e)=>new aa({innerType:r,typeName:Ct.ZodOptional,...Ot(e)});class dl extends Bt{_parse(e){return this._getType(e)===nt.null?ui(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dl.create=(r,e)=>new dl({innerType:r,typeName:Ct.ZodNullable,...Ot(e)});class md extends Bt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===nt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}md.create=(r,e)=>new md({innerType:r,typeName:Ct.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ot(e)});class vd extends Bt{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ad(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vd.create=(r,e)=>new vd({innerType:r,typeName:Ct.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ot(e)});class Ph extends Bt{_parse(e){if(this._getType(e)!==nt.nan){const n=this._getOrReturnCtx(e);return tt(n,{code:$e.invalid_type,expected:nt.nan,received:n.parsedType}),St}return{status:"valid",value:e.data}}}Ph.create=r=>new Ph({typeName:Ct.ZodNaN,...Ot(r)});const O3=Symbol("zod_brand");class Q1 extends Bt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class kd extends Bt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?St:o.status==="dirty"?(t.dirty(),ru(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?St:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new kd({in:e,out:t,typeName:Ct.ZodPipeline})}}class yd extends Bt{_parse(e){const t=this._def.innerType._parse(e),n=s=>(sd(s)&&(s.value=Object.freeze(s.value)),s);return ad(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}}yd.create=(r,e)=>new yd({innerType:r,typeName:Ct.ZodReadonly,...Ot(e)});function Og(r,e={},t){return r?pu.create().superRefine((n,s)=>{var o,l;if(!r(n)){const u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,h=(l=(o=u.fatal)!==null&&o!==void 0?o:t)!==null&&l!==void 0?l:!0,f=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...f,fatal:h})}}):pu.create()}const M3={object:zr.lazycreate};var Ct;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ct||(Ct={}));const B3=(r,e={message:`Input not instance of ${r.name}`})=>Og(t=>t instanceof r,e),Mg=Ts.create,Bg=ll.create,U3=Ph.create,z3=cl.create,Ug=od.create,q3=uc.create,$3=jh.create,H3=ld.create,W3=cd.create,V3=pu.create,Z3=lc.create,G3=to.create,Y3=Lh.create,J3=Is.create,K3=zr.create,X3=zr.strictCreate,Q3=ud.create,ex=qh.create,tx=dd.create,rx=ca.create,nx=hd.create,ix=Ah.create,sx=dc.create,ax=iu.create,ox=fd.create,lx=pd.create,cx=ul.create,ux=gd.create,dx=gu.create,n2=Fs.create,hx=aa.create,fx=dl.create,px=Fs.createWithPreprocess,gx=kd.create,mx=()=>Mg().optional(),vx=()=>Bg().optional(),yx=()=>Ug().optional(),xx={string:r=>Ts.create({...r,coerce:!0}),number:r=>ll.create({...r,coerce:!0}),boolean:r=>od.create({...r,coerce:!0}),bigint:r=>cl.create({...r,coerce:!0}),date:r=>uc.create({...r,coerce:!0})},wx=St;var wt=Object.freeze({__proto__:null,defaultErrorMap:fu,setErrorMap:w3,getErrorMap:Ch,makeIssue:Sh,EMPTY_PATH:b3,addIssueToContext:tt,ParseStatus:ei,INVALID:St,DIRTY:ru,OK:ui,isAborted:b1,isDirty:_1,isValid:sd,isAsync:ad,get util(){return Kt},get objectUtil(){return w1},ZodParsedType:nt,getParsedType:nl,ZodType:Bt,datetimeRegex:Rg,ZodString:Ts,ZodNumber:ll,ZodBigInt:cl,ZodBoolean:od,ZodDate:uc,ZodSymbol:jh,ZodUndefined:ld,ZodNull:cd,ZodAny:pu,ZodUnknown:lc,ZodNever:to,ZodVoid:Lh,ZodArray:Is,ZodObject:zr,ZodUnion:ud,ZodDiscriminatedUnion:qh,ZodIntersection:dd,ZodTuple:ca,ZodRecord:hd,ZodMap:Ah,ZodSet:dc,ZodFunction:iu,ZodLazy:fd,ZodLiteral:pd,ZodEnum:ul,ZodNativeEnum:gd,ZodPromise:gu,ZodEffects:Fs,ZodTransformer:Fs,ZodOptional:aa,ZodNullable:dl,ZodDefault:md,ZodCatch:vd,ZodNaN:Ph,BRAND:O3,ZodBranded:Q1,ZodPipeline:kd,ZodReadonly:yd,custom:Og,Schema:Bt,ZodSchema:Bt,late:M3,get ZodFirstPartyTypeKind(){return Ct},coerce:xx,any:V3,array:J3,bigint:z3,boolean:Ug,date:q3,discriminatedUnion:ex,effect:n2,enum:cx,function:ax,instanceof:B3,intersection:tx,lazy:ox,literal:lx,map:ix,nan:U3,nativeEnum:ux,never:G3,null:W3,nullable:fx,number:Bg,object:K3,oboolean:yx,onumber:vx,optional:hx,ostring:mx,pipeline:gx,preprocess:px,promise:dx,record:nx,set:sx,strictObject:X3,string:Mg,symbol:$3,transformer:n2,tuple:rx,undefined:H3,union:Q3,unknown:Z3,void:Y3,NEVER:wx,ZodIssueCode:$e,quotelessJson:x3,ZodError:Li});function gr(r){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(r)}var Qn=Uint8Array,$i=Uint16Array,e0=Int32Array,$h=new Qn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hh=new Qn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C1=new Qn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zg=function(r,e){for(var t=new $i(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new e0(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)s[o]=o-t[n]<<5|n;return{b:t,r:s}},qg=zg($h,2),$g=qg.b,S1=qg.r;$g[28]=258,S1[258]=28;var Hg=zg(Hh,0),bx=Hg.b,i2=Hg.r,N1=new $i(32768);for(var Ir=0;Ir<32768;++Ir){var Xo=(Ir&43690)>>1|(Ir&21845)<<1;Xo=(Xo&52428)>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>4|(Xo&3855)<<4,N1[Ir]=((Xo&65280)>>8|(Xo&255)<<8)>>1}var oa=function(r,e,t){for(var n=r.length,s=0,o=new $i(e);s<n;++s)r[s]&&++o[r[s]-1];var l=new $i(e);for(s=1;s<e;++s)l[s]=l[s-1]+o[s-1]<<1;var u;if(t){u=new $i(1<<e);var h=15-e;for(s=0;s<n;++s)if(r[s])for(var f=s<<4|r[s],v=e-r[s],x=l[r[s]-1]++<<v,C=x|(1<<v)-1;x<=C;++x)u[N1[x]>>h]=f}else for(u=new $i(n),s=0;s<n;++s)r[s]&&(u[s]=N1[l[r[s]-1]++]>>15-r[s]);return u},hl=new Qn(288);for(var Ir=0;Ir<144;++Ir)hl[Ir]=8;for(var Ir=144;Ir<256;++Ir)hl[Ir]=9;for(var Ir=256;Ir<280;++Ir)hl[Ir]=7;for(var Ir=280;Ir<288;++Ir)hl[Ir]=8;var xd=new Qn(32);for(var Ir=0;Ir<32;++Ir)xd[Ir]=5;var _x=oa(hl,9,0),kx=oa(hl,9,1),Cx=oa(xd,5,0),Sx=oa(xd,5,1),Zf=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},js=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},Gf=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},t0=function(r){return(r+7)/8|0},Wg=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Qn(r.subarray(e,t))},Nx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ps=function(r,e,t){var n=new Error(e||Nx[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Ps),!t)throw n;return n},jx=function(r,e,t,n){var s=r.length,o=0;if(!s||e.f&&!e.l)return t||new Qn(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new Qn(s*3));var f=function(Oe){var Ve=t.length;if(Oe>Ve){var Ge=new Qn(Math.max(Ve*2,Oe));Ge.set(t),t=Ge}},v=e.f||0,x=e.p||0,C=e.b||0,b=e.l,j=e.d,L=e.m,A=e.n,E=s*8;do{if(!b){v=js(r,x,1);var D=js(r,x+1,3);if(x+=3,D)if(D==1)b=kx,j=Sx,L=9,A=5;else if(D==2){var we=js(r,x,31)+257,ue=js(r,x+10,15)+4,Q=we+js(r,x+5,31)+1;x+=14;for(var ye=new Qn(Q),pe=new Qn(19),B=0;B<ue;++B)pe[C1[B]]=js(r,x+B*3,7);x+=ue*3;for(var V=Zf(pe),ie=(1<<V)-1,ee=oa(pe,V,1),B=0;B<Q;){var Se=ee[js(r,x,ie)];x+=Se&15;var H=Se>>4;if(H<16)ye[B++]=H;else{var ke=0,Ne=0;for(H==16?(Ne=3+js(r,x,3),x+=2,ke=ye[B-1]):H==17?(Ne=3+js(r,x,7),x+=3):H==18&&(Ne=11+js(r,x,127),x+=7);Ne--;)ye[B++]=ke}}var re=ye.subarray(0,we),se=ye.subarray(we);L=Zf(re),A=Zf(se),b=oa(re,L,1),j=oa(se,A,1)}else Ps(1);else{var H=t0(x)+4,Y=r[H-4]|r[H-3]<<8,ne=H+Y;if(ne>s){h&&Ps(0);break}u&&f(C+Y),t.set(r.subarray(H,ne),C),e.b=C+=Y,e.p=x=ne*8,e.f=v;continue}if(x>E){h&&Ps(0);break}}u&&f(C+131072);for(var I=(1<<L)-1,ae=(1<<A)-1,N=x;;N=x){var ke=b[Gf(r,x)&I],M=ke>>4;if(x+=ke&15,x>E){h&&Ps(0);break}if(ke||Ps(2),M<256)t[C++]=M;else if(M==256){N=x,b=null;break}else{var $=M-254;if(M>264){var B=M-257,z=$h[B];$=js(r,x,(1<<z)-1)+$g[B],x+=z}var W=j[Gf(r,x)&ae],K=W>>4;W||Ps(3),x+=W&15;var se=bx[K];if(K>3){var z=Hh[K];se+=Gf(r,x)&(1<<z)-1,x+=z}if(x>E){h&&Ps(0);break}u&&f(C+131072);var de=C+$;if(C<se){var me=o-se,De=Math.min(se,de);for(me+C<0&&Ps(3);C<De;++C)t[C]=n[me+C]}for(;C<de;++C)t[C]=t[C-se]}}e.l=b,e.p=N,e.b=C,e.f=v,b&&(v=1,e.m=L,e.d=j,e.n=A)}while(!v);return C!=t.length&&l?Wg(t,0,C):t.subarray(0,C)},Ja=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Hu=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Yf=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,o=t.slice();if(!s)return{t:Zg,l:0};if(s==1){var l=new Qn(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ne,we){return ne.f-we.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],f=0,v=1,x=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};v!=s-1;)u=t[t[f].f<t[x].f?f++:x++],h=t[f!=v&&t[f].f<t[x].f?f++:x++],t[v++]={s:-1,f:u.f+h.f,l:u,r:h};for(var C=o[0].s,n=1;n<s;++n)o[n].s>C&&(C=o[n].s);var b=new $i(C+1),j=j1(t[v-1],b,0);if(j>e){var n=0,L=0,A=j-e,E=1<<A;for(o.sort(function(we,ue){return b[ue.s]-b[we.s]||we.f-ue.f});n<s;++n){var D=o[n].s;if(b[D]>e)L+=E-(1<<j-b[D]),b[D]=e;else break}for(L>>=A;L>0;){var H=o[n].s;b[H]<e?L-=1<<e-b[H]++-1:++n}for(;n>=0&&L;--n){var Y=o[n].s;b[Y]==e&&(--b[Y],++L)}j=e}return{t:new Qn(b),l:j}},j1=function(r,e,t){return r.s==-1?Math.max(j1(r.l,e,t+1),j1(r.r,e,t+1)):e[r.s]=t},s2=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new $i(++e),n=0,s=r[0],o=1,l=function(h){t[n++]=h},u=1;u<=e;++u)if(r[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=r[u]}return{c:t.subarray(0,n),n:e}},Wu=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Vg=function(r,e,t){var n=t.length,s=t0(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<n;++o)r[s+o+4]=t[o];return(s+4+n)*8},a2=function(r,e,t,n,s,o,l,u,h,f,v){Ja(e,v++,t),++s[256];for(var x=Yf(s,15),C=x.t,b=x.l,j=Yf(o,15),L=j.t,A=j.l,E=s2(C),D=E.c,H=E.n,Y=s2(L),ne=Y.c,we=Y.n,ue=new $i(19),Q=0;Q<D.length;++Q)++ue[D[Q]&31];for(var Q=0;Q<ne.length;++Q)++ue[ne[Q]&31];for(var ye=Yf(ue,7),pe=ye.t,B=ye.l,V=19;V>4&&!pe[C1[V-1]];--V);var ie=f+5<<3,ee=Wu(s,hl)+Wu(o,xd)+l,Se=Wu(s,C)+Wu(o,L)+l+14+3*V+Wu(ue,pe)+2*ue[16]+3*ue[17]+7*ue[18];if(h>=0&&ie<=ee&&ie<=Se)return Vg(e,v,r.subarray(h,h+f));var ke,Ne,re,se;if(Ja(e,v,1+(Se<ee)),v+=2,Se<ee){ke=oa(C,b,0),Ne=C,re=oa(L,A,0),se=L;var I=oa(pe,B,0);Ja(e,v,H-257),Ja(e,v+5,we-1),Ja(e,v+10,V-4),v+=14;for(var Q=0;Q<V;++Q)Ja(e,v+3*Q,pe[C1[Q]]);v+=3*V;for(var ae=[D,ne],N=0;N<2;++N)for(var M=ae[N],Q=0;Q<M.length;++Q){var $=M[Q]&31;Ja(e,v,I[$]),v+=pe[$],$>15&&(Ja(e,v,M[Q]>>5&127),v+=M[Q]>>12)}}else ke=_x,Ne=hl,re=Cx,se=xd;for(var Q=0;Q<u;++Q){var z=n[Q];if(z>255){var $=z>>18&31;Hu(e,v,ke[$+257]),v+=Ne[$+257],$>7&&(Ja(e,v,z>>23&31),v+=$h[$]);var W=z&31;Hu(e,v,re[W]),v+=se[W],W>3&&(Hu(e,v,z>>5&8191),v+=Hh[W])}else Hu(e,v,ke[z]),v+=Ne[z]}return Hu(e,v,ke[256]),v+Ne[256]},Lx=new e0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zg=new Qn(0),Ax=function(r,e,t,n,s,o){var l=o.z||r.length,u=new Qn(n+l+5*(1+Math.ceil(l/7e3))+s),h=u.subarray(n,u.length-s),f=o.l,v=(o.r||0)&7;if(e){v&&(h[0]=o.r>>3);for(var x=Lx[e-1],C=x>>13,b=x&8191,j=(1<<t)-1,L=o.p||new $i(32768),A=o.h||new $i(j+1),E=Math.ceil(t/3),D=2*E,H=function(mt){return(r[mt]^r[mt+1]<<E^r[mt+2]<<D)&j},Y=new e0(25e3),ne=new $i(288),we=new $i(32),ue=0,Q=0,ye=o.i||0,pe=0,B=o.w||0,V=0;ye+2<l;++ye){var ie=H(ye),ee=ye&32767,Se=A[ie];if(L[ee]=Se,A[ie]=ee,B<=ye){var ke=l-ye;if((ue>7e3||pe>24576)&&(ke>423||!f)){v=a2(r,h,0,Y,ne,we,Q,pe,V,ye-V,v),pe=ue=Q=0,V=ye;for(var Ne=0;Ne<286;++Ne)ne[Ne]=0;for(var Ne=0;Ne<30;++Ne)we[Ne]=0}var re=2,se=0,I=b,ae=ee-Se&32767;if(ke>2&&ie==H(ye-ae))for(var N=Math.min(C,ke)-1,M=Math.min(32767,ye),$=Math.min(258,ke);ae<=M&&--I&&ee!=Se;){if(r[ye+re]==r[ye+re-ae]){for(var z=0;z<$&&r[ye+z]==r[ye+z-ae];++z);if(z>re){if(re=z,se=ae,z>N)break;for(var W=Math.min(ae,z-2),K=0,Ne=0;Ne<W;++Ne){var de=ye-ae+Ne&32767,me=L[de],De=de-me&32767;De>K&&(K=De,Se=de)}}}ee=Se,Se=L[ee],ae+=ee-Se&32767}if(se){Y[pe++]=268435456|S1[re]<<18|i2[se];var Oe=S1[re]&31,Ve=i2[se]&31;Q+=$h[Oe]+Hh[Ve],++ne[257+Oe],++we[Ve],B=ye+re,++ue}else Y[pe++]=r[ye],++ne[r[ye]]}}for(ye=Math.max(ye,B);ye<l;++ye)Y[pe++]=r[ye],++ne[r[ye]];v=a2(r,h,f,Y,ne,we,Q,pe,V,ye-V,v),f||(o.r=v&7|h[v/8|0]<<3,v-=7,o.h=A,o.p=L,o.i=ye,o.w=B)}else{for(var ye=o.w||0;ye<l+f;ye+=65535){var Ge=ye+65535;Ge>=l&&(h[v/8|0]=f,Ge=l),v=Vg(h,v+1,r.subarray(ye,Ge))}o.i=l}return Wg(u,0,n+t0(v)+s)},Gg=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,o=t.length|0,l=0;l!=o;){for(var u=Math.min(l+2655,o);l<u;++l)s+=n+=t[l];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Px=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Qn(o.length+r.length);l.set(o),l.set(r,o.length),r=l,s.w=o.length}return Ax(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},Yg=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ex=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=Gg();s.p(e.dictionary),Yg(r,2,s.d())}},Tx=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Ps(6,"invalid zlib data"),(r[1]>>5&1)==1&&Ps(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function L1(r,e){e||(e={});var t=Gg();t.p(r);var n=Px(r,e,e.dictionary?6:2,4);return Ex(n,e),Yg(n,n.length-4,t.d()),n}function Ix(r,e){return jx(r.subarray(Tx(r),-4),{i:2},e,e)}var Fx=typeof TextDecoder<"u"&&new TextDecoder,Rx=0;try{Fx.decode(Zg,{stream:!0}),Rx=1}catch{}var kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jf(){kt.console&&typeof kt.console.log=="function"&&kt.console.log.apply(kt.console,arguments)}var wr={log:Jf,warn:function(r){kt.console&&(typeof kt.console.warn=="function"?kt.console.warn.apply(kt.console,arguments):Jf.call(null,arguments))},error:function(r){kt.console&&(typeof kt.console.error=="function"?kt.console.error.apply(kt.console,arguments):Jf(r))}};function Kf(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){sc(n.response,e,t)},n.onerror=function(){wr.error("could not download file")},n.send()}function o2(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dh(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var ed,A1,sc=kt.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=kt.URL||kt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?o2(s.href)?Kf(r,e,t):dh(s,s.target="_blank"):dh(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){dh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(o2(r))Kf(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){dh(n)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:gr(o)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Kf(r,e,t);var s=r.type==="application/octet-stream",o=/constructor/i.test(kt.HTMLElement)||kt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var v=u.result;v=l?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},u.readAsDataURL(r)}else{var h=kt.URL||kt.webkitURL,f=h.createObjectURL(r);n?n.location=f:location.href=f,n=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Jg(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,o=t[n].process,l=s.exec(r);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Xf(r,e){var t=r[0],n=r[1],s=r[2],o=r[3];t=Zn(t,n,s,o,e[0],7,-680876936),o=Zn(o,t,n,s,e[1],12,-389564586),s=Zn(s,o,t,n,e[2],17,606105819),n=Zn(n,s,o,t,e[3],22,-1044525330),t=Zn(t,n,s,o,e[4],7,-176418897),o=Zn(o,t,n,s,e[5],12,1200080426),s=Zn(s,o,t,n,e[6],17,-1473231341),n=Zn(n,s,o,t,e[7],22,-45705983),t=Zn(t,n,s,o,e[8],7,1770035416),o=Zn(o,t,n,s,e[9],12,-1958414417),s=Zn(s,o,t,n,e[10],17,-42063),n=Zn(n,s,o,t,e[11],22,-1990404162),t=Zn(t,n,s,o,e[12],7,1804603682),o=Zn(o,t,n,s,e[13],12,-40341101),s=Zn(s,o,t,n,e[14],17,-1502002290),t=Gn(t,n=Zn(n,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Gn(o,t,n,s,e[6],9,-1069501632),s=Gn(s,o,t,n,e[11],14,643717713),n=Gn(n,s,o,t,e[0],20,-373897302),t=Gn(t,n,s,o,e[5],5,-701558691),o=Gn(o,t,n,s,e[10],9,38016083),s=Gn(s,o,t,n,e[15],14,-660478335),n=Gn(n,s,o,t,e[4],20,-405537848),t=Gn(t,n,s,o,e[9],5,568446438),o=Gn(o,t,n,s,e[14],9,-1019803690),s=Gn(s,o,t,n,e[3],14,-187363961),n=Gn(n,s,o,t,e[8],20,1163531501),t=Gn(t,n,s,o,e[13],5,-1444681467),o=Gn(o,t,n,s,e[2],9,-51403784),s=Gn(s,o,t,n,e[7],14,1735328473),t=Yn(t,n=Gn(n,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Yn(o,t,n,s,e[8],11,-2022574463),s=Yn(s,o,t,n,e[11],16,1839030562),n=Yn(n,s,o,t,e[14],23,-35309556),t=Yn(t,n,s,o,e[1],4,-1530992060),o=Yn(o,t,n,s,e[4],11,1272893353),s=Yn(s,o,t,n,e[7],16,-155497632),n=Yn(n,s,o,t,e[10],23,-1094730640),t=Yn(t,n,s,o,e[13],4,681279174),o=Yn(o,t,n,s,e[0],11,-358537222),s=Yn(s,o,t,n,e[3],16,-722521979),n=Yn(n,s,o,t,e[6],23,76029189),t=Yn(t,n,s,o,e[9],4,-640364487),o=Yn(o,t,n,s,e[12],11,-421815835),s=Yn(s,o,t,n,e[15],16,530742520),t=Jn(t,n=Yn(n,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Jn(o,t,n,s,e[7],10,1126891415),s=Jn(s,o,t,n,e[14],15,-1416354905),n=Jn(n,s,o,t,e[5],21,-57434055),t=Jn(t,n,s,o,e[12],6,1700485571),o=Jn(o,t,n,s,e[3],10,-1894986606),s=Jn(s,o,t,n,e[10],15,-1051523),n=Jn(n,s,o,t,e[1],21,-2054922799),t=Jn(t,n,s,o,e[8],6,1873313359),o=Jn(o,t,n,s,e[15],10,-30611744),s=Jn(s,o,t,n,e[6],15,-1560198380),n=Jn(n,s,o,t,e[13],21,1309151649),t=Jn(t,n,s,o,e[4],6,-145523070),o=Jn(o,t,n,s,e[11],10,-1120210379),s=Jn(s,o,t,n,e[2],15,718787259),n=Jn(n,s,o,t,e[9],21,-343485551),r[0]=sl(t,r[0]),r[1]=sl(n,r[1]),r[2]=sl(s,r[2]),r[3]=sl(o,r[3])}function Wh(r,e,t,n,s,o){return e=sl(sl(e,r),sl(n,o)),sl(e<<s|e>>>32-s,t)}function Zn(r,e,t,n,s,o,l){return Wh(e&t|~e&n,r,e,s,o,l)}function Gn(r,e,t,n,s,o,l){return Wh(e&n|t&~n,r,e,s,o,l)}function Yn(r,e,t,n,s,o,l){return Wh(e^t^n,r,e,s,o,l)}function Jn(r,e,t,n,s,o,l){return Wh(t^(e|~n),r,e,s,o,l)}function Kg(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Xf(n,Dx(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Xf(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Xf(n,s),n}function Dx(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}ed=kt.atob.bind(kt),A1=kt.btoa.bind(kt);var l2="0123456789abcdef".split("");function Ox(r){for(var e="",t=0;t<4;t++)e+=l2[r>>8*t+4&15]+l2[r>>8*t&15];return e}function Mx(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function P1(r){return Kg(r).map(Mx).join("")}var Bx=function(r){for(var e=0;e<r.length;e++)r[e]=Ox(r[e]);return r.join("")}(Kg("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(r,e){if(Bx){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E1(r,e){var t,n,s,o;if(r!==t){for(var l=(s=r,o=1+(256/r.length>>0),new Array(o+1).join(s)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var v=u[h];f=(f+v+l.charCodeAt(h))%256,u[h]=u[f],u[f]=v}t=r,n=u}else u=n;var x=e.length,C=0,b=0,j="";for(h=0;h<x;h++)b=(b+(v=u[C=(C+1)%256]))%256,u[C]=u[b],u[b]=v,l=u[(u[C]+u[b])%256],j+=String.fromCharCode(e.charCodeAt(h)^l);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var c2={print:4,modify:8,copy:16,"annot-forms":32};function eu(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(u){if(c2.perm!==void 0)throw new Error("Invalid permission: "+u);s+=c2[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=P1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=E1(this.encryptionKey,this.padding)}function tu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function u2(r){if(gr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!s],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(r,n)}catch(u){kt.console&&wr.error("jsPDF PubSub Error",u.message,u)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Eh(r){if(!(this instanceof Eh))return new Eh(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Xg(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function oc(r,e,t,n,s){if(!(this instanceof oc))return new oc(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Xg.call(this,n,s)}function nu(r,e,t,n,s){if(!(this instanceof nu))return new nu(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Xg.call(this,n,s)}function _t(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],l=[],u=1,h=16,f="S",v=null;gr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,o=r.compress||r.compressPdf||o,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(h=r.floatPrecision),f=r.defaultPathOperation||"S"),l=r.filters||(o===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var x=r.putOnlyUsedFonts||!1,C={},b={internal:{},__private__:{}};b.__private__.PubSub=u2;var j="1.3",L=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(y){j=y};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return A};var E=b.__private__.getPageFormat=function(y){return A[y]};s=s||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},H=D.COMPAT;function Y(){this.saveGraphicsState(),te(new ft(Xe,0,0,-Xe,0,Ys()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),f="n",H=D.ADVANCED}function ne(){this.restoreGraphicsState(),f="S",H=D.COMPAT}var we=b.__private__.combineFontStyleAndFontWeight=function(y,T){if(y=="bold"&&T=="normal"||y=="bold"&&T==400||y=="normal"&&T=="italic"||y=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(y=T==400||T==="normal"?y==="italic"?"italic":"normal":T!=700&&T!=="bold"||y!=="normal"?(T==700?"bold":T)+""+y:"bold"),y};b.advancedAPI=function(y){var T=H===D.COMPAT;return T&&Y.call(this),typeof y!="function"||(y(this),T&&ne.call(this)),this},b.compatAPI=function(y){var T=H===D.ADVANCED;return T&&ne.call(this),typeof y!="function"||(y(this),T&&Y.call(this)),this},b.isAdvancedAPI=function(){return H===D.ADVANCED};var ue,Q=function(y){if(H!==D.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ye=b.roundToPrecision=b.__private__.roundToPrecision=function(y,T){var J=e||T;if(isNaN(y)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(J).replace(/0+$/,"")};ue=b.hpf=b.__private__.hpf=typeof h=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(y,h)}:h==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(y,16)};var pe=b.f2=b.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return ye(y,2)},B=b.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return ye(y,3)},V=b.scale=b.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return H===D.COMPAT?y*Xe:H===D.ADVANCED?y:void 0},ie=function(y){return H===D.COMPAT?Ys()-y:H===D.ADVANCED?y:void 0},ee=function(y){return V(ie(y))};b.__private__.setPrecision=b.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var Se,ke="00000000000000000000000000000000",Ne=b.__private__.getFileId=function(){return ke},re=b.__private__.setFileId=function(y){return ke=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ke.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Ar=new eu(v.userPermissions,v.userPassword,v.ownerPassword,ke)),ke};b.setFileId=function(y){return re(y),this},b.getFileId=function(){return Ne()};var se=b.__private__.convertDateToPDFDate=function(y){var T=y.getTimezoneOffset(),J=T<0?"+":"-",oe=Math.floor(Math.abs(T/60)),xe=Math.abs(T%60),Pe=[J,$(oe),"'",$(xe),"'"].join("");return["D:",y.getFullYear(),$(y.getMonth()+1),$(y.getDate()),$(y.getHours()),$(y.getMinutes()),$(y.getSeconds()),Pe].join("")},I=b.__private__.convertPDFDateToDate=function(y){var T=parseInt(y.substr(2,4),10),J=parseInt(y.substr(6,2),10)-1,oe=parseInt(y.substr(8,2),10),xe=parseInt(y.substr(10,2),10),Pe=parseInt(y.substr(12,2),10),Me=parseInt(y.substr(14,2),10);return new Date(T,J,oe,xe,Pe,Me,0)},ae=b.__private__.setCreationDate=function(y){var T;if(y===void 0&&(y=new Date),y instanceof Date)T=se(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=y}return Se=T},N=b.__private__.getCreationDate=function(y){var T=Se;return y==="jsDate"&&(T=I(Se)),T};b.setCreationDate=function(y){return ae(y),this},b.getCreationDate=function(y){return N(y)};var M,$=b.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},z=b.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},W=0,K=[],de=[],me=0,De=[],Oe=[],Ve=!1,Ge=de,mt=function(){W=0,me=0,de=[],K=[],De=[],os=jr(),Ei=jr()};b.__private__.setCustomOutputDestination=function(y){Ve=!0,Ge=y};var Ie=function(y){Ve||(Ge=y)};b.__private__.resetCustomOutputDestination=function(){Ve=!1,Ge=de};var te=b.__private__.out=function(y){return y=y.toString(),me+=y.length+1,Ge.push(y),Ge},Nt=b.__private__.write=function(y){return te(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},ot=b.__private__.getArrayBuffer=function(y){for(var T=y.length,J=new ArrayBuffer(T),oe=new Uint8Array(J);T--;)oe[T]=y.charCodeAt(T);return J},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return ze};var We=r.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(y){return We=H===D.ADVANCED?y/Xe:y,this};var Je,Ke=b.__private__.getFontSize=b.getFontSize=function(){return H===D.COMPAT?We:We*Xe},ut=r.R2L||!1;b.__private__.setR2L=b.setR2L=function(y){return ut=y,this},b.__private__.getR2L=b.getR2L=function(){return ut};var jt,Tt=b.__private__.setZoomMode=function(y){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Je=y;else if(isNaN(y)){if(T.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Je=y}else Je=parseInt(y,10)};b.__private__.getZoomMode=function(){return Je};var Mt,Ut=b.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');jt=y};b.__private__.getPageMode=function(){return jt};var Xt=b.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Mt=y};b.__private__.getLayoutMode=function(){return Mt},b.__private__.setDisplayMode=b.setDisplayMode=function(y,T,J){return Tt(y),Xt(T),Ut(J),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(y){if(Object.keys(bt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[y]},b.__private__.getDocumentProperties=function(){return bt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(y){for(var T in bt)bt.hasOwnProperty(T)&&y[T]&&(bt[T]=y[T]);return this},b.__private__.setDocumentProperty=function(y,T){if(Object.keys(bt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[y]=T};var Ft,Xe,on,Zt,di,hr={},mr={},hi=[],Gt={},as={},br={},ln={},Tn=null,Sr=0,Lt=[],Qt=new u2(b),Os=r.hotfixes||[],Xr={},fi={},Pi=[],ft=function y(T,J,oe,xe,Pe,Me){if(!(this instanceof y))return new y(T,J,oe,xe,Pe,Me);isNaN(T)&&(T=1),isNaN(J)&&(J=0),isNaN(oe)&&(oe=0),isNaN(xe)&&(xe=1),isNaN(Pe)&&(Pe=0),isNaN(Me)&&(Me=0),this._matrix=[T,J,oe,xe,Pe,Me]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ue).join(y)},ft.prototype.multiply=function(y){var T=y.sx*this.sx+y.shy*this.shx,J=y.sx*this.shy+y.shy*this.sy,oe=y.shx*this.sx+y.sy*this.shx,xe=y.shx*this.shy+y.sy*this.sy,Pe=y.tx*this.sx+y.ty*this.shx+this.tx,Me=y.tx*this.shy+y.ty*this.sy+this.ty;return new ft(T,J,oe,xe,Pe,Me)},ft.prototype.decompose=function(){var y=this.sx,T=this.shy,J=this.shx,oe=this.sy,xe=this.tx,Pe=this.ty,Me=Math.sqrt(y*y+T*T),Qe=(y/=Me)*J+(T/=Me)*oe;J-=y*Qe,oe-=T*Qe;var dt=Math.sqrt(J*J+oe*oe);return Qe/=dt,y*(oe/=dt)<T*(J/=dt)&&(y=-y,T=-T,Qe=-Qe,Me=-Me),{scale:new ft(Me,0,0,dt,0,0),translate:new ft(1,0,0,1,xe,Pe),rotate:new ft(y,T,-T,y,0,0),skew:new ft(1,0,Qe,1,0,0)}},ft.prototype.toString=function(y){return this.join(" ")},ft.prototype.inversed=function(){var y=this.sx,T=this.shy,J=this.shx,oe=this.sy,xe=this.tx,Pe=this.ty,Me=1/(y*oe-T*J),Qe=oe*Me,dt=-T*Me,Et=-J*Me,Pt=y*Me;return new ft(Qe,dt,Et,Pt,-Qe*xe-Et*Pe,-dt*xe-Pt*Pe)},ft.prototype.applyToPoint=function(y){var T=y.x*this.sx+y.y*this.shx+this.tx,J=y.x*this.shy+y.y*this.sy+this.ty;return new Yi(T,J)},ft.prototype.applyToRectangle=function(y){var T=this.applyToPoint(y),J=this.applyToPoint(new Yi(y.x+y.w,y.y+y.h));return new Gs(T.x,T.y,J.x-T.x,J.y-T.y)},ft.prototype.clone=function(){var y=this.sx,T=this.shy,J=this.shx,oe=this.sy,xe=this.tx,Pe=this.ty;return new ft(y,T,J,oe,xe,Pe)},b.Matrix=ft;var ti=b.matrixMult=function(y,T){return T.multiply(y)},In=new ft(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=In;var Fn=function(y,T){if(!as[y]){var J=(T instanceof oc?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);T.id=J,as[y]=J,Gt[J]=T,Qt.publish("addPattern",T)}};b.ShadingPattern=oc,b.TilingPattern=nu,b.addShadingPattern=function(y,T){return Q("addShadingPattern()"),Fn(y,T),this},b.beginTilingPattern=function(y){Q("beginTilingPattern()"),kc(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},b.endTilingPattern=function(y,T){Q("endTilingPattern()"),T.stream=Oe[M].join(`
`),Fn(y,T),Qt.publish("endTilingPattern",T),Pi.pop().restore()};var Nr=b.__private__.newObject=function(){var y=jr();return cn(y,!0),y},jr=b.__private__.newObjectDeferred=function(){return W++,K[W]=function(){return me},W},cn=function(y,T){return T=typeof T=="boolean"&&T,K[y]=me,T&&te(y+" 0 obj"),y},Ms=b.__private__.newAdditionalObject=function(){var y={objId:jr(),content:""};return De.push(y),y},os=jr(),Ei=jr(),Ti=b.__private__.decodeColorString=function(y){var T=y.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var J=parseFloat(T[0]);T=[J,J,J,"r"]}for(var oe="#",xe=0;xe<3;xe++)oe+=("0"+Math.floor(255*parseFloat(T[xe])).toString(16)).slice(-2);return oe},tn=b.__private__.encodeColorString=function(y){var T;typeof y=="string"&&(y={ch1:y});var J=y.ch1,oe=y.ch2,xe=y.ch3,Pe=y.ch4,Me=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var Qe=new Jg(J);if(Qe.ok)J=Qe.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var dt=parseInt(J.substr(1),16);J=dt>>16&255,oe=dt>>8&255,xe=255&dt}if(oe===void 0||Pe===void 0&&J===oe&&oe===xe)if(typeof J=="string")T=J+" "+Me[0];else switch(y.precision){case 2:T=pe(J/255)+" "+Me[0];break;case 3:default:T=B(J/255)+" "+Me[0]}else if(Pe===void 0||gr(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return T=["1.","1.","1.",Me[1]].join(" ");if(typeof J=="string")T=[J,oe,xe,Me[1]].join(" ");else switch(y.precision){case 2:T=[pe(J/255),pe(oe/255),pe(xe/255),Me[1]].join(" ");break;default:case 3:T=[B(J/255),B(oe/255),B(xe/255),Me[1]].join(" ")}}else if(typeof J=="string")T=[J,oe,xe,Pe,Me[2]].join(" ");else switch(y.precision){case 2:T=[pe(J),pe(oe),pe(xe),pe(Pe),Me[2]].join(" ");break;case 3:default:T=[B(J),B(oe),B(xe),B(Pe),Me[2]].join(" ")}return T},Ii=b.__private__.getFilters=function(){return l},ri=b.__private__.putStream=function(y){var T=(y=y||{}).data||"",J=y.filters||Ii(),oe=y.alreadyAppliedFilters||[],xe=y.addLength1||!1,Pe=T.length,Me=y.objectId,Qe=function(un){return un};if(v!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(Qe=Ar.encryptor(Me,0));var dt={};J===!0&&(J=["FlateEncode"]);var Et=y.additionalKeyValues||[],Pt=(dt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(T,J):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(dt.data.length!==0&&(Et.push({key:"Length",value:dt.data.length}),xe===!0&&Et.push({key:"Length1",value:Pe})),Pt.length!=0)if(Pt.split("/").length-1==1)Et.push({key:"Filter",value:Pt});else{Et.push({key:"Filter",value:"["+Pt+"]"});for(var zt=0;zt<Et.length;zt+=1)if(Et[zt].key==="DecodeParms"){for(var Pr=[],Fr=0;Fr<dt.reverseChain.split("/").length-1;Fr+=1)Pr.push("null");Pr.push(Et[zt].value),Et[zt].value="["+Pr.join(" ")+"]"}}te("<<");for(var $r=0;$r<Et.length;$r++)te("/"+Et[$r].key+" "+Et[$r].value);te(">>"),dt.data.length!==0&&(te("stream"),te(Qe(dt.data)),te("endstream"))},Hi=b.__private__.putPage=function(y){var T=y.number,J=y.data,oe=y.objId,xe=y.contentsObjId;cn(oe,!0),te("<</Type /Page"),te("/Parent "+y.rootDictionaryObjId+" 0 R"),te("/Resources "+y.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(ue(y.mediaBox.bottomLeftX))+" "+parseFloat(ue(y.mediaBox.bottomLeftY))+" "+ue(y.mediaBox.topRightX)+" "+ue(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&te("/CropBox ["+ue(y.cropBox.bottomLeftX)+" "+ue(y.cropBox.bottomLeftY)+" "+ue(y.cropBox.topRightX)+" "+ue(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&te("/BleedBox ["+ue(y.bleedBox.bottomLeftX)+" "+ue(y.bleedBox.bottomLeftY)+" "+ue(y.bleedBox.topRightX)+" "+ue(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&te("/TrimBox ["+ue(y.trimBox.bottomLeftX)+" "+ue(y.trimBox.bottomLeftY)+" "+ue(y.trimBox.topRightX)+" "+ue(y.trimBox.topRightY)+"]"),y.artBox!==null&&te("/ArtBox ["+ue(y.artBox.bottomLeftX)+" "+ue(y.artBox.bottomLeftY)+" "+ue(y.artBox.topRightX)+" "+ue(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&te("/UserUnit "+y.userUnit),Qt.publish("putPage",{objId:oe,pageContext:Lt[T],pageNumber:T,page:J}),te("/Contents "+xe+" 0 R"),te(">>"),te("endobj");var Pe=J.join(`
`);return H===D.ADVANCED&&(Pe+=`
Q`),cn(xe,!0),ri({data:Pe,filters:Ii(),objectId:xe}),te("endobj"),oe},Bs=b.__private__.putPages=function(){var y,T,J=[];for(y=1;y<=Sr;y++)Lt[y].objId=jr(),Lt[y].contentsObjId=jr();for(y=1;y<=Sr;y++)J.push(Hi({number:y,data:Oe[y],objId:Lt[y].objId,contentsObjId:Lt[y].contentsObjId,mediaBox:Lt[y].mediaBox,cropBox:Lt[y].cropBox,bleedBox:Lt[y].bleedBox,trimBox:Lt[y].trimBox,artBox:Lt[y].artBox,userUnit:Lt[y].userUnit,rootDictionaryObjId:os,resourceDictionaryObjId:Ei}));cn(os,!0),te("<</Type /Pages");var oe="/Kids [";for(T=0;T<Sr;T++)oe+=J[T]+" 0 R ";te(oe+"]"),te("/Count "+Sr),te(">>"),te("endobj"),Qt.publish("postPutPages")},da=function(y){Qt.publish("putFont",{font:y,out:te,newObject:Nr,putStream:ri}),y.isAlreadyPutted!==!0&&(y.objectNumber=Nr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+tu(y.postScriptName)),te("/Subtype /Type1"),typeof y.encoding=="string"&&te("/Encoding /"+y.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},ha=function(){for(var y in hr)hr.hasOwnProperty(y)&&(x===!1||x===!0&&C.hasOwnProperty(y))&&da(hr[y])},fa=function(y){y.objectNumber=Nr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[ue(y.x),ue(y.y),ue(y.x+y.width),ue(y.y+y.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var J=y.pages[1].join(`
`);ri({data:J,additionalKeyValues:T,objectId:y.objectNumber}),te("endobj")},so=function(){for(var y in Xr)Xr.hasOwnProperty(y)&&fa(Xr[y])},gc=function(y,T){var J,oe=[],xe=1/(T-1);for(J=0;J<1;J+=xe)oe.push(J);if(oe.push(1),y[0].offset!=0){var Pe={offset:0,color:y[0].color};y.unshift(Pe)}if(y[y.length-1].offset!=1){var Me={offset:1,color:y[y.length-1].color};y.push(Me)}for(var Qe="",dt=0,Et=0;Et<oe.length;Et++){for(J=oe[Et];J>y[dt+1].offset;)dt++;var Pt=y[dt].offset,zt=(J-Pt)/(y[dt+1].offset-Pt),Pr=y[dt].color,Fr=y[dt+1].color;Qe+=z(Math.round((1-zt)*Pr[0]+zt*Fr[0]).toString(16))+z(Math.round((1-zt)*Pr[1]+zt*Fr[1]).toString(16))+z(Math.round((1-zt)*Pr[2]+zt*Fr[2]).toString(16))}return Qe.trim()},Lr=function(y,T){T||(T=21);var J=Nr(),oe=gc(y.colors,T),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+T+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ri({data:oe,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),te("endobj"),y.objectNumber=Nr(),te("<< /ShadingType "+y.type),te("/ColorSpace /DeviceRGB");var Pe="/Coords ["+ue(parseFloat(y.coords[0]))+" "+ue(parseFloat(y.coords[1]))+" ";y.type===2?Pe+=ue(parseFloat(y.coords[2]))+" "+ue(parseFloat(y.coords[3])):Pe+=ue(parseFloat(y.coords[2]))+" "+ue(parseFloat(y.coords[3]))+" "+ue(parseFloat(y.coords[4]))+" "+ue(parseFloat(y.coords[5])),te(Pe+="]"),y.matrix&&te("/Matrix ["+y.matrix.toString()+"]"),te("/Function "+J+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},yu=function(y,T){var J=jr(),oe=Nr();T.push({resourcesOid:J,objectOid:oe}),y.objectNumber=oe;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+y.boundingBox.map(ue).join(" ")+"]"}),xe.push({key:"XStep",value:ue(y.xStep)}),xe.push({key:"YStep",value:ue(y.yStep)}),xe.push({key:"Resources",value:J+" 0 R"}),y.matrix&&xe.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),ri({data:y.stream,additionalKeyValues:xe,objectId:y.objectNumber}),te("endobj")},Us=function(y){var T;for(T in Gt)Gt.hasOwnProperty(T)&&(Gt[T]instanceof oc?Lr(Gt[T]):Gt[T]instanceof nu&&yu(Gt[T],y))},vl=function(y){for(var T in y.objectNumber=Nr(),te("<<"),y)switch(T){case"opacity":te("/ca "+pe(y[T]));break;case"stroke-opacity":te("/CA "+pe(y[T]))}te(">>"),te("endobj")},ao=function(){var y;for(y in br)br.hasOwnProperty(y)&&vl(br[y])},yl=function(){for(var y in te("/XObject <<"),Xr)Xr.hasOwnProperty(y)&&Xr[y].objectNumber>=0&&te("/"+y+" "+Xr[y].objectNumber+" 0 R");Qt.publish("putXobjectDict"),te(">>")},mc=function(){Ar.oid=Nr(),te("<<"),te("/Filter /Standard"),te("/V "+Ar.v),te("/R "+Ar.r),te("/U <"+Ar.toHexString(Ar.U)+">"),te("/O <"+Ar.toHexString(Ar.O)+">"),te("/P "+Ar.P),te(">>"),te("endobj")},pa=function(){for(var y in te("/Font <<"),hr)hr.hasOwnProperty(y)&&(x===!1||x===!0&&C.hasOwnProperty(y))&&te("/"+y+" "+hr[y].objectNumber+" 0 R");te(">>")},pi=function(){if(Object.keys(Gt).length>0){for(var y in te("/Shading <<"),Gt)Gt.hasOwnProperty(y)&&Gt[y]instanceof oc&&Gt[y].objectNumber>=0&&te("/"+y+" "+Gt[y].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),te(">>")}},oo=function(y){if(Object.keys(Gt).length>0){for(var T in te("/Pattern <<"),Gt)Gt.hasOwnProperty(T)&&Gt[T]instanceof b.TilingPattern&&Gt[T].objectNumber>=0&&Gt[T].objectNumber<y&&te("/"+T+" "+Gt[T].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),te(">>")}},ni=function(){if(Object.keys(br).length>0){var y;for(y in te("/ExtGState <<"),br)br.hasOwnProperty(y)&&br[y].objectNumber>=0&&te("/"+y+" "+br[y].objectNumber+" 0 R");Qt.publish("putGStateDict"),te(">>")}},Or=function(y){cn(y.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pa(),pi(),oo(y.objectOid),ni(),yl(),te(">>"),te("endobj")},vc=function(){var y=[];ha(),ao(),so(),Us(y),Qt.publish("putResources"),y.forEach(Or),Or({resourcesOid:Ei,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},yc=function(){Qt.publish("putAdditionalObjects");for(var y=0;y<De.length;y++){var T=De[y];cn(T.objId,!0),te(T.content),te("endobj")}Qt.publish("postPutAdditionalObjects")},ga=function(y){mr[y.fontName]=mr[y.fontName]||{},mr[y.fontName][y.fontStyle]=y.id},zs=function(y,T,J,oe,xe){var Pe={id:"F"+(Object.keys(hr).length+1).toString(10),postScriptName:y,fontName:T,fontStyle:J,encoding:oe,isStandardFont:xe||!1,metadata:{}};return Qt.publish("addFont",{font:Pe,instance:this}),hr[Pe.id]=Pe,ga(Pe),Pe.id},ma=function(y){for(var T=0,J=ze.length;T<J;T++){var oe=zs.call(this,y[T][0],y[T][1],y[T][2],ze[T][3],!0);x===!1&&(C[oe]=!0);var xe=y[T][0].split("-");ga({id:oe,fontName:xe[0],fontStyle:xe[1]||""})}Qt.publish("addFonts",{fonts:hr,dictionary:mr})},Rn=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(oe){var T=oe.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var J="Error in function "+T.split(`
`)[0].split("<")[0]+": "+oe.message;if(!kt.console)throw new Error(J);kt.console.error(J,oe),kt.alert&&alert(J)}},y.foo.bar=y,y.foo},lo=function(y,T){var J,oe,xe,Pe,Me,Qe,dt,Et,Pt;if(xe=(T=T||{}).sourceEncoding||"Unicode",Me=T.outputEncoding,(T.autoencode||Me)&&hr[Ft].metadata&&hr[Ft].metadata[xe]&&hr[Ft].metadata[xe].encoding&&(Pe=hr[Ft].metadata[xe].encoding,!Me&&hr[Ft].encoding&&(Me=hr[Ft].encoding),!Me&&Pe.codePages&&(Me=Pe.codePages[0]),typeof Me=="string"&&(Me=Pe[Me]),Me)){for(dt=!1,Qe=[],J=0,oe=y.length;J<oe;J++)(Et=Me[y.charCodeAt(J)])?Qe.push(String.fromCharCode(Et)):Qe.push(y[J]),Qe[J].charCodeAt(0)>>8&&(dt=!0);y=Qe.join("")}for(J=y.length;dt===void 0&&J!==0;)y.charCodeAt(J-1)>>8&&(dt=!0),J--;if(!dt)return y;for(Qe=T.noBOM?[]:[254,255],J=0,oe=y.length;J<oe;J++){if((Pt=(Et=y.charCodeAt(J))>>8)>>8)throw new Error("Character at position "+J+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(Pt),Qe.push(Et-(Pt<<8))}return String.fromCharCode.apply(void 0,Qe)},Dn=b.__private__.pdfEscape=b.pdfEscape=function(y,T){return lo(y,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},va=b.__private__.beginPage=function(y){Oe[++Sr]=[],Lt[Sr]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},qs(Sr),Ie(Oe[M])},xl=function(y,T){var J,oe,xe;switch(t=T||t,typeof y=="string"&&(J=E(y.toLowerCase()),Array.isArray(J)&&(oe=J[0],xe=J[1])),Array.isArray(y)&&(oe=y[0]*Xe,xe=y[1]*Xe),isNaN(oe)&&(oe=s[0],xe=s[1]),(oe>14400||xe>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),xe=Math.min(14400,xe)),s=[oe,xe],t.substr(0,1)){case"l":xe>oe&&(s=[xe,oe]);break;case"p":oe>xe&&(s=[xe,oe])}va(s),_a(kl),te(On),Sl!==0&&te(Sl+" J"),Ca!==0&&te(Ca+" j"),Qt.publish("addPage",{pageNumber:Sr})},wl=function(y){y>0&&y<=Sr&&(Oe.splice(y,1),Lt.splice(y,1),Sr--,M>Sr&&(M=Sr),this.setPage(M))},qs=function(y){y>0&&y<=Sr&&(M=y)},xu=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Oe.length-1},co=function(y,T,J){var oe,xe=void 0;return J=J||{},y=y!==void 0?y:hr[Ft].fontName,T=T!==void 0?T:hr[Ft].fontStyle,oe=y.toLowerCase(),mr[oe]!==void 0&&mr[oe][T]!==void 0?xe=mr[oe][T]:mr[y]!==void 0&&mr[y][T]!==void 0?xe=mr[y][T]:J.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+y+"', '"+T+"'. Refer to getFontList() for available fonts."),xe||J.noFallback||(xe=mr.times[T])==null&&(xe=mr.times.normal),xe},er=b.__private__.putInfo=function(){var y=Nr(),T=function(oe){return oe};for(var J in v!==null&&(T=Ar.encryptor(y,0)),te("<<"),te("/Producer ("+Dn(T("jsPDF "+_t.version))+")"),bt)bt.hasOwnProperty(J)&&bt[J]&&te("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Dn(T(bt[J]))+")");te("/CreationDate ("+Dn(T(Se))+")"),te(">>"),te("endobj")},uo=b.__private__.putCatalog=function(y){var T=(y=y||{}).rootDictionaryObjId||os;switch(Nr(),te("<<"),te("/Type /Catalog"),te("/Pages "+T+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+Je;J.substr(J.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+pe(Je)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}jt&&te("/PageMode /"+jt),Qt.publish("putCatalog"),te(">>"),te("endobj")},xc=b.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(W+1)),te("/Root "+W+" 0 R"),te("/Info "+(W-1)+" 0 R"),v!==null&&te("/Encrypt "+Ar.oid+" 0 R"),te("/ID [ <"+ke+"> <"+ke+"> ]"),te(">>")},bl=b.__private__.putHeader=function(){te("%PDF-"+j),te("%ºß¬à")},wc=b.__private__.putXRef=function(){var y="0000000000";te("xref"),te("0 "+(W+1)),te("0000000000 65535 f ");for(var T=1;T<=W;T++)typeof K[T]=="function"?te((y+K[T]()).slice(-10)+" 00000 n "):K[T]!==void 0?te((y+K[T]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Wi=b.__private__.buildDocument=function(){mt(),Ie(de),Qt.publish("buildDocument"),bl(),Bs(),yc(),vc(),v!==null&&mc(),er(),uo();var y=me;return wc(),xc(),te("startxref"),te(""+y),te("%%EOF"),Ie(Oe[M]),de.join(`
`)},ya=b.__private__.getBlob=function(y){return new Blob([ot(y)],{type:"application/pdf"})},$s=b.output=b.__private__.output=Rn(function(y,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",y){case void 0:return Wi();case"save":b.save(T.filename);break;case"arraybuffer":return ot(Wi());case"blob":return ya(Wi());case"bloburi":case"bloburl":if(kt.URL!==void 0&&typeof kt.URL.createObjectURL=="function")return kt.URL&&kt.URL.createObjectURL(ya(Wi()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",oe=Wi();try{J=A1(oe)}catch{J=A1(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+T.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(xe=T.pdfObjectUrl,Pe="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",Qe=kt.open();return Qe!==null&&Qe.document.write(Me),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',Et=kt.open();if(Et!==null){Et.document.write(dt);var Pt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=T.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Pr=kt.open();if(Pr!==null&&(Pr.document.write(zt),Pr.document.title=T.filename),Pr||typeof safari>"u")return Pr;break;case"datauri":case"dataurl":return kt.document.location.href=this.output("datauristring",T);default:return null}}),xa=function(y){return Array.isArray(Os)===!0&&Os.indexOf(y)>-1};switch(n){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Xe=n}var Ar=null;ae(),re();var Vi=function(y){return v!==null?Ar.encryptor(y,0):function(T){return T}},Fi=b.__private__.getPageInfo=b.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Lt[y].objId,pageNumber:y,pageContext:Lt[y]}},xt=b.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in Lt)if(Lt[T].objId===y)break;return Fi(T)},wa=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Lt[M].objId,pageNumber:M,pageContext:Lt[M]}};b.addPage=function(){return xl.apply(this,arguments),this},b.setPage=function(){return qs.apply(this,arguments),Ie.call(this,Oe[M]),this},b.insertPage=function(y){return this.addPage(),this.movePage(M,y),this},b.movePage=function(y,T){var J,oe;if(y>T){J=Oe[y],oe=Lt[y];for(var xe=y;xe>T;xe--)Oe[xe]=Oe[xe-1],Lt[xe]=Lt[xe-1];Oe[T]=J,Lt[T]=oe,this.setPage(T)}else if(y<T){J=Oe[y],oe=Lt[y];for(var Pe=y;Pe<T;Pe++)Oe[Pe]=Oe[Pe+1],Lt[Pe]=Lt[Pe+1];Oe[T]=J,Lt[T]=oe,this.setPage(T)}return this},b.deletePage=function(){return wl.apply(this,arguments),this},b.__private__.text=b.text=function(y,T,J,oe,xe){var Pe,Me,Qe,dt,Et,Pt,zt,Pr,Fr,$r=(oe=oe||{}).scope||this;if(typeof y=="number"&&typeof T=="number"&&(typeof J=="string"||Array.isArray(J))){var un=J;J=T,T=y,y=un}if(arguments[3]instanceof ft?(Q("The transform parameter of text() with a Matrix value"),Fr=xe):(Qe=arguments[4],dt=arguments[5],gr(zt=arguments[3])==="object"&&zt!==null||(typeof Qe=="string"&&(dt=Qe,Qe=null),typeof zt=="string"&&(dt=zt,zt=null),typeof zt=="number"&&(Qe=zt,zt=null),oe={flags:zt,angle:Qe,align:dt})),isNaN(T)||isNaN(J)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return $r;var Qr="",Mi=!1,si=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:ba,vi=$r.internal.scaleFactor;function Js(fr){return fr=fr.split("	").join(Array(oe.TabLen||9).join(" ")),Dn(fr,zt)}function Ll(fr){for(var sr,Dr=fr.concat(),Hr=[],Xi=Dr.length;Xi--;)typeof(sr=Dr.shift())=="string"?Hr.push(sr):Array.isArray(fr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?Hr.push(sr[0]):Hr.push([sr[0],sr[1],sr[2]]);return Hr}function bo(fr,sr){var Dr;if(typeof fr=="string")Dr=sr(fr)[0];else if(Array.isArray(fr)){for(var Hr,Xi,Eo=fr.concat(),Ta=[],El=Eo.length;El--;)typeof(Hr=Eo.shift())=="string"?Ta.push(sr(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(Xi=sr(Hr[0],Hr[1],Hr[2]),Ta.push([Xi[0],Xi[1],Xi[2]]));Dr=Ta}return Dr}var Sa=!1,_o=!0;if(typeof y=="string")Sa=!0;else if(Array.isArray(y)){var ko=y.concat();Me=[];for(var Na,Rr=ko.length;Rr--;)(typeof(Na=ko.shift())!="string"||Array.isArray(Na)&&typeof Na[0]!="string")&&(_o=!1);Sa=_o}if(Sa===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Co=We/$r.internal.scaleFactor,So=Co*(si-1);switch(oe.baseline){case"bottom":J-=So;break;case"top":J+=Co-So;break;case"hanging":J+=Co-2*So;break;case"middle":J+=Co/2-So}if((Pt=oe.maxWidth||0)>0&&(typeof y=="string"?y=$r.splitTextToSize(y,Pt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(fr,sr){return fr.concat($r.splitTextToSize(sr,Pt))},[]))),Pe={text:y,x:T,y:J,options:oe,mutex:{pdfEscape:Dn,activeFontKey:Ft,fonts:hr,activeFontSize:We}},Qt.publish("preProcessText",Pe),y=Pe.text,Qe=(oe=Pe.options).angle,!(Fr instanceof ft)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,oe.rotationDirection===0&&(Qe=-Qe),H===D.ADVANCED&&(Qe=-Qe);var No=Math.cos(Qe),jo=Math.sin(Qe);Fr=new ft(No,jo,-jo,No,0,0)}else Qe&&Qe instanceof ft&&(Fr=Qe);H!==D.ADVANCED||Fr||(Fr=In),(Et=oe.charSpace||Zs)!==void 0&&(Qr+=ue(V(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pr=oe.horizontalScale)!==void 0&&(Qr+=ue(100*Pr)+` Tz
`),oe.lang;var kn=-1,ja=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,us=$r.internal.getCurrentPageInfo().pageContext;switch(ja){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var Cc=us.usedRenderingMode!==void 0?us.usedRenderingMode:-1;kn!==-1?Qr+=kn+` Tr
`:Cc!==-1&&(Qr+=`0 Tr
`),kn!==-1&&(us.usedRenderingMode=kn),dt=oe.align||"left";var Cn,Lo=We*si,Al=$r.internal.pageSize.getWidth(),Ao=hr[Ft];Et=oe.charSpace||Zs,Pt=oe.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Ji=[],Ks=function(fr){return $r.getStringUnitWidth(fr,{font:Ao,charSpace:Et,fontSize:We,doKerning:!1})*We/vi};if(Object.prototype.toString.call(y)==="[object Array]"){var Sn;Me=Ll(y),dt!=="left"&&(Cn=Me.map(Ks));var dn,Xs=0;if(dt==="right"){T-=Cn[0],y=[],Rr=Me.length;for(var ds=0;ds<Rr;ds++)ds===0?(dn=gi(T),Sn=mi(J)):(dn=V(Xs-Cn[ds]),Sn=-Lo),y.push([Me[ds],dn,Sn]),Xs=Cn[ds]}else if(dt==="center"){T-=Cn[0]/2,y=[],Rr=Me.length;for(var hs=0;hs<Rr;hs++)hs===0?(dn=gi(T),Sn=mi(J)):(dn=V((Xs-Cn[hs])/2),Sn=-Lo),y.push([Me[hs],dn,Sn]),Xs=Cn[hs]}else if(dt==="left"){y=[],Rr=Me.length;for(var Po=0;Po<Rr;Po++)y.push(Me[Po])}else if(dt==="justify"&&Ao.encoding==="Identity-H"){y=[],Rr=Me.length,Pt=Pt!==0?Pt:Al;for(var fs=0,tr=0;tr<Rr;tr++)if(Sn=tr===0?mi(J):-Lo,dn=tr===0?gi(T):fs,tr<Rr-1){var ps=V((Pt-Cn[tr])/(Me[tr].split(" ").length-1)),hn=Me[tr].split(" ");y.push([hn[0]+" ",dn,Sn]),fs=0;for(var ai=1;ai<hn.length;ai++){var La=(Ks(hn[ai-1]+" "+hn[ai])-Ks(hn[ai]))*vi+ps;ai==hn.length-1?y.push([hn[ai],La,0]):y.push([hn[ai]+" ",La,0]),fs-=La}}else y.push([Me[tr],dn,Sn]);y.push(["",fs,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Rr=Me.length,Pt=Pt!==0?Pt:Al,tr=0;tr<Rr;tr++)Sn=tr===0?mi(J):-Lo,dn=tr===0?gi(T):0,tr<Rr-1?Ji.push(ue(V((Pt-Cn[tr])/(Me[tr].split(" ").length-1)))):Ji.push(0),y.push([Me[tr],dn,Sn])}}var Pl=typeof oe.R2L=="boolean"?oe.R2L:ut;Pl===!0&&(y=bo(y,function(fr,sr,Dr){return[fr.split("").reverse().join(""),sr,Dr]})),Pe={text:y,x:T,y:J,options:oe,mutex:{pdfEscape:Dn,activeFontKey:Ft,fonts:hr,activeFontSize:We}},Qt.publish("postProcessText",Pe),y=Pe.text,Mi=Pe.mutex.isHex||!1;var Aa=hr[Ft].encoding;Aa!=="WinAnsiEncoding"&&Aa!=="StandardEncoding"||(y=bo(y,function(fr,sr,Dr){return[Js(fr),sr,Dr]})),Me=Ll(y),y=[];for(var Pa,Ea,oi,gs=0,Ki=1,ms=Array.isArray(Me[0])?Ki:gs,vs="",Qs=function(fr,sr,Dr){var Hr="";return Dr instanceof ft?(Dr=typeof oe.angle=="number"?ti(Dr,new ft(1,0,0,1,fr,sr)):ti(new ft(1,0,0,1,fr,sr),Dr),H===D.ADVANCED&&(Dr=ti(new ft(1,0,0,-1,0,0),Dr)),Hr=Dr.join(" ")+` Tm
`):Hr=ue(fr)+" "+ue(sr)+` Td
`,Hr},rn=0;rn<Me.length;rn++){switch(vs="",ms){case Ki:oi=(Mi?"<":"(")+Me[rn][0]+(Mi?">":")"),Pa=parseFloat(Me[rn][1]),Ea=parseFloat(Me[rn][2]);break;case gs:oi=(Mi?"<":"(")+Me[rn]+(Mi?">":")"),Pa=gi(T),Ea=mi(J)}Ji!==void 0&&Ji[rn]!==void 0&&(vs=Ji[rn]+` Tw
`),rn===0?y.push(vs+Qs(Pa,Ea,Fr)+oi):ms===gs?y.push(vs+oi):ms===Ki&&y.push(vs+Qs(Pa,Ea,Fr)+oi)}y=ms===gs?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Mn=`BT
/`;return Mn+=Ft+" "+We+` Tf
`,Mn+=ue(We*si)+` TL
`,Mn+=Zr+`
`,Mn+=Qr,Mn+=y,te(Mn+="ET"),C[Ft]=!0,$r};var Zi=b.__private__.clip=b.clip=function(y){return te(y==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Zi("evenodd")},b.__private__.discardPath=b.discardPath=function(){return te("n"),this};var Gi=b.__private__.isValidStyle=function(y){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(T=!0),T};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(y){return Gi(y)&&(f=y),this};var _l=b.__private__.getStyle=b.getStyle=function(y){var T=f;switch(y){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=y}return T},Hs=b.close=function(){return te("h"),this};b.stroke=function(){return te("S"),this},b.fill=function(y){return ho("f",y),this},b.fillEvenOdd=function(y){return ho("f*",y),this},b.fillStroke=function(y){return ho("B",y),this},b.fillStrokeEvenOdd=function(y){return ho("B*",y),this};var ho=function(y,T){gr(T)==="object"?bc(T,y):te(y)},fo=function(y){y===null||H===D.ADVANCED&&y===void 0||(y=_l(y),te(y))};function po(y,T,J,oe,xe){var Pe=new nu(T||this.boundingBox,J||this.xStep,oe||this.yStep,this.gState,xe||this.matrix);Pe.stream=this.stream;var Me=y+"$$"+this.cloneIndex+++"$$";return Fn(Me,Pe),Pe}var bc=function(y,T){var J=as[y.key],oe=Gt[J];if(oe instanceof oc)te("q"),te(wu(T)),oe.gState&&b.setGState(oe.gState),te(y.matrix.toString()+" cm"),te("/"+J+" sh"),te("Q");else if(oe instanceof nu){var xe=new ft(1,0,0,-1,0,Ys());y.matrix&&(xe=xe.multiply(y.matrix||In),J=po.call(oe,y.key,y.boundingBox,y.xStep,y.yStep,xe).id),te("q"),te("/Pattern cs"),te("/"+J+" scn"),oe.gState&&b.setGState(oe.gState),te(T),te("Q")}},wu=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ls=b.moveTo=function(y,T){return te(ue(V(y))+" "+ue(ee(T))+" m"),this},Ri=b.lineTo=function(y,T){return te(ue(V(y))+" "+ue(ee(T))+" l"),this},ii=b.curveTo=function(y,T,J,oe,xe,Pe){return te([ue(V(y)),ue(ee(T)),ue(V(J)),ue(ee(oe)),ue(V(xe)),ue(ee(Pe)),"c"].join(" ")),this};b.__private__.line=b.line=function(y,T,J,oe,xe){if(isNaN(y)||isNaN(T)||isNaN(J)||isNaN(oe)||!Gi(xe))throw new Error("Invalid arguments passed to jsPDF.line");return H===D.COMPAT?this.lines([[J-y,oe-T]],y,T,[1,1],xe||"S"):this.lines([[J-y,oe-T]],y,T,[1,1]).stroke()},b.__private__.lines=b.lines=function(y,T,J,oe,xe,Pe){var Me,Qe,dt,Et,Pt,zt,Pr,Fr,$r,un,Qr,Mi;if(typeof y=="number"&&(Mi=J,J=T,T=y,y=Mi),oe=oe||[1,1],Pe=Pe||!1,isNaN(T)||isNaN(J)||!Array.isArray(y)||!Array.isArray(oe)||!Gi(xe)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ls(T,J),Me=oe[0],Qe=oe[1],Et=y.length,un=T,Qr=J,dt=0;dt<Et;dt++)(Pt=y[dt]).length===2?(un=Pt[0]*Me+un,Qr=Pt[1]*Qe+Qr,Ri(un,Qr)):(zt=Pt[0]*Me+un,Pr=Pt[1]*Qe+Qr,Fr=Pt[2]*Me+un,$r=Pt[3]*Qe+Qr,un=Pt[4]*Me+un,Qr=Pt[5]*Qe+Qr,ii(zt,Pr,Fr,$r,un,Qr));return Pe&&Hs(),fo(xe),this},b.path=function(y){for(var T=0;T<y.length;T++){var J=y[T],oe=J.c;switch(J.op){case"m":ls(oe[0],oe[1]);break;case"l":Ri(oe[0],oe[1]);break;case"c":ii.apply(this,oe);break;case"h":Hs()}}return this},b.__private__.rect=b.rect=function(y,T,J,oe,xe){if(isNaN(y)||isNaN(T)||isNaN(J)||isNaN(oe)||!Gi(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return H===D.COMPAT&&(oe=-oe),te([ue(V(y)),ue(ee(T)),ue(V(J)),ue(V(oe)),"re"].join(" ")),fo(xe),this},b.__private__.triangle=b.triangle=function(y,T,J,oe,xe,Pe,Me){if(isNaN(y)||isNaN(T)||isNaN(J)||isNaN(oe)||isNaN(xe)||isNaN(Pe)||!Gi(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-y,oe-T],[xe-J,Pe-oe],[y-xe,T-Pe]],y,T,[1,1],Me,!0),this},b.__private__.roundedRect=b.roundedRect=function(y,T,J,oe,xe,Pe,Me){if(isNaN(y)||isNaN(T)||isNaN(J)||isNaN(oe)||isNaN(xe)||isNaN(Pe)||!Gi(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*J),Pe=Math.min(Pe,.5*oe),this.lines([[J-2*xe,0],[xe*Qe,0,xe,Pe-Pe*Qe,xe,Pe],[0,oe-2*Pe],[0,Pe*Qe,-xe*Qe,Pe,-xe,Pe],[2*xe-J,0],[-xe*Qe,0,-xe,-Pe*Qe,-xe,-Pe],[0,2*Pe-oe],[0,-Pe*Qe,xe*Qe,-Pe,xe,-Pe]],y+xe,T,[1,1],Me,!0),this},b.__private__.ellipse=b.ellipse=function(y,T,J,oe,xe){if(isNaN(y)||isNaN(T)||isNaN(J)||isNaN(oe)||!Gi(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*J,Me=4/3*(Math.SQRT2-1)*oe;return ls(y+J,T),ii(y+J,T-Me,y+Pe,T-oe,y,T-oe),ii(y-Pe,T-oe,y-J,T-Me,y-J,T),ii(y-J,T+Me,y-Pe,T+oe,y,T+oe),ii(y+Pe,T+oe,y+J,T+Me,y+J,T),fo(xe),this},b.__private__.circle=b.circle=function(y,T,J,oe){if(isNaN(y)||isNaN(T)||isNaN(J)||!Gi(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,T,J,J,oe)},b.setFont=function(y,T,J){return J&&(T=we(T,J)),Ft=co(y,T,{disableWarning:!1}),this};var go=b.__private__.getFont=b.getFont=function(){return hr[co.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var y,T,J={};for(y in mr)if(mr.hasOwnProperty(y))for(T in J[y]=[],mr[y])mr[y].hasOwnProperty(T)&&J[y].push(T);return J},b.addFont=function(y,T,J,oe,xe){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(J=we(J,oe)),xe=xe||"Identity-H",zs.call(this,y,T,J,xe)};var ba,kl=r.lineWidth||.200025,Ws=b.__private__.getLineWidth=b.getLineWidth=function(){return kl},_a=b.__private__.setLineWidth=b.setLineWidth=function(y){return kl=y,te(ue(V(y))+" w"),this};b.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(y,T){if(y=y||[],T=T||0,isNaN(T)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(J){return ue(V(J))}).join(" "),T=ue(V(T)),te("["+y+"] "+T+" d"),this};var mo=b.__private__.getLineHeight=b.getLineHeight=function(){return We*ba};b.__private__.getLineHeight=b.getLineHeight=function(){return We*ba};var Cl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(ba=y),this},Di=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ba};Cl(r.lineHeight);var gi=b.__private__.getHorizontalCoordinate=function(y){return V(y)},mi=b.__private__.getVerticalCoordinate=function(y){return H===D.ADVANCED?y:Lt[M].mediaBox.topRightY-Lt[M].mediaBox.bottomLeftY-V(y)},_c=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(y){return ue(gi(y))},Oi=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(y){return ue(mi(y))},On=r.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Ti(On)},b.__private__.setStrokeColor=b.setDrawColor=function(y,T,J,oe){return On=tn({ch1:y,ch2:T,ch3:J,ch4:oe,pdfColorType:"draw",precision:2}),te(On),this};var vo=r.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Ti(vo)},b.__private__.setFillColor=b.setFillColor=function(y,T,J,oe){return vo=tn({ch1:y,ch2:T,ch3:J,ch4:oe,pdfColorType:"fill",precision:2}),te(vo),this};var Zr=r.textColor||"0 g",Vs=b.__private__.getTextColor=b.getTextColor=function(){return Ti(Zr)};b.__private__.setTextColor=b.setTextColor=function(y,T,J,oe){return Zr=tn({ch1:y,ch2:T,ch3:J,ch4:oe,pdfColorType:"text",precision:3}),this};var Zs=r.charSpace,ka=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Zs||0)};b.__private__.setCharSpace=b.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zs=y,this};var Sl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(y){var T=b.CapJoinStyles[y];if(T===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=T,te(T+" J"),this};var Ca=0;b.__private__.setLineJoin=b.setLineJoin=function(y){var T=b.CapJoinStyles[y];if(T===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ca=T,te(T+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(ue(V(y))+" M"),this},b.GState=Eh,b.setGState=function(y){(y=typeof y=="string"?br[ln[y]]:yo(null,y)).equals(Tn)||(te("/"+y.id+" gs"),Tn=y)};var yo=function(y,T){if(!y||!ln[y]){var J=!1;for(var oe in br)if(br.hasOwnProperty(oe)&&br[oe].equals(T)){J=!0;break}if(J)T=br[oe];else{var xe="GS"+(Object.keys(br).length+1).toString(10);br[xe]=T,T.id=xe}return y&&(ln[y]=T.id),Qt.publish("addGState",T),T}};b.addGState=function(y,T){return yo(y,T),this},b.saveGraphicsState=function(){return te("q"),hi.push({key:Ft,size:We,color:Zr}),this},b.restoreGraphicsState=function(){te("Q");var y=hi.pop();return Ft=y.key,We=y.size,Zr=y.color,Tn=null,this},b.setCurrentTransformationMatrix=function(y){return te(y.toString()+" cm"),this},b.comment=function(y){return te("#"+y),this};var Yi=function(y,T){var J=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Pe){isNaN(Pe)||(J=parseFloat(Pe))}});var oe=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Pe){xe=Pe.toString()}}),this},Gs=function(y,T,J,oe){Yi.call(this,y,T),this.type="rect";var xe=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Me){isNaN(Me)||(xe=parseFloat(Me))}});var Pe=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Me){isNaN(Me)||(Pe=parseFloat(Me))}}),this},xo=function(){this.page=Sr,this.currentPage=M,this.pages=Oe.slice(0),this.pagesContext=Lt.slice(0),this.x=on,this.y=Zt,this.matrix=di,this.width=cs(M),this.height=Ys(M),this.outputDestination=Ge,this.id="",this.objectNumber=-1};xo.prototype.restore=function(){Sr=this.page,M=this.currentPage,Lt=this.pagesContext,Oe=this.pages,on=this.x,Zt=this.y,di=this.matrix,Nl(M,this.width),jl(M,this.height),Ge=this.outputDestination};var kc=function(y,T,J,oe,xe){Pi.push(new xo),Sr=M=0,Oe=[],on=y,Zt=T,di=xe,va([J,oe])},bu=function(y){if(fi[y])Pi.pop().restore();else{var T=new xo,J="Xo"+(Object.keys(Xr).length+1).toString(10);T.id=J,fi[y]=J,Xr[J]=T,Qt.publish("addFormObject",T),Pi.pop().restore()}};for(var wo in b.beginFormObject=function(y,T,J,oe,xe){return kc(y,T,J,oe,xe),this},b.endFormObject=function(y){return bu(y),this},b.doFormObject=function(y,T){var J=Xr[fi[y]];return te("q"),te(T.toString()+" cm"),te("/"+J.id+" Do"),te("Q"),this},b.getFormObject=function(y){var T=Xr[fi[y]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},b.save=function(y,T){return y=y||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(sc(ya(Wi()),y),typeof sc.unload=="function"&&kt.setTimeout&&setTimeout(sc.unload,911),this):new Promise(function(J,oe){try{var xe=sc(ya(Wi()),y);typeof sc.unload=="function"&&kt.setTimeout&&setTimeout(sc.unload,911),J(xe)}catch(Pe){oe(Pe.message)}})},_t.API)_t.API.hasOwnProperty(wo)&&(wo==="events"&&_t.API.events.length?function(y,T){var J,oe,xe;for(xe=T.length-1;xe!==-1;xe--)J=T[xe][0],oe=T[xe][1],y.subscribe.apply(y,[J].concat(typeof oe=="function"?[oe]:oe))}(Qt,_t.API.events):b[wo]=_t.API[wo]);var cs=b.getPageWidth=function(y){return(Lt[y=y||M].mediaBox.topRightX-Lt[y].mediaBox.bottomLeftX)/Xe},Nl=b.setPageWidth=function(y,T){Lt[y].mediaBox.topRightX=T*Xe+Lt[y].mediaBox.bottomLeftX},Ys=b.getPageHeight=function(y){return(Lt[y=y||M].mediaBox.topRightY-Lt[y].mediaBox.bottomLeftY)/Xe},jl=b.setPageHeight=function(y,T){Lt[y].mediaBox.topRightY=T*Xe+Lt[y].mediaBox.bottomLeftY};return b.internal={pdfEscape:Dn,getStyle:_l,getFont:go,getFontSize:Ke,getCharSpace:ka,getTextColor:Vs,getLineHeight:mo,getLineHeightFactor:Di,getLineWidth:Ws,write:Nt,getHorizontalCoordinate:gi,getVerticalCoordinate:mi,getCoordinateString:_c,getVerticalCoordinateString:Oi,collections:{},newObject:Nr,newAdditionalObject:Ms,newObjectDeferred:jr,newObjectDeferredBegin:cn,getFilters:Ii,putStream:ri,events:Qt,scaleFactor:Xe,pageSize:{getWidth:function(){return cs(M)},setWidth:function(y){Nl(M,y)},getHeight:function(){return Ys(M)},setHeight:function(y){jl(M,y)}},encryptionOptions:v,encryption:Ar,getEncryptor:Vi,output:$s,getNumberOfPages:xu,pages:Oe,out:te,f2:pe,f3:B,getPageInfo:Fi,getPageInfoByObjId:xt,getCurrentPageInfo:wa,getPDFVersion:L,Point:Yi,Rectangle:Gs,Matrix:ft,hasHotfix:xa},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return cs(M)},set:function(y){Nl(M,y)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ys(M)},set:function(y){jl(M,y)},enumerable:!0,configurable:!0}),ma.call(b,ze),Ft="F1",xl(s,t),Qt.publish("initialized"),b}eu.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},eu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},eu.prototype.processOwnerPassword=function(r,e){return E1(P1(e).substr(0,5),r)},eu.prototype.encryptor=function(r,e){var t=P1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return E1(t,n)}},Eh.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||gr(r)!==gr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},_t.API={events:[]},_t.version="3.0.1";var Vr=_t.API,r0=1,pc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},It=function(r){return r.toFixed(2)},Qo=function(r){return r.toFixed(5)};Vr.__acroform__={};var Ai=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},d2=function(r){return r*r0},ia=function(r){var e=new e5,t=at.internal.getHeight(r)||0,n=at.internal.getWidth(r)||0;return e.BBox=[0,0,Number(It(n)),Number(It(t))],e},Ux=Vr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},zx=Vr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},qx=Vr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},Yr=Vr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qx(r,e-1)},Jr=Vr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ux(r,e-1)},Kr=Vr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zx(r,e-1)},$x=Vr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],o=r[1],l=r[2],u=r[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=n(o+u)||0,h.upperRight_X=t(s+l)||0,h.upperRight_Y=n(o)||0,[Number(It(h.lowerLeft_X)),Number(It(h.lowerLeft_Y)),Number(It(h.upperRight_X)),Number(It(h.upperRight_Y))]},Hx=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=T1(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+It(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ia(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},T1=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(B){return B.split(`
`)}):s.map(function(B){return[B]});var o=t,l=at.internal.getHeight(r)||0;l=l<0?-l:l;var u=at.internal.getWidth(r)||0;u=u<0?-u:u;var h=function(B,V,ie){if(B+1<s.length){var ee=V+" "+s[B+1][0];return hh(ee,r,ie).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var f,v,x=hh("3",r,o).height,C=r.multiline?l-o:(l-x)/2,b=C+=2,j=0,L=0,A=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+hh(e,r,o=12).width+", FieldWidth:"+u+`
`;break}for(var E="",D=0,H=0;H<s.length;H++)if(s.hasOwnProperty(H)){var Y=!1;if(s[H].length!==1&&A!==s[H].length-1){if((x+2)*(D+2)+2>l)continue e;E+=s[H][A],Y=!0,L=H,H--}else{E=(E+=s[H][A]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var ne=parseInt(H),we=h(ne,E,o),ue=H>=s.length-1;if(we&&!ue){E+=" ",A=0;continue}if(we||ue){if(ue)L=ne;else if(r.multiline&&(x+2)*(D+2)+2>l)continue e}else{if(!r.multiline||(x+2)*(D+2)+2>l)continue e;L=ne}}for(var Q="",ye=j;ye<=L;ye++){var pe=s[ye];if(r.multiline){if(ye===L){Q+=pe[A]+" ",A=(A+1)%pe.length;continue}if(ye===j){Q+=pe[pe.length-1]+" ";continue}}Q+=pe[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,v=hh(Q,r,o).width,r.textAlign){case"right":f=u-v-2;break;case"center":f=(u-v)/2;break;case"left":default:f=2}e+=It(f)+" "+It(b)+` Td
`,e+="("+pc(Q)+`) Tj
`,e+=-It(f)+` 0 Td
`,b=-(o+2),v=0,j=Y?L:L+1,D++,E=""}break}return n.text=e,n.fontSize=o,n},hh=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},Wx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Vx=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Zx=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),gr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},Gx=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Rs.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Wx)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r0=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new t5,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&Vx(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var o=!n;for(var l in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var u=n[l],h=[],f=u.Rect;if(u.Rect&&(u.Rect=$x(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=at.createDefaultAppearanceStream(u),gr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var v=Hx(u);h.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(u.appearanceStreamContent){var x="";for(var C in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(C)){var b=u.appearanceStreamContent[C];if(x+="/"+C+" ",x+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var j=b[l];typeof j=="function"&&(j=j.call(s,u)),x+="/"+l+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(s,u)),x+="/"+l+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:u.objId}),s.internal.out("endobj")}o&&Zx(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Qg=Vr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(l){return l};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),gr(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+pc(n(r[o].toString()))+")"):s+=r[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qf=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+pc(n(r))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:Qg(s,this.objId,this.scope)}):s instanceof sa?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var e5=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ai(e5,sa);var t5=function(){sa.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+pc(t(r))+")"}},set:function(t){r=t}})};Ai(t5,sa);var Rs=function r(){sa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(e,3)},set:function(E){E?this.F=Jr(e,3):this.F=Kr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Th)return;o="FieldObject"+r.FieldNum++}var E=function(D){return D};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+pc(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/r0:f},set:function(E){f=E}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(E){v=E}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Th||this instanceof cc))return Qf(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=E}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof _n?C:Qf(C,this.objId,this.scope)},set:function(E){E=E.toString(),C=this instanceof _n?E:E.substr(0,1)==="("?Yc(E.substr(1,E.length-2)):Yc(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _n?Yc(C.substr(1,C.length-1)):C},set:function(E){E=E.toString(),C=this instanceof _n?"/"+E:E}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof _n?b:Qf(b,this.objId,this.scope)},set:function(E){E=E.toString(),b=this instanceof _n?E:E.substr(0,1)==="("?Yc(E.substr(1,E.length-2)):Yc(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _n?Yc(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof _n?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(E){E=!!E,L=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(E){j=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(E){E?this.Ff=Jr(this.Ff,1):this.Ff=Kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(E){E?this.Ff=Jr(this.Ff,2):this.Ff=Kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(E){E?this.Ff=Jr(this.Ff,3):this.Ff=Kr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');A=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(A){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Ai(Rs,sa);var su=function(){Rs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qg(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(o,l,u){u||(u=1);for(var h,f=[];h=l.exec(o);)f.push(h[u]);return f}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(t){t?this.Ff=Jr(this.Ff,18):this.Ff=Kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jr(this.Ff,19):this.Ff=Kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(t){t?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(t){t?this.Ff=Jr(this.Ff,22):this.Ff=Kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(t){t?this.Ff=Jr(this.Ff,27):this.Ff=Kr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ai(su,Rs);var au=function(){su.call(this),this.fontName="helvetica",this.combo=!1};Ai(au,su);var ou=function(){au.call(this),this.combo=!0};Ai(ou,au);var gh=function(){ou.call(this),this.edit=!0};Ai(gh,ou);var _n=function(){Rs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(t){t?this.Ff=Jr(this.Ff,15):this.Ff=Kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(t){t?this.Ff=Jr(this.Ff,16):this.Ff=Kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(t){t?this.Ff=Jr(this.Ff,17):this.Ff=Kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+pc(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){gr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ai(_n,Rs);var mh=function(){_n.call(this),this.pushButton=!0};Ai(mh,_n);var lu=function(){_n.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ai(lu,_n);var Th=function(){var r,e;Rs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),n)l.push("/"+o+" ("+pc(s(n[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){gr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ai(Th,Rs),lu.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},lu.prototype.createOption=function(r){var e=new Th;return e.Parent=this,e.optionName=r,this.Kids.push(e),Yx.call(this.scope,e),e};var vh=function(){_n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};Ai(vh,_n);var cc=function(){Rs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ai(cc,Rs);var yh=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(r){r?this.Ff=Jr(this.Ff,14):this.Ff=Kr(this.Ff,14)}}),this.password=!0};Ai(yh,cc);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=T1(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+It(at.internal.getWidth(r))+" "+It(at.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+It(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ia(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],o=at.internal.getHeight(r),l=at.internal.getWidth(r),u=T1(r,r.caption);return s.push("1 g"),s.push("0 0 "+It(l)+" "+It(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+It(l-1)+" "+It(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+It(u.fontSize)+" Tf "+n),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+It(at.internal.getWidth(r))+" "+It(at.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=at.RadioButton.Circle.YesNormal,e.D[r]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ia(r);e.scope=r.scope;var t=[],n=at.internal.getWidth(r)<=at.internal.getHeight(r)?at.internal.getWidth(r)/4:at.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=at.internal.Bezier_C,o=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Qo(at.internal.getWidth(r)/2)+" "+Qo(at.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=[],n=at.internal.getWidth(r)<=at.internal.getHeight(r)?at.internal.getWidth(r)/4:at.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*at.internal.Bezier_C).toFixed(5)),l=Number((n*at.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Qo(at.internal.getWidth(r)/2)+" "+Qo(at.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Qo(at.internal.getWidth(r)/2)+" "+Qo(at.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=[],n=at.internal.getWidth(r)<=at.internal.getHeight(r)?at.internal.getWidth(r)/4:at.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*at.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Qo(at.internal.getWidth(r)/2)+" "+Qo(at.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=at.RadioButton.Cross.YesNormal,e.D[r]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ia(r);e.scope=r.scope;var t=[],n=at.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+It(at.internal.getWidth(r)-2)+" "+It(at.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(It(n.x1.x)+" "+It(n.x1.y)+" m"),t.push(It(n.x2.x)+" "+It(n.x2.y)+" l"),t.push(It(n.x4.x)+" "+It(n.x4.y)+" m"),t.push(It(n.x3.x)+" "+It(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=at.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+It(at.internal.getWidth(r))+" "+It(at.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+It(at.internal.getWidth(r)-2)+" "+It(at.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(It(t.x1.x)+" "+It(t.x1.y)+" m"),n.push(It(t.x2.x)+" "+It(t.x2.y)+" l"),n.push(It(t.x4.x)+" "+It(t.x4.y)+" m"),n.push(It(t.x3.x)+" "+It(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ia(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+It(at.internal.getWidth(r))+" "+It(at.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};at.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=at.internal.getWidth(r),t=at.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},at.internal.getWidth=function(r){var e=0;return gr(r)==="object"&&(e=d2(r.Rect[2])),e},at.internal.getHeight=function(r){var e=0;return gr(r)==="object"&&(e=d2(r.Rect[3])),e};var Yx=Vr.addField=function(r){if(Gx(this,r),!(r instanceof Rs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=su,Vr.AcroFormListBox=au,Vr.AcroFormComboBox=ou,Vr.AcroFormEditBox=gh,Vr.AcroFormButton=_n,Vr.AcroFormPushButton=mh,Vr.AcroFormRadioButton=lu,Vr.AcroFormCheckBox=vh,Vr.AcroFormTextField=cc,Vr.AcroFormPasswordField=yh,Vr.AcroFormAppearance=at,Vr.AcroForm={ChoiceField:su,ListBox:au,ComboBox:ou,EditBox:gh,Button:_n,PushButton:mh,RadioButton:lu,CheckBox:vh,TextField:cc,PasswordField:yh,Appearance:at},_t.AcroForm={ChoiceField:su,ListBox:au,ComboBox:ou,EditBox:gh,Button:_n,PushButton:mh,RadioButton:lu,CheckBox:vh,TextField:cc,PasswordField:yh,Appearance:at};_t.AcroForm;function r5(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(B,V){var ie,ee,Se,ke,Ne,re=e;if((V=V||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(we(B))for(Ne in t)for(Se=t[Ne],ie=0;ie<Se.length;ie+=1){for(ke=!0,ee=0;ee<Se[ie].length;ee+=1)if(Se[ie][ee]!==void 0&&Se[ie][ee]!==B[ee]){ke=!1;break}if(ke===!0){re=Ne;break}}else for(Ne in t)for(Se=t[Ne],ie=0;ie<Se.length;ie+=1){for(ke=!0,ee=0;ee<Se[ie].length;ee+=1)if(Se[ie][ee]!==void 0&&Se[ie][ee]!==B.charCodeAt(ee)){ke=!1;break}if(ke===!0){re=Ne;break}}return re===e&&V!==e&&(re=V),re},s=function B(V){for(var ie=this.internal.write,ee=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var ke=[];if(ke.push({key:"Type",value:"/XObject"}),ke.push({key:"Subtype",value:"/Image"}),ke.push({key:"Width",value:V.width}),ke.push({key:"Height",value:V.height}),V.colorSpace===A.INDEXED?ke.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(ke.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===A.DEVICE_CMYK&&ke.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ke.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&ke.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var Ne="",re=0,se=V.transparency.length;re<se;re++)Ne+=V.transparency[re]+" "+V.transparency[re]+" ";ke.push({key:"Mask",value:"["+Ne+"]"})}V.sMask!==void 0&&ke.push({key:"SMask",value:V.objectId+1+" 0 R"});var I=V.filter!==void 0?["/"+V.filter]:void 0;if(ee({data:V.data,additionalKeyValues:ke,alreadyAppliedFilters:I,objectId:V.objectId}),ie("endobj"),"sMask"in V&&V.sMask!==void 0){var ae="/Predictor "+V.predictor+" /Colors 1 /BitsPerComponent "+V.bitsPerComponent+" /Columns "+V.width,N={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:ae,data:V.sMask};"filter"in V&&(N.filter=V.filter),B.call(this,N)}if(V.colorSpace===A.INDEXED){var M=this.internal.newObject();ee({data:Q(new Uint8Array(V.palette)),objectId:M}),ie("endobj")}},o=function(){var B=this.internal.collections.addImage_images;for(var V in B)s.call(this,B[V])},l=function(){var B,V=this.internal.collections.addImage_images,ie=this.internal.write;for(var ee in V)ie("/I"+(B=V[ee]).index,B.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var B=this.internal.collections.addImage_images;return u.call(this),B},f=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(B){return typeof r["process"+B.toUpperCase()]=="function"},x=function(B){return gr(B)==="object"&&B.nodeType===1},C=function(B,V){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var ie=""+B.getAttribute("src");if(ie.indexOf("data:image/")===0)return ed(unescape(ie).split("base64,").pop());var ee=r.loadFile(ie,!0);if(ee!==void 0)return ee}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var Se;switch(V){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;case"JPEG":case"JPG":default:Se="image/jpeg"}return ed(B.toDataURL(Se,1).split("base64,").pop())}},b=function(B){var V=this.internal.collections.addImage_images;if(V){for(var ie in V)if(B===V[ie].alias)return V[ie]}},j=function(B,V,ie){return B||V||(B=-96,V=-96),B<0&&(B=-1*ie.width*72/B/this.internal.scaleFactor),V<0&&(V=-1*ie.height*72/V/this.internal.scaleFactor),B===0&&(B=V*ie.width/ie.height),V===0&&(V=B*ie.height/ie.width),[B,V]},L=function(B,V,ie,ee,Se,ke){var Ne=j.call(this,ie,ee,Se),re=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,I=h.call(this);if(ie=Ne[0],ee=Ne[1],I[Se.index]=Se,ke){ke*=Math.PI/180;var ae=Math.cos(ke),N=Math.sin(ke),M=function(z){return z.toFixed(4)},$=[M(ae),M(N),M(-1*N),M(ae),0,0,"cm"]}this.internal.write("q"),ke?(this.internal.write([1,"0","0",1,re(B),se(V+ee),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([re(ie),"0","0",re(ee),"0","0","cm"].join(" "))):this.internal.write([re(ie),"0","0",re(ee),re(B),se(V+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},A=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(B){var V,ie,ee=0;if(typeof B=="string")for(ie=B.length,V=0;V<ie;V++)ee=(ee<<5)-ee+B.charCodeAt(V),ee|=0;else if(we(B))for(ie=B.byteLength/2,V=0;V<ie;V++)ee=(ee<<5)-ee+B[V],ee|=0;return ee},H=r.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var V=!0;return B.length===0&&(V=!1),B.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(V=!1),V},Y=r.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var V=B.indexOf(",");return V<0?null:B.substring(0,V).trim().endsWith("base64")?B.substring(V+1):null},ne=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(B){return ne()&&B instanceof ArrayBuffer};var we=r.__addimage__.isArrayBufferView=function(B){return ne()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},ue=r.__addimage__.binaryStringToUint8Array=function(B){for(var V=B.length,ie=new Uint8Array(V),ee=0;ee<V;ee++)ie[ee]=B.charCodeAt(ee);return ie},Q=r.__addimage__.arrayBufferToBinaryString=function(B){for(var V="",ie=we(B)?B:new Uint8Array(B),ee=0;ee<ie.length;ee+=8192)V+=String.fromCharCode.apply(null,ie.subarray(ee,ee+8192));return V};r.addImage=function(){var B,V,ie,ee,Se,ke,Ne,re,se;if(typeof arguments[1]=="number"?(V=e,ie=arguments[1],ee=arguments[2],Se=arguments[3],ke=arguments[4],Ne=arguments[5],re=arguments[6],se=arguments[7]):(V=arguments[1],ie=arguments[2],ee=arguments[3],Se=arguments[4],ke=arguments[5],Ne=arguments[6],re=arguments[7],se=arguments[8]),gr(B=arguments[0])==="object"&&!x(B)&&"imageData"in B){var I=B;B=I.imageData,V=I.format||V||e,ie=I.x||ie||0,ee=I.y||ee||0,Se=I.w||I.width||Se,ke=I.h||I.height||ke,Ne=I.alias||Ne,re=I.compression||re,se=I.rotation||I.angle||se}var ae=this.internal.getFilters();if(re===void 0&&ae.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(ie)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=ye.call(this,B,V,Ne,re);return L.call(this,ie,ee,Se,ke,N,se),this};var ye=function(B,V,ie,ee){var Se,ke,Ne;if(typeof B=="string"&&n(B)===e){B=unescape(B);var re=pe(B,!1);(re!==""||(re=r.loadFile(B,!0))!==void 0)&&(B=re)}if(x(B)&&(B=C(B,V)),V=n(B,V),!v(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((Ne=ie)==null||Ne.length===0)&&(ie=function(se){return typeof se=="string"||we(se)?D(se):we(se.data)?D(se.data):null}(B)),(Se=b.call(this,ie))||(ne()&&(B instanceof Uint8Array||V==="RGBA"||(ke=B,B=ue(B))),Se=this["process"+V.toUpperCase()](B,f.call(this),ie,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in r.image_compression?se:E.NONE}(ee),ke)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},pe=r.__addimage__.convertBase64ToBinaryString=function(B,V){V=typeof V!="boolean"||V;var ie,ee="";if(typeof B=="string"){var Se;ie=(Se=Y(B))!==null&&Se!==void 0?Se:B;try{ee=ed(ie)}catch(ke){if(V)throw H(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ke.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};r.getImageProperties=function(B){var V,ie,ee="";if(x(B)&&(B=C(B)),typeof B=="string"&&n(B)===e&&((ee=pe(B,!1))===""&&(ee=r.loadFile(B)||""),B=ee),ie=n(B),!v(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!ne()||B instanceof Uint8Array||(B=ue(B)),!(V=this["process"+ie.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=ie,V}})(_t.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};_t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,o,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,v=!1,x=0;x<f.length&&!v;x++)switch((n=f[x]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var C=0;C<f.length;C++){n=f[C];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(L.objId),D=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+b(E(n.contents))+")",o+=" /Popup "+A.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+b(E(D))+") >>",L.content=o;var H=L.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+H,n.open&&(o+=" /Open true"),o+=" >>",A.content=o,this.internal.write(L.objId,"0 R",A.objId,"0 R");break;case"freetext":s="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var Y=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(j(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Y+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ne=this.annotations._nameMap[n.options.name];n.options.pageNumber=ne.page,n.options.top=ne.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var we=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+we+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,o,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:f(n),w:h(t+s),h:f(n+o)},options:l,type:"link"})},r.textWithLink=function(t,n,s,o){var l,u,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var v=this.splitTextToSize(t,u).length;l=Math.ceil(f*v)}else u=h,l=f;return this.text(t,n,s,o),s+=.2*f,o.align==="center"&&(n-=h/2),o.align==="right"&&(n-=h),this.link(n,s-f,u,l,o),h},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(_t.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},l=r.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},u=r.__arabicParser__.isArabicEndLetter=function(L){return l(L)&&o(L)&&e[L.charCodeAt(0)].length<=2},h=r.__arabicParser__.isArabicAlfLetter=function(L){return l(L)&&s.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return l(L)&&o(L)&&e[L.charCodeAt(0)].length>=1};var f=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return l(L)&&o(L)&&e[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return l(L)&&o(L)&&e[L.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return l(L)&&o(L)&&e[L.charCodeAt(0)].length==4},x=r.__arabicParser__.resolveLigatures=function(L){var A=0,E=t,D="",H=0;for(A=0;A<L.length;A+=1)E[L.charCodeAt(A)]!==void 0?(H++,typeof(E=E[L.charCodeAt(A)])=="number"&&(D+=String.fromCharCode(E),E=t,H=0),A===L.length-1&&(E=t,D+=L.charAt(A-(H-1)),A-=H-1,H=0)):(E=t,D+=L.charAt(A-H),A-=H,H=0);return D};r.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&n[L.charCodeAt(0)]!==void 0};var C=r.__arabicParser__.getCorrectForm=function(L,A,E){return l(L)?o(L)===!1?-1:!f(L)||!l(A)&&!l(E)||!l(E)&&u(A)||u(L)&&!l(A)||u(L)&&h(A)||u(L)&&u(A)?0:v(L)&&l(A)&&!u(A)&&l(E)&&f(E)?3:u(L)||!l(E)?1:2:-1},b=function(L){var A=0,E=0,D=0,H="",Y="",ne="",we=(L=L||"").split("\\s+"),ue=[];for(A=0;A<we.length;A+=1){for(ue.push(""),E=0;E<we[A].length;E+=1)H=we[A][E],Y=we[A][E-1],ne=we[A][E+1],l(H)?(D=C(H,Y,ne),ue[A]+=D!==-1?String.fromCharCode(e[H.charCodeAt(0)][D]):H):ue[A]+=H;ue[A]=x(ue[A])}return ue.join(" ")},j=r.__arabicParser__.processArabic=r.processArabic=function(){var L,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(A)){var D=0;for(E=[],D=0;D<A.length;D+=1)Array.isArray(A[D])?E.push([b(A[D][0]),A[D][1],A[D][2]]):E.push([b(A[D])]);L=E}else L=b(A);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",j])}(_t.API),_t.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(L){C=L}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(L){b=L}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(L){j=L}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},r.getTextDimensions=function(h,f){n.call(this);var v=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),C=f.scaleFactor||this.internal.scaleFactor,b=0,j=0,L=0,A=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=f.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(H,Y){return H.concat(A.splitTextToSize(Y,E))},[])):h=Array.isArray(h)?h:[h];for(var D=0;D<h.length;D++)b<(L=this.getStringUnitWidth(h[D],{font:x})*v)&&(b=L);return b!==0&&(j=h.length),{w:b/=C,h:Math.max((j*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/C,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=r.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,b&&C&&(this.printHeaderRow(h.lineNumber,!0),h.y+=C[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-v,h.y+v,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+v,{align:"center",baseline:"top",maxWidth:h.width-v-v}):this.text(h.text,h.x+v,h.y+v,{align:"left",baseline:"top",maxWidth:h.width-v-v})),this.internal.__cell__.lastCell=h,this};r.table=function(h,f,v,x,C){if(n.call(this),!v)throw new Error("No data for PDF table.");var b,j,L,A,E=[],D=[],H=[],Y={},ne={},we=[],ue=[],Q=(C=C||{}).autoSize||!1,ye=C.printHeaders!==!1,pe=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,B=C.margins||Object.assign({width:this.getPageWidth()},e),V=typeof C.padding=="number"?C.padding:3,ie=C.headerBackgroundColor||"#c8c8c8",ee=C.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=ye,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=ee,this.setFontSize(pe),x==null)D=E=Object.keys(v[0]),H=E.map(function(){return"left"});else if(Array.isArray(x)&&gr(x[0])==="object")for(E=x.map(function(I){return I.name}),D=x.map(function(I){return I.prompt||I.name||""}),H=x.map(function(I){return I.align||"left"}),b=0;b<x.length;b+=1)ne[x[b].name]=x[b].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(D=E=x,H=E.map(function(){return"left"}));if(Q||Array.isArray(x)&&typeof x[0]=="string")for(b=0;b<E.length;b+=1){for(Y[A=E[b]]=v.map(function(I){return I[A]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(D[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=Y[A],this.setFont(void 0,"normal"),L=0;L<j.length;L+=1)we.push(this.getTextDimensions(j[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[A]=Math.max.apply(null,we)+V+V,we=[]}if(ye){var Se={};for(b=0;b<E.length;b+=1)Se[E[b]]={},Se[E[b]].text=D[b],Se[E[b]].align=H[b];var ke=u.call(this,Se,ne);ue=E.map(function(I){return new o(h,f,ne[I],ke,Se[I].text,void 0,Se[I].align)}),this.setTableHeaderRow(ue),this.printHeaderRow(1,!1)}var Ne=x.reduce(function(I,ae){return I[ae.name]=ae.align,I},{});for(b=0;b<v.length;b+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:b,data:v[b]},this);var re=u.call(this,v[b],ne);for(L=0;L<E.length;L+=1){var se=v[b][E[L]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:b,col:L,data:se},this),l.call(this,new o(h,f,ne[E[L]],re,se,b+2,Ne[E[L]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var v=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(h).map(function(b){var j=h[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*x/C+v+v},this).reduce(function(b,j){return Math.max(b,j)},0)};r.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},r.printHeaderRow=function(h,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(v.y=this.internal.__cell__.margins.top||0,C.push(v)),v.lineNumber=h;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,v),this.setTextColor(j)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}}(_t.API);var n5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},i5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I1=r5(i5),s5=[100,200,300,400,500,600,700,800,900],Jx=r5(s5);function F1(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return n5[o=o||"normal"]?o:"normal"}(r.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(o){return typeof I1[o=o||"normal"]=="number"?o:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function h2(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var Kx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},f2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function p2(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Xx(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},Kx,t.genericFontFamilies||{}),o=null,l=null,u=0;u<e.length;++u)if(s[(o=F1(e[u])).family]&&(o.family=s[o.family]),r.hasOwnProperty(o.family)){l=r[o.family];break}if(!(l=l||r[n]))throw new Error("Could not find a font-family for the rule '"+p2(o)+"' and default family '"+n+"'.");if(l=function(h,f){if(f[h])return f[h];var v=I1[h],x=v<=I1.normal?-1:1,C=h2(f,i5,v,x);if(!C)throw new Error("Could not find a matching font-stretch value for "+h);return C}(o.stretch,l),l=function(h,f){if(f[h])return f[h];for(var v=n5[h],x=0;x<v.length;++x)if(f[v[x]])return f[v[x]];throw new Error("Could not find a matching font-style for "+h)}(o.style,l),!(l=function(h,f){if(f[h])return f[h];if(h===400&&f[500])return f[500];if(h===500&&f[400])return f[400];var v=Jx[h],x=h2(f,s5,v,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+p2(o)+"'.");return l}function g2(r){return r.trimLeft()}function Qx(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function ew(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var fh,m2,v2,e1=["times"];(function(r){var e,t,n,s,o,l,u,h,f,v=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new h,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new l,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new l,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new v}]);var x=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=N;Object.defineProperty(this,"pdf",{get:function(){return M}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Ie){$=!!Ie}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Ie){z=!!Ie}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(Ie){isNaN(Ie)||(W=Ie)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(Ie){isNaN(Ie)||(K=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ie){var te;typeof Ie=="number"?te=[Ie,Ie,Ie,Ie]:((te=new Array(4))[0]=Ie[0],te[1]=Ie.length>=2?Ie[1]:te[0],te[2]=Ie.length>=3?Ie[2]:te[0],te[3]=Ie.length>=4?Ie[3]:te[1]),f.margin=te}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Ie){de=Ie}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Ie){me=Ie}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(Ie){De=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ie){Ie instanceof v&&(f=Ie)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ie){f.path=Ie}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Ie){Oe=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var te;te=C(Ie),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var te=C(Ie);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var Ve=null;function Ge(Ie,te){if(Ve===null){var Nt=function(ot){var ze=[];return Object.keys(ot).forEach(function(We){ot[We].forEach(function(Je){var Ke=null;switch(Je){case"bold":Ke={family:We,weight:"bold"};break;case"italic":Ke={family:We,style:"italic"};break;case"bolditalic":Ke={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:We}}Ke!==null&&(Ke.ref={name:We,style:Je},ze.push(Ke))})}),ze}(Ie.getFontList());Ve=function(ot){for(var ze={},We=0;We<ot.length;++We){var Je=F1(ot[We]),Ke=Je.family,ut=Je.stretch,jt=Je.style,Tt=Je.weight;ze[Ke]=ze[Ke]||{},ze[Ke][ut]=ze[Ke][ut]||{},ze[Ke][ut][jt]=ze[Ke][ut][jt]||{},ze[Ke][ut][jt][Tt]=Je}return ze}(Nt.concat(te))}return Ve}var mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(Ie){Ve=null,mt=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var te;if(this.ctx.font=Ie,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var Nt=te[1];te[2];var ot=te[3],ze=te[4];te[5];var We=te[6],Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(Je==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Ke=function(bt){var Ft,Xe,on=[],Zt=bt.trim();if(Zt==="")return e1;if(Zt in f2)return[f2[Zt]];for(;Zt!=="";){switch(Xe=null,Ft=(Zt=g2(Zt)).charAt(0)){case'"':case"'":Xe=Qx(Zt.substring(1),Ft);break;default:Xe=ew(Zt)}if(Xe===null||(on.push(Xe[0]),(Zt=g2(Xe[1]))!==""&&Zt.charAt(0)!==","))return e1;Zt=Zt.replace(/^,/,"")}return on}(We);if(this.fontFaces){var ut=Xx(Ge(this.pdf,this.fontFaces),Ke.map(function(bt){return{family:bt,stretch:"normal",weight:ot,style:Nt}}));this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var jt="";(ot==="bold"||parseInt(ot,10)>=700||Nt==="bold")&&(jt="bold"),Nt==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var Tt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<Ke.length;Ut++){if(this.pdf.internal.getFont(Ke[Ut],jt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=Ke[Ut];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(Ke[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=Ke[Ut],jt="bold";else if(this.pdf.internal.getFont(Ke[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=Ke[Ut],jt="normal";break}}if(Tt===""){for(var Xt=0;Xt<Ke.length;Xt++)if(Mt[Ke[Xt]]){Tt=Mt[Ke[Xt]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};x.prototype.setLineDash=function(N){this.lineDash=N},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){Y.call(this,"fill",!1)},x.prototype.stroke=function(){Y.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(N,M){if(isNaN(N)||isNaN(M))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new l(N,M));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new l(N,M)},x.prototype.closePath=function(){var N=new l(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&gr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){N=new l(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(N.x,N.y)},x.prototype.lineTo=function(N,M){if(isNaN(N)||isNaN(M))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new l(N,M));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new l($.x,$.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Y.call(this,null,!0)},x.prototype.quadraticCurveTo=function(N,M,$,z){if(isNaN($)||isNaN(z)||isNaN(N)||isNaN(M))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new l($,z)),K=this.ctx.transform.applyToPoint(new l(N,M));this.path.push({type:"qct",x1:K.x,y1:K.y,x:W.x,y:W.y}),this.ctx.lastPoint=new l(W.x,W.y)},x.prototype.bezierCurveTo=function(N,M,$,z,W,K){if(isNaN(W)||isNaN(K)||isNaN(N)||isNaN(M)||isNaN($)||isNaN(z))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new l(W,K)),me=this.ctx.transform.applyToPoint(new l(N,M)),De=this.ctx.transform.applyToPoint(new l($,z));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:De.x,y2:De.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},x.prototype.arc=function(N,M,$,z,W,K){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z)||isNaN(W))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new l(N,M));N=de.x,M=de.y;var me=this.ctx.transform.applyToPoint(new l(0,$)),De=this.ctx.transform.applyToPoint(new l(0,0));$=Math.sqrt(Math.pow(me.x-De.x,2)+Math.pow(me.y-De.y,2))}Math.abs(W-z)>=2*Math.PI&&(z=0,W=2*Math.PI),this.path.push({type:"arc",x:N,y:M,radius:$,startAngle:z,endAngle:W,counterclockwise:K})},x.prototype.arcTo=function(N,M,$,z,W){throw new Error("arcTo not implemented.")},x.prototype.rect=function(N,M,$,z){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,M),this.lineTo(N+$,M),this.lineTo(N+$,M+z),this.lineTo(N,M+z),this.lineTo(N,M),this.lineTo(N+$,M),this.lineTo(N,M)},x.prototype.fillRect=function(N,M,$,z){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,M,$,z),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},x.prototype.strokeRect=function(N,M,$,z){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(N,M,$,z),this.stroke())},x.prototype.clearRect=function(N,M,$,z){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,M,$,z))},x.prototype.save=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},x.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(M),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(N){var M,$,z,W;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))M=0,$=0,z=0,W=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(K!==null)M=parseInt(K[1]),$=parseInt(K[2]),z=parseInt(K[3]),W=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)M=parseInt(K[1]),$=parseInt(K[2]),z=parseInt(K[3]),W=parseFloat(K[4]);else{if(W=1,typeof N=="string"&&N.charAt(0)!=="#"){var de=new Jg(N);N=de.ok?de.toHex():"#000000"}N.length===4?(M=N.substring(1,2),M+=M,$=N.substring(2,3),$+=$,z=N.substring(3,4),z+=z):(M=N.substring(1,3),$=N.substring(3,5),z=N.substring(5,7)),M=parseInt(M,16),$=parseInt($,16),z=parseInt(z,16)}}return{r:M,g:$,b:z,a:W,style:N}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(N,M,$,z){if(isNaN(M)||isNaN($)||typeof N!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!b.call(this)){var W=re(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;V.call(this,{text:N,x:M,y:$,scale:K,angle:W,align:this.textAlign,maxWidth:z})}},x.prototype.strokeText=function(N,M,$,z){if(isNaN(M)||isNaN($)||typeof N!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){z=isNaN(z)?void 0:z;var W=re(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;V.call(this,{text:N,x:M,y:$,scale:K,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:z})}},x.prototype.measureText=function(N){if(typeof N!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,$=this.pdf.internal.scaleFactor,z=M.internal.getFontSize(),W=M.getStringUnitWidth(N)*z/M.internal.scaleFactor,K=function(de){var me=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new K({width:W*=Math.round(96*$/72*1e4)/1e4})},x.prototype.scale=function(N,M){if(isNaN(N)||isNaN(M))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new h(N,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply($)},x.prototype.rotate=function(N){if(isNaN(N))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new h(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},x.prototype.translate=function(N,M){if(isNaN(N)||isNaN(M))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new h(1,0,0,1,N,M);this.ctx.transform=this.ctx.transform.multiply($)},x.prototype.transform=function(N,M,$,z,W,K){if(isNaN(N)||isNaN(M)||isNaN($)||isNaN(z)||isNaN(W)||isNaN(K))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new h(N,M,$,z,W,K);this.ctx.transform=this.ctx.transform.multiply(de)},x.prototype.setTransform=function(N,M,$,z,W,K){N=isNaN(N)?1:N,M=isNaN(M)?0:M,$=isNaN($)?0:$,z=isNaN(z)?1:z,W=isNaN(W)?0:W,K=isNaN(K)?0:K,this.ctx.transform=new h(N,M,$,z,W,K)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(N,M,$,z,W,K,de,me,De){var Oe=this.pdf.getImageProperties(N),Ve=1,Ge=1,mt=1,Ie=1;z!==void 0&&me!==void 0&&(mt=me/z,Ie=De/W,Ve=Oe.width/z*me/z,Ge=Oe.height/W*De/W),K===void 0&&(K=M,de=$,M=0,$=0),z!==void 0&&me===void 0&&(me=z,De=W),z===void 0&&me===void 0&&(me=Oe.width,De=Oe.height);for(var te,Nt=this.ctx.transform.decompose(),ot=re(Nt.rotate.shx),ze=new h,We=(ze=(ze=(ze=ze.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new u(K-M*mt,de-$*Ie,z*Ve,W*Ge)),Je=A.call(this,We),Ke=[],ut=0;ut<Je.length;ut+=1)Ke.indexOf(Je[ut])===-1&&Ke.push(Je[ut]);if(H(Ke),this.autoPaging)for(var jt=Ke[0],Tt=Ke[Ke.length-1],Mt=jt;Mt<Tt+1;Mt++){this.pdf.setPage(Mt);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Mt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Mt===1?0:bt+(Mt-2)*Ft;if(this.ctx.clip_path.length!==0){var on=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(te,this.posX+this.margin[3],-Xe+Xt+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=on}var Zt=JSON.parse(JSON.stringify(We));Zt=D([Zt],this.posX+this.margin[3],-Xe+Xt+this.ctx.prevPageLastElemOffset)[0];var di=(Mt>jt||Mt<Tt)&&L.call(this);di&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Ft,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,ot),di&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",We.x,We.y,We.w,We.h,null,null,ot)};var A=function(N,M,$){var z=[];M=M||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":z.push(Math.floor((N.y+W)/$)+1);break;case"arc":z.push(Math.floor((N.y+W-N.radius)/$)+1),z.push(Math.floor((N.y+W+N.radius)/$)+1);break;case"qct":var K=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);z.push(Math.floor((K.y+W)/$)+1),z.push(Math.floor((K.y+K.h+W)/$)+1);break;case"bct":var de=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);z.push(Math.floor((de.y+W)/$)+1),z.push(Math.floor((de.y+de.h+W)/$)+1);break;case"rect":z.push(Math.floor((N.y+W)/$)+1),z.push(Math.floor((N.y+N.h+W)/$)+1)}for(var me=0;me<z.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<z[me];)E.call(this);return z},E=function(){var N=this.fillStyle,M=this.strokeStyle,$=this.font,z=this.lineCap,W=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=M,this.font=$,this.lineCap=z,this.lineWidth=W,this.lineJoin=K},D=function(N,M,$){for(var z=0;z<N.length;z++)switch(N[z].type){case"bct":N[z].x2+=M,N[z].y2+=$;case"qct":N[z].x1+=M,N[z].y1+=$;case"mt":case"lt":case"arc":default:N[z].x+=M,N[z].y+=$}return N},H=function(N){return N.sort(function(M,$){return M-$})},Y=function(N,M){for(var $,z,W=this.fillStyle,K=this.strokeStyle,de=this.lineCap,me=this.lineWidth,De=Math.abs(me*this.ctx.transform.scaleX),Oe=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),mt=[],Ie=0;Ie<Ge.length;Ie++)if(Ge[Ie].x!==void 0)for(var te=A.call(this,Ge[Ie]),Nt=0;Nt<te.length;Nt+=1)mt.indexOf(te[Nt])===-1&&mt.push(te[Nt]);for(var ot=0;ot<mt.length;ot++)for(;this.pdf.internal.getNumberOfPages()<mt[ot];)E.call(this);if(H(mt),this.autoPaging)for(var ze=mt[0],We=mt[mt.length-1],Je=ze;Je<We+1;Je++){this.pdf.setPage(Je),this.fillStyle=W,this.strokeStyle=K,this.lineCap=de,this.lineWidth=De,this.lineJoin=Oe;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Je===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=Je===1?0:jt+(Je-2)*Tt;if(this.ctx.clip_path.length!==0){var Ut=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D($,this.posX+this.margin[3],-Mt+ut+this.ctx.prevPageLastElemOffset),ne.call(this,N,!0),this.path=Ut}if(z=JSON.parse(JSON.stringify(Ve)),this.path=D(z,this.posX+this.margin[3],-Mt+ut+this.ctx.prevPageLastElemOffset),M===!1||Je===0){var Xt=(Je>ze||Je<We)&&L.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Tt,null).clip().discardPath()),ne.call(this,N,M),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=De,ne.call(this,N,M),this.lineWidth=me;this.path=Ve},ne=function(N,M){if((N!=="stroke"||M||!j.call(this))&&(N==="stroke"||M||!b.call(this))){for(var $,z,W=[],K=this.path,de=0;de<K.length;de++){var me=K[de];switch(me.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:me,deltas:[],abs:[]});break;case"lt":var De=W.length;if(K[de-1]&&!isNaN(K[de-1].x)&&($=[me.x-K[de-1].x,me.y-K[de-1].y],De>0)){for(;De>=0;De--)if(W[De-1].close!==!0&&W[De-1].begin!==!0){W[De-1].deltas.push($),W[De-1].abs.push(me);break}}break;case"bct":$=[me.x1-K[de-1].x,me.y1-K[de-1].y,me.x2-K[de-1].x,me.y2-K[de-1].y,me.x-K[de-1].x,me.y-K[de-1].y],W[W.length-1].deltas.push($);break;case"qct":var Oe=K[de-1].x+2/3*(me.x1-K[de-1].x),Ve=K[de-1].y+2/3*(me.y1-K[de-1].y),Ge=me.x+2/3*(me.x1-me.x),mt=me.y+2/3*(me.y1-me.y),Ie=me.x,te=me.y;$=[Oe-K[de-1].x,Ve-K[de-1].y,Ge-K[de-1].x,mt-K[de-1].y,Ie-K[de-1].x,te-K[de-1].y],W[W.length-1].deltas.push($);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(me)}}z=M?null:N==="stroke"?"stroke":"fill";for(var Nt=!1,ot=0;ot<W.length;ot++)if(W[ot].arc)for(var ze=W[ot].abs,We=0;We<ze.length;We++){var Je=ze[We];Je.type==="arc"?Q.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,M,!Nt):ie.call(this,Je.x,Je.y),Nt=!0}else if(W[ot].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(W[ot].begin!==!0){var Ke=W[ot].start.x,ut=W[ot].start.y;ee.call(this,W[ot].deltas,Ke,ut),Nt=!0}z&&ye.call(this,z),M&&pe.call(this)}},we=function(N){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-$;case"top":return N+M-$;case"hanging":return N+M-2*$;case"middle":return N+M/2-$;case"ideographic":return N;case"alphabetic":default:return N}},ue=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(M,$){this.colorStops.push([M,$])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(N,M,$,z,W,K,de,me,De){for(var Oe=ke.call(this,$,z,W,K),Ve=0;Ve<Oe.length;Ve++){var Ge=Oe[Ve];Ve===0&&(De?B.call(this,Ge.x1+N,Ge.y1+M):ie.call(this,Ge.x1+N,Ge.y1+M)),Se.call(this,N,M,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}me?pe.call(this):ye.call(this,de)},ye=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(N,M){this.pdf.internal.out(t(N)+" "+n(M)+" m")},V=function(N){var M;switch(N.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var $=this.pdf.getTextDimensions(N.text),z=we.call(this,N.y),W=ue.call(this,z)-$.h,K=this.ctx.transform.applyToPoint(new l(N.x,z)),de=this.ctx.transform.decompose(),me=new h;me=(me=(me=me.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var De,Oe,Ve,Ge=this.ctx.transform.applyToRectangle(new u(N.x,z,$.w,$.h)),mt=me.applyToRectangle(new u(N.x,W,$.w,$.h)),Ie=A.call(this,mt),te=[],Nt=0;Nt<Ie.length;Nt+=1)te.indexOf(Ie[Nt])===-1&&te.push(Ie[Nt]);if(H(te),this.autoPaging)for(var ot=te[0],ze=te[te.length-1],We=ot;We<ze+1;We++){this.pdf.setPage(We);var Je=We===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],jt=ut-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],Mt=Tt-this.margin[3],Ut=We===1?0:Ke+(We-2)*jt;if(this.ctx.clip_path.length!==0){var Xt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(De,this.posX+this.margin[3],-1*Ut+Je),ne.call(this,"fill",!0),this.path=Xt}var bt=D([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Ut+Je+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*N.scale),Ve=this.lineWidth,this.lineWidth=Ve*N.scale);var Ft=this.autoPaging!=="text";if(Ft||bt.y+bt.h<=ut){if(Ft||bt.y>=Je&&bt.x<=Tt){var Xe=Ft?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Tt-bt.x)[0],on=D([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Ut+Je+this.ctx.prevPageLastElemOffset)[0],Zt=Ft&&(We>ot||We<ze)&&L.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,jt,null).clip().discardPath()),this.pdf.text(Xe,on.x,on.y,{angle:N.angle,align:M,renderingMode:N.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else bt.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-bt.y);N.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Ve)}else N.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*N.scale),Ve=this.lineWidth,this.lineWidth=Ve*N.scale),this.pdf.text(N.text,K.x+this.posX,K.y+this.posY,{angle:N.angle,align:M,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Ve)},ie=function(N,M,$,z){$=$||0,z=z||0,this.pdf.internal.out(t(N+$)+" "+n(M+z)+" l")},ee=function(N,M,$){return this.pdf.lines(N,M,$,null,null)},Se=function(N,M,$,z,W,K,de,me){this.pdf.internal.out([e(s($+N)),e(o(z+M)),e(s(W+N)),e(o(K+M)),e(s(de+N)),e(o(me+M)),"c"].join(" "))},ke=function(N,M,$,z){for(var W=2*Math.PI,K=Math.PI/2;M>$;)M-=W;var de=Math.abs($-M);de<W&&z&&(de=W-de);for(var me=[],De=z?-1:1,Oe=M;de>1e-5;){var Ve=Oe+De*Math.min(de,K);me.push(Ne.call(this,N,Oe,Ve)),de-=Math.abs(Ve-Oe),Oe=Ve}return me},Ne=function(N,M,$){var z=($-M)/2,W=N*Math.cos(z),K=N*Math.sin(z),de=W,me=-K,De=de*de+me*me,Oe=De+de*W+me*K,Ve=4/3*(Math.sqrt(2*De*Oe)-Oe)/(de*K-me*W),Ge=de-Ve*me,mt=me+Ve*de,Ie=Ge,te=-mt,Nt=z+M,ot=Math.cos(Nt),ze=Math.sin(Nt);return{x1:N*Math.cos(M),y1:N*Math.sin(M),x2:Ge*ot-mt*ze,y2:Ge*ze+mt*ot,x3:Ie*ot-te*ze,y3:Ie*ze+te*ot,x4:N*Math.cos($),y4:N*Math.sin($)}},re=function(N){return 180*N/Math.PI},se=function(N,M,$,z,W,K){var de=N+.5*($-N),me=M+.5*(z-M),De=W+.5*($-W),Oe=K+.5*(z-K),Ve=Math.min(N,W,de,De),Ge=Math.max(N,W,de,De),mt=Math.min(M,K,me,Oe),Ie=Math.max(M,K,me,Oe);return new u(Ve,mt,Ge-Ve,Ie-mt)},I=function(N,M,$,z,W,K,de,me){var De,Oe,Ve,Ge,mt,Ie,te,Nt,ot,ze,We,Je,Ke,ut,jt=$-N,Tt=z-M,Mt=W-$,Ut=K-z,Xt=de-W,bt=me-K;for(Oe=0;Oe<41;Oe++)ot=(te=(Ve=N+(De=Oe/40)*jt)+De*((mt=$+De*Mt)-Ve))+De*(mt+De*(W+De*Xt-mt)-te),ze=(Nt=(Ge=M+De*Tt)+De*((Ie=z+De*Ut)-Ge))+De*(Ie+De*(K+De*bt-Ie)-Nt),Oe==0?(We=ot,Je=ze,Ke=ot,ut=ze):(We=Math.min(We,ot),Je=Math.min(Je,ze),Ke=Math.max(Ke,ot),ut=Math.max(ut,ze));return new u(Math.round(We),Math.round(Je),Math.round(Ke-We),Math.round(ut-Je))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,M,$=(N=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:M}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(_t.API),function(r){var e=function(o){var l,u,h,f,v,x,C,b,j,L;for(u=[],h=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(v=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(x=(v=((v=((v=((v=(v-(L=v%85))/85)-(j=v%85))/85)-(b=v%85))/85)-(C=v%85))/85)%85,u.push(x+33,C+33,b+33,j+33,L+33)):u.push(122);return function(A,E){for(var D=E;D>0;D--)A.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,f,v,x=String,C="length",b=255,j="charCodeAt",L="slice",A="replace";for(o[L](-2),o=o[L](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],f=0,v=(o+=l="uuuuu"[L](o[C]%5||5))[C];v>f;f+=5)u=52200625*(o[j](f)-33)+614125*(o[j](f+1)-33)+7225*(o[j](f+2)-33)+85*(o[j](f+3)-33)+(o[j](f+4)-33),h.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(E,D){for(var H=D;H>0;H--)E.pop()}(h,l[C]),x.fromCharCode.apply(x,h)},n=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},s=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return o=(l=L1(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};r.processDataByFilters=function(o,l){var u=0,h=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(_t.API),function(r){r.loadFile=function(e,t,n){return function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(h,f,v){var x=new XMLHttpRequest,C=0,b=function(j){var L=j.length,A=[],E=String.fromCharCode;for(C=0;C<L;C+=1)A.push(E(255&j.charCodeAt(C)));return A.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?v(b(this.responseText)):v(void 0)}),x.send(null),f&&x.status===200)return b(x.responseText)}(s,o,l)}catch{}return u}(e,t,n)},r.loadImageFile=r.loadFile}(_t.API),function(r){function e(){return(kt.html2canvas?Promise.resolve(kt.html2canvas):ol(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(kt.DOMPurify?Promise.resolve(kt.DOMPurify):ol(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=gr(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var h=document.createElement(l);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return f=(f=f.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(f,v){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),C=f.firstChild;C;C=C.nextSibling)v!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||x.appendChild(h(C,v));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var C=0;C<f.length;++C){var b=f[C],j=b.src.find(function(L){return L.format==="truetype"});j&&h.addFont(j.url,b.ref.name,b.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,h,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,f){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(f,v){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,f),x}).then(f,v).then(function(x){return h.updateProgress(1),x})})},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),v=h.call(f,l,u);return o.convert(v,this.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,_t.getPageSize=function(l,u,h){if(gr(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var v,x=(""+h).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var b,j=0,L=0;if(C.hasOwnProperty(x))j=C[x][1]/v,L=C[x][0]/v;else try{j=h[1],L=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",L>j&&(b=L,L=j,j=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",j>L&&(b=L,L=j,j=b)}return{width:L,height:j,unit:u,k:v,orientation:l}},r.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(F1):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}}(_t.API),_t.API.addJS=function(r){return v2=r,this.internal.events.subscribe("postPutResources",function(){fh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),m2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+v2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fh!==void 0&&m2!==void 0&&this.internal.out("/Names <</JavaScript "+fh+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],u=n.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,v=[];for(o=0;o<f;o++){var x=t.internal.newObject();v.push(x);var C=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,o){var l={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var l=n.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])}(_t.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,o,l,u){var h,f=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=function(x){for(var C,b=256*x.charCodeAt(4)+x.charCodeAt(5),j=x.length,L={width:0,height:0,numcomponents:1},A=4;A<j;A+=2){if(A+=b,e.indexOf(x.charCodeAt(A+1))!==-1){C=256*x.charCodeAt(A+5)+x.charCodeAt(A+6),L={width:256*x.charCodeAt(A+7)+x.charCodeAt(A+8),height:C,numcomponents:x.charCodeAt(A+9)};break}b=256*x.charCodeAt(A+2)+x.charCodeAt(A+3)}return L}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}v={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:n,alias:s}}return v}}(_t.API);var Jc,ph,y2,x2,w2,tw=function(){var r,e,t;function n(o){var l,u,h,f,v,x,C,b,j,L,A,E,D,H;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),j=(function(){var Y,ne;for(ne=[],Y=0;Y<4;++Y)ne.push(String.fromCharCode(this.data[this.pos++]));return ne}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),f=this.readUInt16()||100,x.delay=1e3*v/f,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,l-=4),o=(x!=null?x.data:void 0)||this.imgData,E=0;0<=l?E<l:E>l;0<=l?++E:--E)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((L=h-this.transparency.indexed.length)>0)for(D=0;0<=L?D<L:D>L;0<=L?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":C=(A=this.read(l)).indexOf(0),b=String.fromCharCode.apply(String,A.slice(0,C)),this.text[b]=String.fromCharCode.apply(String,A.slice(C+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var l,u;for(u=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,f=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function v(x,C,b,j){var L,A,E,D,H,Y,ne,we,ue,Q,ye,pe,B,V,ie,ee,Se,ke,Ne,re,se,I=Math.ceil((f.width-x)/b),ae=Math.ceil((f.height-C)/j),N=f.width==I&&f.height==ae;for(V=l*I,pe=N?u:new Uint8Array(V*ae),Y=o.length,B=0,A=0;B<ae&&h<Y;){switch(o[h++]){case 0:for(D=Se=0;Se<V;D=Se+=1)pe[A++]=o[h++];break;case 1:for(D=ke=0;ke<V;D=ke+=1)L=o[h++],H=D<l?0:pe[A-l],pe[A++]=(L+H)%256;break;case 2:for(D=Ne=0;Ne<V;D=Ne+=1)L=o[h++],E=(D-D%l)/l,ie=B&&pe[(B-1)*V+E*l+D%l],pe[A++]=(ie+L)%256;break;case 3:for(D=re=0;re<V;D=re+=1)L=o[h++],E=(D-D%l)/l,H=D<l?0:pe[A-l],ie=B&&pe[(B-1)*V+E*l+D%l],pe[A++]=(L+Math.floor((H+ie)/2))%256;break;case 4:for(D=se=0;se<V;D=se+=1)L=o[h++],E=(D-D%l)/l,H=D<l?0:pe[A-l],B===0?ie=ee=0:(ie=pe[(B-1)*V+E*l+D%l],ee=E&&pe[(B-1)*V+(E-1)*l+D%l]),ne=H+ie-ee,we=Math.abs(ne-H),Q=Math.abs(ne-ie),ye=Math.abs(ne-ee),ue=we<=Q&&we<=ye?H:Q<=ye?ie:ee,pe[A++]=(L+ue)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!N){var M=((C+B*j)*f.width+x)*l,$=B*V;for(D=0;D<I;D+=1){for(var z=0;z<l;z+=1)u[M++]=pe[$++];M+=(b-1)*l}}B++}}return o=Ix(o),f.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),u},n.prototype.decodePalette=function(){var o,l,u,h,f,v,x,C,b;for(u=this.palette,v=this.transparency.indexed||[],f=new Uint8Array((v.length||0)+u.length),h=0,o=0,l=x=0,C=u.length;x<C;l=x+=3)f[h++]=u[l],f[h++]=u[l+1],f[h++]=u[l+2],f[h++]=(b=v[o++])!=null?b:255;return f},n.prototype.copyToImageData=function(o,l){var u,h,f,v,x,C,b,j,L,A,E;if(h=this.colors,L=null,u=this.hasAlphaChannel,this.palette.length&&(L=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),h=4,u=!0),j=(f=o.data||o).length,x=L||l,v=C=0,h===1)for(;v<j;)b=L?4*l[v/4]:C,A=x[b++],f[v++]=A,f[v++]=A,f[v++]=A,f[v++]=u?x[b++]:255,C=b;else for(;v<j;)b=L?4*l[v/4]:C,f[v++]=x[b++],f[v++]=x[b++],f[v++]=x[b++],f[v++]=u?x[b++]:255,C=b},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(kt)==="[object Window]"){try{e=kt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(o){var l;if(s()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var l,u,h,f,v,x,C,b;if(this.animation){for(b=[],u=v=0,x=(C=this.animation.frames).length;v<x;u=++v)l=C[u],h=o.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,f),l.imageData=h,b.push(l.image=r(h));return b}},n.prototype.renderFrame=function(o,l){var u,h,f;return u=(h=this.animation.frames)[l],f=h[l-1],l===0&&o.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&o.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(o){var l,u,h,f,v,x,C=this;return u=0,x=this.animation,f=x.numFrames,h=x.frames,v=x.numPlays,(l=function(){var b,j;if(b=u++%f,j=h[b],C.renderFrame(o,b),f>1&&u/f<v)return C.animation._timeout=setTimeout(l,j.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var l,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rw(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],o=s>>7,l=1<<(7&s)+1;r[e++],r[e++];var u=null,h=null;o&&(u=e,h=l,e+=3*l);var f=!0,v=[],x=0,C=null,b=0,j=null;for(this.width=t,this.height=n;f&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,j=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=r[e++];x=r[e++]|r[e++]<<8,C=r[e++],(1&L)==0&&(C=null),b=L>>2&7,e++;break;case 254:for(;;){if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var A=r[e++]|r[e++]<<8,E=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,H=r[e++]|r[e++]<<8,Y=r[e++],ne=Y>>6&1,we=1<<(7&Y)+1,ue=u,Q=h,ye=!1;Y>>7&&(ye=!0,ue=e,Q=we,e+=3*we);var pe=e;for(e++;;){var B;if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}v.push({x:A,y:E,width:D,height:H,has_local_palette:ye,palette_offset:ue,palette_size:Q,data_offset:pe,data_length:e-pe,transparent_index:C,interlaced:!!ne,delay:x,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return j},this.frameInfo=function(V){if(V<0||V>=v.length)throw new Error("Frame index out of range.");return v[V]},this.decodeAndBlitFrameBGRA=function(V,ie){var ee=this.frameInfo(V),Se=ee.width*ee.height,ke=new Uint8Array(Se);b2(r,ee.data_offset,ke,Se);var Ne=ee.palette_offset,re=ee.transparent_index;re===null&&(re=256);var se=ee.width,I=t-se,ae=se,N=4*(ee.y*t+ee.x),M=4*((ee.y+ee.height)*t+ee.x),$=N,z=4*I;ee.interlaced===!0&&(z+=4*t*7);for(var W=8,K=0,de=ke.length;K<de;++K){var me=ke[K];if(ae===0&&(ae=se,($+=z)>=M&&(z=4*I+4*t*(W-1),$=N+(se+I)*(W<<1),W>>=1)),me===re)$+=4;else{var De=r[Ne+3*me],Oe=r[Ne+3*me+1],Ve=r[Ne+3*me+2];ie[$++]=Ve,ie[$++]=Oe,ie[$++]=De,ie[$++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(V,ie){var ee=this.frameInfo(V),Se=ee.width*ee.height,ke=new Uint8Array(Se);b2(r,ee.data_offset,ke,Se);var Ne=ee.palette_offset,re=ee.transparent_index;re===null&&(re=256);var se=ee.width,I=t-se,ae=se,N=4*(ee.y*t+ee.x),M=4*((ee.y+ee.height)*t+ee.x),$=N,z=4*I;ee.interlaced===!0&&(z+=4*t*7);for(var W=8,K=0,de=ke.length;K<de;++K){var me=ke[K];if(ae===0&&(ae=se,($+=z)>=M&&(z=4*I+4*t*(W-1),$=N+(se+I)*(W<<1),W>>=1)),me===re)$+=4;else{var De=r[Ne+3*me],Oe=r[Ne+3*me+1],Ve=r[Ne+3*me+2];ie[$++]=De,ie[$++]=Oe,ie[$++]=Ve,ie[$++]=255}--ae}}}function b2(r,e,t,n){for(var s=r[e++],o=1<<s,l=o+1,u=l+1,h=s+1,f=(1<<h)-1,v=0,x=0,C=0,b=r[e++],j=new Int32Array(4096),L=null;;){for(;v<16&&b!==0;)x|=r[e++]<<v,v+=8,b===1?b=r[e++]:--b;if(v<h)break;var A=x&f;if(x>>=h,v-=h,A!==o){if(A===l)break;for(var E=A<u?A:L,D=0,H=E;H>o;)H=j[H]>>8,++D;var Y=H;if(C+D+(E!==A?1:0)>n)return void wr.log("Warning, gif stream longer than expected.");t[C++]=Y;var ne=C+=D;for(E!==A&&(t[C++]=Y),H=E;D--;)H=j[H],t[--ne]=255&H,H>>=8;L!==null&&u<4096&&(j[u++]=L<<8|Y,u>=f+1&&h<12&&(++h,f=f<<1|1)),L=A}else u=l+1,f=(1<<(h=s+1))-1,L=null}return C!==n&&wr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function t1(r){var e,t,n,s,o,l=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),v=new Array(64),x=new Array(65535),C=new Array(65535),b=new Array(64),j=new Array(64),L=[],A=0,E=7,D=new Array(64),H=new Array(64),Y=new Array(64),ne=new Array(256),we=new Array(2048),ue=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ye=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ke(N,M){for(var $=0,z=0,W=new Array,K=1;K<=16;K++){for(var de=1;de<=N[K];de++)W[M[z]]=[],W[M[z]][0]=$,W[M[z]][1]=K,z++,$++;$*=2}return W}function Ne(N){for(var M=N[0],$=N[1]-1;$>=0;)M&1<<$&&(A|=1<<E),$--,--E<0&&(A==255?(re(255),re(0)):re(A),E=7,A=0)}function re(N){L.push(N)}function se(N){re(N>>8&255),re(255&N)}function I(N,M,$,z,W){for(var K,de=W[0],me=W[240],De=function(ze,We){var Je,Ke,ut,jt,Tt,Mt,Ut,Xt,bt,Ft,Xe=0;for(bt=0;bt<8;++bt){Je=ze[Xe],Ke=ze[Xe+1],ut=ze[Xe+2],jt=ze[Xe+3],Tt=ze[Xe+4],Mt=ze[Xe+5],Ut=ze[Xe+6];var on=Je+(Xt=ze[Xe+7]),Zt=Je-Xt,di=Ke+Ut,hr=Ke-Ut,mr=ut+Mt,hi=ut-Mt,Gt=jt+Tt,as=jt-Tt,br=on+Gt,ln=on-Gt,Tn=di+mr,Sr=di-mr;ze[Xe]=br+Tn,ze[Xe+4]=br-Tn;var Lt=.707106781*(Sr+ln);ze[Xe+2]=ln+Lt,ze[Xe+6]=ln-Lt;var Qt=.382683433*((br=as+hi)-(Sr=hr+Zt)),Os=.5411961*br+Qt,Xr=1.306562965*Sr+Qt,fi=.707106781*(Tn=hi+hr),Pi=Zt+fi,ft=Zt-fi;ze[Xe+5]=ft+Os,ze[Xe+3]=ft-Os,ze[Xe+1]=Pi+Xr,ze[Xe+7]=Pi-Xr,Xe+=8}for(Xe=0,bt=0;bt<8;++bt){Je=ze[Xe],Ke=ze[Xe+8],ut=ze[Xe+16],jt=ze[Xe+24],Tt=ze[Xe+32],Mt=ze[Xe+40],Ut=ze[Xe+48];var ti=Je+(Xt=ze[Xe+56]),In=Je-Xt,Fn=Ke+Ut,Nr=Ke-Ut,jr=ut+Mt,cn=ut-Mt,Ms=jt+Tt,os=jt-Tt,Ei=ti+Ms,Ti=ti-Ms,tn=Fn+jr,Ii=Fn-jr;ze[Xe]=Ei+tn,ze[Xe+32]=Ei-tn;var ri=.707106781*(Ii+Ti);ze[Xe+16]=Ti+ri,ze[Xe+48]=Ti-ri;var Hi=.382683433*((Ei=os+cn)-(Ii=Nr+In)),Bs=.5411961*Ei+Hi,da=1.306562965*Ii+Hi,ha=.707106781*(tn=cn+Nr),fa=In+ha,so=In-ha;ze[Xe+40]=so+Bs,ze[Xe+24]=so-Bs,ze[Xe+8]=fa+da,ze[Xe+56]=fa-da,Xe++}for(bt=0;bt<64;++bt)Ft=ze[bt]*We[bt],b[bt]=Ft>0?Ft+.5|0:Ft-.5|0;return b}(N,M),Oe=0;Oe<64;++Oe)j[ue[Oe]]=De[Oe];var Ve=j[0]-$;$=j[0],Ve==0?Ne(z[0]):(Ne(z[C[K=32767+Ve]]),Ne(x[K]));for(var Ge=63;Ge>0&&j[Ge]==0;)Ge--;if(Ge==0)return Ne(de),$;for(var mt,Ie=1;Ie<=Ge;){for(var te=Ie;j[Ie]==0&&Ie<=Ge;)++Ie;var Nt=Ie-te;if(Nt>=16){mt=Nt>>4;for(var ot=1;ot<=mt;++ot)Ne(me);Nt&=15}K=32767+j[Ie],Ne(W[(Nt<<4)+C[K]]),Ne(x[K]),Ie++}return Ge!=63&&Ne(de),$}function ae(N){N=Math.min(Math.max(N,1),100),o!=N&&(function(M){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var W=l(($[z]*M+50)/100);W=Math.min(Math.max(W,1),255),u[ue[z]]=W}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var me=l((K[de]*M+50)/100);me=Math.min(Math.max(me,1),255),h[ue[de]]=me}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Ve=0;Ve<8;Ve++)for(var Ge=0;Ge<8;Ge++)f[Oe]=1/(u[ue[Oe]]*De[Ve]*De[Ge]*8),v[Oe]=1/(h[ue[Oe]]*De[Ve]*De[Ge]*8),Oe++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),o=N)}this.encode=function(N,M){M&&ae(M),L=new Array,A=0,E=7,se(65496),se(65504),se(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),se(1),se(1),re(0),re(0),function(){se(65499),se(132),re(0);for(var Ke=0;Ke<64;Ke++)re(u[Ke]);re(1);for(var ut=0;ut<64;ut++)re(h[ut])}(),function(Ke,ut){se(65472),se(17),re(8),se(ut),se(Ke),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(N.width,N.height),function(){se(65476),se(418),re(0);for(var Ke=0;Ke<16;Ke++)re(Q[Ke+1]);for(var ut=0;ut<=11;ut++)re(ye[ut]);re(16);for(var jt=0;jt<16;jt++)re(pe[jt+1]);for(var Tt=0;Tt<=161;Tt++)re(B[Tt]);re(1);for(var Mt=0;Mt<16;Mt++)re(V[Mt+1]);for(var Ut=0;Ut<=11;Ut++)re(ie[Ut]);re(17);for(var Xt=0;Xt<16;Xt++)re(ee[Xt+1]);for(var bt=0;bt<=161;bt++)re(Se[bt])}(),se(65498),se(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var $=0,z=0,W=0;A=0,E=7,this.encode.displayName="_encode_";for(var K,de,me,De,Oe,Ve,Ge,mt,Ie,te=N.data,Nt=N.width,ot=N.height,ze=4*Nt,We=0;We<ot;){for(K=0;K<ze;){for(Oe=ze*We+K,Ge=-1,mt=0,Ie=0;Ie<64;Ie++)Ve=Oe+(mt=Ie>>3)*ze+(Ge=4*(7&Ie)),We+mt>=ot&&(Ve-=ze*(We+1+mt-ot)),K+Ge>=ze&&(Ve-=K+Ge-ze+4),de=te[Ve++],me=te[Ve++],De=te[Ve++],D[Ie]=(we[de]+we[me+256>>0]+we[De+512>>0]>>16)-128,H[Ie]=(we[de+768>>0]+we[me+1024>>0]+we[De+1280>>0]>>16)-128,Y[Ie]=(we[de+1280>>0]+we[me+1536>>0]+we[De+1792>>0]>>16)-128;$=I(D,f,$,e,n),z=I(H,v,z,t,s),W=I(Y,v,W,t,s),K+=32}We+=8}if(E>=0){var Je=[];Je[1]=E+1,Je[0]=(1<<E+1)-1,Ne(Je)}return se(65497),new Uint8Array(L)},r=r||50,function(){for(var N=String.fromCharCode,M=0;M<256;M++)ne[M]=N(M)}(),e=ke(Q,ye),t=ke(V,ie),n=ke(pe,B),s=ke(ee,Se),function(){for(var N=1,M=2,$=1;$<=15;$++){for(var z=N;z<M;z++)C[32767+z]=$,x[32767+z]=[],x[32767+z][1]=$,x[32767+z][0]=z;for(var W=-(M-1);W<=-N;W++)C[32767+W]=$,x[32767+W]=[],x[32767+W][1]=$,x[32767+W][0]=M-1+W;N<<=1,M<<=1}}(),function(){for(var N=0;N<256;N++)we[N]=19595*N,we[N+256>>0]=38470*N,we[N+512>>0]=7471*N+32768,we[N+768>>0]=-11059*N,we[N+1024>>0]=-21709*N,we[N+1280>>0]=32768*N+8421375,we[N+1536>>0]=-27439*N,we[N+1792>>0]=-5329*N}(),ae(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ls(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _2(r){function e(Q){if(!Q)throw Error("assert :P")}function t(Q,ye,pe){for(var B=0;4>B;B++)if(Q[ye+B]!=pe.charCodeAt(B))return!0;return!1}function n(Q,ye,pe,B,V){for(var ie=0;ie<V;ie++)Q[ye+ie]=pe[B+ie]}function s(Q,ye,pe,B){for(var V=0;V<B;V++)Q[ye+V]=pe}function o(Q){return new Int32Array(Q)}function l(Q,ye){for(var pe=[],B=0;B<Q;B++)pe.push(new ye);return pe}function u(Q,ye){var pe=[];return function B(V,ie,ee){for(var Se=ee[ie],ke=0;ke<Se&&(V.push(ee.length>ie+1?[]:new ye),!(ee.length<ie+1));ke++)B(V[ke],ie+1,ee)}(pe,0,Q),pe}var h=function(){var Q=this;function ye(d,g){for(var _=1<<g-1>>>0;d&_;)_>>>=1;return _?(d&_-1)+_:d}function pe(d,g,_,S,P){e(!(S%_));do d[g+(S-=_)]=P;while(0<S)}function B(d,g,_,S,P){if(e(2328>=P),512>=P)var F=o(512);else if((F=o(P))==null)return 0;return function(O,U,q,Z,le,be){var _e,ve,Re=U,Ae=1<<q,he=o(16),fe=o(16);for(e(le!=0),e(Z!=null),e(O!=null),e(0<q),ve=0;ve<le;++ve){if(15<Z[ve])return 0;++he[Z[ve]]}if(he[0]==le)return 0;for(fe[1]=0,_e=1;15>_e;++_e){if(he[_e]>1<<_e)return 0;fe[_e+1]=fe[_e]+he[_e]}for(ve=0;ve<le;++ve)_e=Z[ve],0<Z[ve]&&(be[fe[_e]++]=ve);if(fe[15]==1)return(Z=new V).g=0,Z.value=be[0],pe(O,Re,1,Ae,Z),Ae;var Te,Ee=-1,Fe=Ae-1,et=0,Ze=1,pt=1,Ye=1<<q;for(ve=0,_e=1,le=2;_e<=q;++_e,le<<=1){if(Ze+=pt<<=1,0>(pt-=he[_e]))return 0;for(;0<he[_e];--he[_e])(Z=new V).g=_e,Z.value=be[ve++],pe(O,Re+et,le,Ye,Z),et=ye(et,_e)}for(_e=q+1,le=2;15>=_e;++_e,le<<=1){if(Ze+=pt<<=1,0>(pt-=he[_e]))return 0;for(;0<he[_e];--he[_e]){if(Z=new V,(et&Fe)!=Ee){for(Re+=Ye,Te=1<<(Ee=_e)-q;15>Ee&&!(0>=(Te-=he[Ee]));)++Ee,Te<<=1;Ae+=Ye=1<<(Te=Ee-q),O[U+(Ee=et&Fe)].g=Te+q,O[U+Ee].value=Re-U-Ee}Z.g=_e-q,Z.value=be[ve++],pe(O,Re+(et>>q),le,Ye,Z),et=ye(et,_e)}}return Ze!=2*fe[15]-1?0:Ae}(d,g,_,S,P,F)}function V(){this.value=this.g=0}function ie(){this.value=this.g=0}function ee(){this.G=l(5,V),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Rr,ie)}function Se(d,g,_,S){e(d!=null),e(g!=null),e(2147483648>S),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=_,d.Jd=g,d.Yc=_+S,d.Zc=4<=S?_+S-4+1:_,K(d)}function ke(d,g){for(var _=0;0<g--;)_|=me(d,128)<<g;return _}function Ne(d,g){var _=ke(d,g);return de(d)?-_:_}function re(d,g,_,S){var P,F=0;for(e(d!=null),e(g!=null),e(4294967288>S),d.Sb=S,d.Ra=0,d.u=0,d.h=0,4<S&&(S=4),P=0;P<S;++P)F+=g[_+P]<<8*P;d.Ra=F,d.bb=S,d.oa=g,d.pa=_}function se(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<No-8>>>0,++d.bb,d.u-=8;$(d)&&(d.h=1,d.u=0)}function I(d,g){if(e(0<=g),!d.h&&g<=So){var _=M(d)&Co[g];return d.u+=g,se(d),_}return d.h=1,d.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(d){return d.Ra>>>(d.u&No-1)>>>0}function $(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>No}function z(d,g){d.u=g,d.h=$(d)}function W(d){d.u>=jo&&(e(d.u>=jo),se(d))}function K(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function de(d){return ke(d,1)}function me(d,g){var _=d.Ca;0>d.b&&K(d);var S=d.b,P=_*g>>>8,F=(d.I>>>S>P)+0;for(F?(_-=P,d.I-=P+1<<S>>>0):_=P+1,S=_,P=0;256<=S;)P+=8,S>>=8;return S=7^P+kn[S],d.b-=S,d.Ca=(_<<S)-1,F}function De(d,g,_){d[g+0]=_>>24&255,d[g+1]=_>>16&255,d[g+2]=_>>8&255,d[g+3]=_>>0&255}function Oe(d,g){return d[g+0]<<0|d[g+1]<<8}function Ve(d,g){return Oe(d,g)|d[g+2]<<16}function Ge(d,g){return Oe(d,g)|Oe(d,g+2)<<16}function mt(d,g){var _=1<<g;return e(d!=null),e(0<g),d.X=o(_),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function Ie(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),n(g.X,0,d.X,0,1<<g.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Nt(d,g,_,S){e(_!=null),e(S!=null);var P=_[0],F=S[0];return P==0&&(P=(d*F+g/2)/g),F==0&&(F=(g*P+d/2)/d),0>=P||0>=F?0:(_[0]=P,S[0]=F,1)}function ot(d,g){return d+(1<<g)-1>>>g}function ze(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function We(d,g){Q[g]=function(_,S,P,F,O,U,q){var Z;for(Z=0;Z<O;++Z){var le=Q[d](U[q+Z-1],P,F+Z);U[q+Z]=ze(_[S+Z],le)}}}function Je(){this.ud=this.hd=this.jd=0}function Ke(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function ut(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function jt(d,g){return ut(d+(d-g+.5>>1))}function Tt(d,g,_){return Math.abs(g-_)-Math.abs(d-_)}function Mt(d,g,_,S,P,F,O){for(S=F[O-1],_=0;_<P;++_)F[O+_]=S=ze(d[g+_],S)}function Ut(d,g,_,S,P){var F;for(F=0;F<_;++F){var O=d[g+F],U=O>>8&255,q=16711935&(q=(q=16711935&O)+((U<<16)+U));S[P+F]=(4278255360&O)+q>>>0}}function Xt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function bt(d,g,_,S,P,F){var O;for(O=0;O<S;++O){var U=g[_+O],q=U>>>8,Z=U,le=255&(le=(le=U>>>16)+((d.jd<<24>>24)*(q<<24>>24)>>>5));Z=255&(Z=(Z=Z+((d.hd<<24>>24)*(q<<24>>24)>>>5))+((d.ud<<24>>24)*(le<<24>>24)>>>5)),P[F+O]=(4278255360&U)+(le<<16)+Z}}function Ft(d,g,_,S,P){Q[g]=function(F,O,U,q,Z,le,be,_e,ve){for(q=be;q<_e;++q)for(be=0;be<ve;++be)Z[le++]=P(U[S(F[O++])])},Q[d]=function(F,O,U,q,Z,le,be){var _e=8>>F.b,ve=F.Ea,Re=F.K[0],Ae=F.w;if(8>_e)for(F=(1<<F.b)-1,Ae=(1<<_e)-1;O<U;++O){var he,fe=0;for(he=0;he<ve;++he)he&F||(fe=S(q[Z++])),le[be++]=P(Re[fe&Ae]),fe>>=_e}else Q["VP8LMapColor"+_](q,Z,Re,Ae,le,be,O,U,ve)}}function Xe(d,g,_,S,P){for(_=g+_;g<_;){var F=d[g++];S[P++]=F>>16&255,S[P++]=F>>8&255,S[P++]=F>>0&255}}function on(d,g,_,S,P){for(_=g+_;g<_;){var F=d[g++];S[P++]=F>>16&255,S[P++]=F>>8&255,S[P++]=F>>0&255,S[P++]=F>>24&255}}function Zt(d,g,_,S,P){for(_=g+_;g<_;){var F=(O=d[g++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;S[P++]=F,S[P++]=O}}function di(d,g,_,S,P){for(_=g+_;g<_;){var F=(O=d[g++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;S[P++]=F,S[P++]=O}}function hr(d,g,_,S,P){for(_=g+_;g<_;){var F=d[g++];S[P++]=F>>0&255,S[P++]=F>>8&255,S[P++]=F>>16&255}}function mr(d,g,_,S,P,F){if(F==0)for(_=g+_;g<_;)De(S,((F=d[g++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),P+=32;else n(S,P,d,g,_)}function hi(d,g){Q[g][0]=Q[d+"0"],Q[g][1]=Q[d+"1"],Q[g][2]=Q[d+"2"],Q[g][3]=Q[d+"3"],Q[g][4]=Q[d+"4"],Q[g][5]=Q[d+"5"],Q[g][6]=Q[d+"6"],Q[g][7]=Q[d+"7"],Q[g][8]=Q[d+"8"],Q[g][9]=Q[d+"9"],Q[g][10]=Q[d+"10"],Q[g][11]=Q[d+"11"],Q[g][12]=Q[d+"12"],Q[g][13]=Q[d+"13"],Q[g][14]=Q[d+"0"],Q[g][15]=Q[d+"0"]}function Gt(d){return d==Io||d==Ia||d==Fl||d==Rl}function as(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new as,this.f.kb=new br,this.sd=null}function Tn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Qt(d,g){var _=d.T,S=g.ba.f.RGBA,P=S.eb,F=S.fb+d.ka*S.A,O=Un[g.ba.S],U=d.y,q=d.O,Z=d.f,le=d.N,be=d.ea,_e=d.W,ve=g.cc,Re=g.dc,Ae=g.Mc,he=g.Nc,fe=d.ka,Te=d.ka+d.T,Ee=d.U,Fe=Ee+1>>1;for(fe==0?O(U,q,null,null,Z,le,be,_e,Z,le,be,_e,P,F,null,null,Ee):(O(g.ec,g.fc,U,q,ve,Re,Ae,he,Z,le,be,_e,P,F-S.A,P,F,Ee),++_);fe+2<Te;fe+=2)ve=Z,Re=le,Ae=be,he=_e,le+=d.Rc,_e+=d.Rc,F+=2*S.A,O(U,(q+=2*d.fa)-d.fa,U,q,ve,Re,Ae,he,Z,le,be,_e,P,F-S.A,P,F,Ee);return q+=d.fa,d.j+Te<d.o?(n(g.ec,g.fc,U,q,Ee),n(g.cc,g.dc,Z,le,Fe),n(g.Mc,g.Nc,be,_e,Fe),_--):1&Te||O(U,q,null,null,Z,le,be,_e,Z,le,be,_e,P,F+S.A,null,null,Ee),_}function Os(d,g,_){var S=d.F,P=[d.J];if(S!=null){var F=d.U,O=g.ba.S,U=O==Il||O==Fl;g=g.ba.f.RGBA;var q=[0],Z=d.ka;q[0]=d.T,d.Kb&&(Z==0?--q[0]:(--Z,P[0]-=d.width),d.j+d.ka+d.T==d.o&&(q[0]=d.o-d.j-Z));var le=g.eb;Z=g.fb+Z*g.A,d=sr(S,P[0],d.width,F,q,le,Z+(U?0:3),g.A),e(_==q),d&&Gt(O)&&Mn(le,Z,U,F,q,g.A)}return 0}function Xr(d){var g=d.ma,_=g.ba.S,S=11>_,P=_==ea||_==Tl||_==Il||_==pr||_==12||Gt(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!_o(g.Oa,d,P?11:12))return 0;if(P&&Gt(_)&&Me(),d.da)alert("todo:use_scaling");else{if(S){if(g.Ib=Lt,d.Kb){if(_=d.U+1>>1,g.memory=o(d.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=Qt,Me()}}else alert("todo:EmitYUV");P&&(g.Jb=Os,S&&xe())}if(S&&!nn){for(d=0;256>d;++d)zn[d]=89858*(d-128)+Bi>>ys,qn[d]=-22014*(d-128)+Bi,Oo[d]=-45773*(d-128),Oa[d]=113618*(d-128)+Bi>>ys;for(d=ar;d<cr;++d)g=76283*(d-16)+Bi>>ys,Ac[d-ar]=si(g,255),Pd[d-ar]=si(g+8>>4,15);nn=1}return 1}function fi(d){var g=d.ma,_=d.U,S=d.T;return e(!(1&d.ka)),0>=_||0>=S?0:(_=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,_),g.Dc+=_,1)}function Pi(d){d.ma.memory=null}function ft(d,g,_,S){return I(d,8)!=47?0:(g[0]=I(d,14)+1,_[0]=I(d,14)+1,S[0]=I(d,1),I(d,3)!=0?0:!d.h)}function ti(d,g){if(4>d)return d+1;var _=d-2>>1;return(2+(1&d)<<_)+I(g,_)+1}function In(d,g){return 120<g?g-120:1<=(_=((_=Gh[g-1])>>4)*d+(8-(15&_)))?_:1;var _}function Fn(d,g,_){var S=M(_),P=d[g+=255&S].g-8;return 0<P&&(z(_,_.u+8),S=M(_),g+=d[g].value,g+=S&(1<<P)-1),z(_,_.u+d[g].g),d[g].value}function Nr(d,g,_){return _.g+=d.g,_.value+=d.value<<g>>>0,e(8>=_.g),d.g}function jr(d,g,_){var S=d.xc;return e((g=S==0?0:d.vc[d.md*(_>>S)+(g>>S)])<d.Wb),d.Ya[g]}function cn(d,g,_,S){var P=d.ab,F=d.c*g,O=d.C;g=O+g;var U=_,q=S;for(S=d.Ta,_=d.Ua;0<P--;){var Z=d.gc[P],le=O,be=g,_e=U,ve=q,Re=(q=S,U=_,Z.Ea);switch(e(le<be),e(be<=Z.nc),Z.hc){case 2:Cc(_e,ve,(be-le)*Re,q,U);break;case 0:var Ae=le,he=be,fe=q,Te=U,Ee=(Ye=Z).Ea;Ae==0&&(ja(_e,ve,null,null,1,fe,Te),Mt(_e,ve+1,0,0,Ee-1,fe,Te+1),ve+=Ee,Te+=Ee,++Ae);for(var Fe=1<<Ye.b,et=Fe-1,Ze=ot(Ee,Ye.b),pt=Ye.K,Ye=Ye.w+(Ae>>Ye.b)*Ze;Ae<he;){var Yt=pt,Jt=Ye,Ht=1;for(us(_e,ve,fe,Te-Ee,1,fe,Te);Ht<Ee;){var Rt=(Ht&~et)+Fe;Rt>Ee&&(Rt=Ee),(0,Ji[Yt[Jt++]>>8&15])(_e,ve+ +Ht,fe,Te+Ht-Ee,Rt-Ht,fe,Te+Ht),Ht=Rt}ve+=Ee,Te+=Ee,++Ae&et||(Ye+=Ze)}be!=Z.nc&&n(q,U-Re,q,U+(be-le-1)*Re,Re);break;case 1:for(Re=_e,he=ve,Ee=(_e=Z.Ea)-(Te=_e&~(fe=(ve=1<<Z.b)-1)),Ae=ot(_e,Z.b),Fe=Z.K,Z=Z.w+(le>>Z.b)*Ae;le<be;){for(et=Fe,Ze=Z,pt=new Je,Ye=he+Te,Yt=he+_e;he<Ye;)Xt(et[Ze++],pt),Ks(pt,Re,he,ve,q,U),he+=ve,U+=ve;he<Yt&&(Xt(et[Ze++],pt),Ks(pt,Re,he,Ee,q,U),he+=Ee,U+=Ee),++le&fe||(Z+=Ae)}break;case 3:if(_e==q&&ve==U&&0<Z.b){for(he=q,_e=Re=U+(be-le)*Re-(Te=(be-le)*ot(Z.Ea,Z.b)),ve=q,fe=U,Ae=[],Te=(Ee=Te)-1;0<=Te;--Te)Ae[Te]=ve[fe+Te];for(Te=Ee-1;0<=Te;--Te)he[_e+Te]=Ae[Te];Cn(Z,le,be,q,Re,q,U)}else Cn(Z,le,be,_e,ve,q,U)}U=S,q=_}q!=_&&n(S,_,U,q,F)}function Ms(d,g){var _=d.V,S=d.Ba+d.c*d.C,P=g-d.C;if(e(g<=d.l.o),e(16>=P),0<P){var F=d.l,O=d.Ta,U=d.Ua,q=F.width;if(cn(d,P,_,S),P=U=[U],e((_=d.C)<(S=g)),e(F.v<F.va),S>F.o&&(S=F.o),_<F.j){var Z=F.j-_;_=F.j,P[0]+=Z*q}if(_>=S?_=0:(P[0]+=4*F.v,F.ka=_-F.j,F.U=F.va-F.v,F.T=S-_,_=1),_){if(U=U[0],11>(_=d.ca).S){var le=_.f.RGBA,be=(S=_.S,P=F.U,F=F.T,Z=le.eb,le.A),_e=F;for(le=le.fb+d.Ma*le.A;0<_e--;){var ve=O,Re=U,Ae=P,he=Z,fe=le;switch(S){case Sc:Sn(ve,Re,Ae,he,fe);break;case ea:dn(ve,Re,Ae,he,fe);break;case Io:dn(ve,Re,Ae,he,fe),Mn(he,fe,0,Ae,1,0);break;case Sd:hs(ve,Re,Ae,he,fe);break;case Tl:mr(ve,Re,Ae,he,fe,1);break;case Ia:mr(ve,Re,Ae,he,fe,1),Mn(he,fe,0,Ae,1,0);break;case Il:mr(ve,Re,Ae,he,fe,0);break;case Fl:mr(ve,Re,Ae,he,fe,0),Mn(he,fe,1,Ae,1,0);break;case pr:Xs(ve,Re,Ae,he,fe);break;case Rl:Xs(ve,Re,Ae,he,fe),fr(he,fe,Ae,1,0);break;case Nc:ds(ve,Re,Ae,he,fe);break;default:e(0)}U+=q,le+=be}d.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=_.height)}}d.C=g,e(d.C<=d.i)}function os(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var _=d.Ya[g].G,S=d.Ya[g].H;if(0<_[1][S[1]+0].g||0<_[2][S[2]+0].g||0<_[3][S[3]+0].g)return 0}return 1}function Ei(d,g,_,S,P,F){if(d.Z!=0){var O=d.qd,U=d.rd;for(e(fn[d.Z]!=null);g<_;++g)fn[d.Z](O,U,S,P,S,P,F),O=S,U=P,P+=F;d.qd=O,d.rd=U}}function Ti(d,g){var _=d.l.ma,S=_.Z==0||_.Z==1?d.l.j:d.C;if(S=d.C<S?S:d.C,e(g<=d.l.o),g>S){var P=d.l.width,F=_.ca,O=_.tb+P*S,U=d.V,q=d.Ba+d.c*S,Z=d.gc;e(d.ab==1),e(Z[0].hc==3),Al(Z[0],S,g,U,q,F,O),Ei(_,S,g,F,O,P)}d.C=d.Ma=g}function tn(d,g,_,S,P,F,O){var U=d.$/S,q=d.$%S,Z=d.m,le=d.s,be=_+d.$,_e=be;P=_+S*P;var ve=_+S*F,Re=280+le.ua,Ae=d.Pb?U:16777216,he=0<le.ua?le.Wa:null,fe=le.wc,Te=be<ve?jr(le,q,U):null;e(d.C<F),e(ve<=P);var Ee=!1;e:for(;;){for(;Ee||be<ve;){var Fe=0;if(U>=Ae){var et=be-_;e((Ae=d).Pb),Ae.wd=Ae.m,Ae.xd=et,0<Ae.s.ua&&Ie(Ae.s.Wa,Ae.s.vb),Ae=U+Lc}if(q&fe||(Te=jr(le,q,U)),e(Te!=null),Te.Qb&&(g[be]=Te.qb,Ee=!0),!Ee)if(W(Z),Te.jc){Fe=Z,et=g;var Ze=be,pt=Te.pd[M(Fe)&Rr-1];e(Te.jc),256>pt.g?(z(Fe,Fe.u+pt.g),et[Ze]=pt.value,Fe=0):(z(Fe,Fe.u+pt.g-256),e(256<=pt.value),Fe=pt.value),Fe==0&&(Ee=!0)}else Fe=Fn(Te.G[0],Te.H[0],Z);if(Z.h)break;if(Ee||256>Fe){if(!Ee)if(Te.nd)g[be]=(Te.qb|Fe<<8)>>>0;else{if(W(Z),Ee=Fn(Te.G[1],Te.H[1],Z),W(Z),et=Fn(Te.G[2],Te.H[2],Z),Ze=Fn(Te.G[3],Te.H[3],Z),Z.h)break;g[be]=(Ze<<24|Ee<<16|Fe<<8|et)>>>0}if(Ee=!1,++be,++q>=S&&(q=0,++U,O!=null&&U<=F&&!(U%16)&&O(d,U),he!=null))for(;_e<be;)Fe=g[_e++],he.X[(506832829*Fe&4294967295)>>>he.Mb]=Fe}else if(280>Fe){if(Fe=ti(Fe-256,Z),et=Fn(Te.G[4],Te.H[4],Z),W(Z),et=In(S,et=ti(et,Z)),Z.h)break;if(be-_<et||P-be<Fe)break e;for(Ze=0;Ze<Fe;++Ze)g[be+Ze]=g[be+Ze-et];for(be+=Fe,q+=Fe;q>=S;)q-=S,++U,O!=null&&U<=F&&!(U%16)&&O(d,U);if(e(be<=P),q&fe&&(Te=jr(le,q,U)),he!=null)for(;_e<be;)Fe=g[_e++],he.X[(506832829*Fe&4294967295)>>>he.Mb]=Fe}else{if(!(Fe<Re))break e;for(Ee=Fe-280,e(he!=null);_e<be;)Fe=g[_e++],he.X[(506832829*Fe&4294967295)>>>he.Mb]=Fe;Fe=be,e(!(Ee>>>(et=he).Xa)),g[Fe]=et.X[Ee],Ee=!0}Ee||e(Z.h==$(Z))}if(d.Pb&&Z.h&&be<P)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Ie(d.s.vb,d.s.Wa);else{if(Z.h)break e;O!=null&&O(d,U>F?F:U),d.a=0,d.$=be-_}return 1}return d.a=3,0}function Ii(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function ri(){var d=new bu;return d==null?null:(d.a=0,d.xb=Ro,hi("Predictor","VP8LPredictors"),hi("Predictor","VP8LPredictors_C"),hi("PredictorAdd","VP8LPredictorsAdd"),hi("PredictorAdd","VP8LPredictorsAdd_C"),Cc=Ut,Ks=bt,Sn=Xe,dn=on,Xs=Zt,ds=di,hs=hr,Q.VP8LMapColor32b=Lo,Q.VP8LMapColor8b=Ao,d)}function Hi(d,g,_,S,P){var F=1,O=[d],U=[g],q=S.m,Z=S.s,le=null,be=0;e:for(;;){if(_)for(;F&&I(q,1);){var _e=O,ve=U,Re=S,Ae=1,he=Re.m,fe=Re.gc[Re.ab],Te=I(he,2);if(Re.Oc&1<<Te)F=0;else{switch(Re.Oc|=1<<Te,fe.hc=Te,fe.Ea=_e[0],fe.nc=ve[0],fe.K=[null],++Re.ab,e(4>=Re.ab),Te){case 0:case 1:fe.b=I(he,3)+2,Ae=Hi(ot(fe.Ea,fe.b),ot(fe.nc,fe.b),0,Re,fe.K),fe.K=fe.K[0];break;case 3:var Ee,Fe=I(he,8)+1,et=16<Fe?0:4<Fe?1:2<Fe?2:3;if(_e[0]=ot(fe.Ea,et),fe.b=et,Ee=Ae=Hi(Fe,1,0,Re,fe.K)){var Ze,pt=Fe,Ye=fe,Yt=1<<(8>>Ye.b),Jt=o(Yt);if(Jt==null)Ee=0;else{var Ht=Ye.K[0],Rt=Ye.w;for(Jt[0]=Ye.K[0][0],Ze=1;Ze<1*pt;++Ze)Jt[Ze]=ze(Ht[Rt+Ze],Jt[Ze-1]);for(;Ze<4*Yt;++Ze)Jt[Ze]=0;Ye.K[0]=null,Ye.K[0]=Jt,Ee=1}}Ae=Ee;break;case 2:break;default:e(0)}F=Ae}}if(O=O[0],U=U[0],F&&I(q,1)&&!(F=1<=(be=I(q,4))&&11>=be)){S.a=3;break e}var or;if(or=F)t:{var ur,gt,Er,sn=S,yr=O,pn=U,rr=be,Ln=_,An=sn.m,Tr=sn.s,dr=[null],Mr=1,$n=0,Ui=jd[rr];r:for(;;){if(Ln&&I(An,1)){var vr=I(An,3)+2,gn=ot(yr,vr),ws=ot(pn,vr),Ba=gn*ws;if(!Hi(gn,ws,0,sn,dr))break r;for(dr=dr[0],Tr.xc=vr,ur=0;ur<Ba;++ur){var mn=dr[ur]>>8&65535;dr[ur]=mn,mn>=Mr&&(Mr=mn+1)}}if(An.h)break r;for(gt=0;5>gt;++gt){var lr=Fa[gt];!gt&&0<rr&&(lr+=1<<rr),$n<lr&&($n=lr)}var Mo=l(Mr*Ui,V),ju=Mr,Ul=l(ju,ee);if(Ul==null)var zl=null;else e(65536>=ju),zl=Ul;var Bo=o($n);if(zl==null||Bo==null||Mo==null){sn.a=1;break r}var Uo=Mo;for(ur=Er=0;ur<Mr;++ur){var Hn=zl[ur],Ua=Hn.G,za=Hn.H,Lu=0,zo=1,qo=0;for(gt=0;5>gt;++gt){lr=Fa[gt],Ua[gt]=Uo,za[gt]=Er,!gt&&0<rr&&(lr+=1<<rr);i:{var qa,Pc=lr,ql=sn,ts=Bo,Td=Uo,$l=Er,wi=0,bi=ql.m,Hl=I(bi,1);if(s(ts,0,0,Pc),Hl){var $a=I(bi,1)+1,Au=I(bi,1),Ha=I(bi,Au==0?1:8);ts[Ha]=1,$a==2&&(ts[Ha=I(bi,8)]=1);var Wl=1}else{var Ec=o(19),_r=I(bi,4)+4;if(19<_r){ql.a=3;var Wa=0;break i}for(qa=0;qa<_r;++qa)Ec[Zh[qa]]=I(bi,3);var Vl=void 0,Va=void 0,Zl=ql,Pu=Ec,rs=Pc,kr=ts,Br=0,xr=Zl.m,Gl=8,$o=l(128,V);n:for(;B($o,0,7,Pu,19);){if(I(xr,1)){var Yl=2+2*I(xr,3);if((Vl=2+I(xr,Yl))>rs)break n}else Vl=rs;for(Va=0;Va<rs&&Vl--;){W(xr);var Id=$o[0+(127&M(xr))];z(xr,xr.u+Id.g);var Ur=Id.value;if(16>Ur)kr[Va++]=Ur,Ur!=0&&(Gl=Ur);else{var Eu=Ur==16,Tc=Ur-16,Tu=jc[Tc],zi=I(xr,Dl[Tc])+Tu;if(Va+zi>rs)break n;for(var _i=Eu?Gl:0;0<zi--;)kr[Va++]=_i}}Br=1;break n}Br||(Zl.a=3),Wl=Br}(Wl=Wl&&!bi.h)&&(wi=B(Td,$l,8,ts,Pc)),Wl&&wi!=0?Wa=wi:(ql.a=3,Wa=0)}if(Wa==0)break r;if(zo&&Nd[gt]==1&&(zo=Uo[Er].g==0),Lu+=Uo[Er].g,Er+=Wa,3>=gt){var bs,Jl=Bo[0];for(bs=1;bs<lr;++bs)Bo[bs]>Jl&&(Jl=Bo[bs]);qo+=Jl}}if(Hn.nd=zo,Hn.Qb=0,zo&&(Hn.qb=(Ua[3][za[3]+0].value<<24|Ua[1][za[1]+0].value<<16|Ua[2][za[2]+0].value)>>>0,Lu==0&&256>Ua[0][za[0]+0].value&&(Hn.Qb=1,Hn.qb+=Ua[0][za[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>qo,Hn.jc){var Ho,ns=Hn;for(Ho=0;Ho<Rr;++Ho){var _s=Ho,ks=ns.pd[_s],Kl=ns.G[0][ns.H[0]+_s];256<=Kl.value?(ks.g=Kl.g+256,ks.value=Kl.value):(ks.g=0,ks.value=0,_s>>=Nr(Kl,8,ks),_s>>=Nr(ns.G[1][ns.H[1]+_s],16,ks),_s>>=Nr(ns.G[2][ns.H[2]+_s],0,ks),Nr(ns.G[3][ns.H[3]+_s],24,ks))}}}Tr.vc=dr,Tr.Wb=Mr,Tr.Ya=zl,Tr.yc=Mo,or=1;break t}or=0}if(!(F=or)){S.a=3;break e}if(0<be){if(Z.ua=1<<be,!mt(Z.Wa,be)){S.a=1,F=0;break e}}else Z.ua=0;var Ic=S,Iu=O,Fd=U,Fc=Ic.s,Za=Fc.xc;if(Ic.c=Iu,Ic.i=Fd,Fc.md=ot(Iu,Za),Fc.wc=Za==0?-1:(1<<Za)-1,_){S.xb=es;break e}if((le=o(O*U))==null){S.a=1,F=0;break e}F=(F=tn(S,le,0,O,U,U,null))&&!q.h;break e}return F?(P!=null?P[0]=le:(e(le==null),e(_)),S.$=0,_||Ii(Z)):Ii(Z),F}function Bs(d,g){var _=d.c*d.i,S=_+g+16*g;return e(d.c<=g),d.V=o(S),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+_+g,1)}function da(d,g){var _=d.C,S=g-_,P=d.V,F=d.Ba+d.c*_;for(e(g<=d.l.o);0<S;){var O=16<S?16:S,U=d.l.ma,q=d.l.width,Z=q*O,le=U.ca,be=U.tb+q*_,_e=d.Ta,ve=d.Ua;cn(d,O,P,F),Dr(_e,ve,le,be,Z),Ei(U,_,_+O,le,be,q),S-=O,P+=O*d.c,_+=O}e(_==g),d.C=d.Ma=g}function ha(){this.ub=this.yd=this.td=this.Rb=0}function fa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function so(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function gc(){this.Yb=function(){var d=[];return function g(_,S,P){for(var F=P[S],O=0;O<F&&(_.push(P.length>S+1?[]:0),!(P.length<S+1));O++)g(_[O],S+1,P)}(d,0,[3,11]),d}()}function Lr(){this.jb=o(3),this.Wc=u([4,8],gc),this.Xc=u([4,17],gc)}function yu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function vl(){this.Na=this.la=0}function ao(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new oo}function pa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function pi(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new ha,this.Kc=new fa,this.ed=new yu,this.Qa=new so,this.Ic=this.$c=this.Aa=0,this.D=new mc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,ae),this.ia=0,this.pb=l(4,ao),this.Pa=new Lr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pa),this.Hd=0,this.rb=Array(new vl),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=u([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ni(){var d=new pi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ra||(Ra=ga)),d}function Or(d,g,_){return d.a==0&&(d.a=g,d.sc=_,d.cb=0),0}function vc(d,g,_){return 3<=_&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function yc(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return Or(d,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,S=g.w,P=g.ha;if(4>P)return Or(d,7,"Truncated header.");var F=_[S+0]|_[S+1]<<8|_[S+2]<<16,O=d.Od;if(O.Rb=!(1&F),O.td=F>>1&7,O.yd=F>>4&1,O.ub=F>>5,3<O.td)return Or(d,3,"Incorrect keyframe parameters.");if(!O.yd)return Or(d,4,"Frame not displayable.");S+=3,P-=3;var U=d.Kc;if(O.Rb){if(7>P)return Or(d,7,"cannot parse picture header");if(!vc(_,S,P))return Or(d,3,"Bad code word");U.c=16383&(_[S+4]<<8|_[S+3]),U.Td=_[S+4]>>6,U.i=16383&(_[S+6]<<8|_[S+5]),U.Ud=_[S+6]>>6,S+=7,P-=7,d.za=U.c+15>>4,d.Ub=U.i+15>>4,g.width=U.c,g.height=U.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((F=d.Pa).jb,0,255,F.jb.length),e((F=d.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,s(F.Zb,0,0,F.Zb.length),s(F.Lb,0,0,F.Lb)}if(O.ub>P)return Or(d,7,"bad partition length");Se(F=d.m,_,S,O.ub),S+=O.ub,P-=O.ub,O.Rb&&(U.Ld=de(F),U.Kd=de(F)),U=d.Qa;var q,Z=d.Pa;if(e(F!=null),e(U!=null),U.Cb=de(F),U.Cb){if(U.Bb=de(F),de(F)){for(U.Fb=de(F),q=0;4>q;++q)U.Zb[q]=de(F)?Ne(F,7):0;for(q=0;4>q;++q)U.Lb[q]=de(F)?Ne(F,6):0}if(U.Bb)for(q=0;3>q;++q)Z.jb[q]=de(F)?ke(F,8):255}else U.Bb=0;if(F.Ka)return Or(d,3,"cannot parse segment header");if((U=d.ed).zd=de(F),U.Tb=ke(F,6),U.wb=ke(F,3),U.Pc=de(F),U.Pc&&de(F)){for(Z=0;4>Z;++Z)de(F)&&(U.vd[Z]=Ne(F,6));for(Z=0;4>Z;++Z)de(F)&&(U.od[Z]=Ne(F,6))}if(d.L=U.Tb==0?0:U.zd?1:2,F.Ka)return Or(d,3,"cannot parse filter header");var le=P;if(P=q=S,S=q+le,U=le,d.Xb=(1<<ke(d.m,2))-1,le<3*(Z=d.Xb))_=7;else{for(q+=3*Z,U-=3*Z,le=0;le<Z;++le){var be=_[P+0]|_[P+1]<<8|_[P+2]<<16;be>U&&(be=U),Se(d.Jc[+le],_,q,be),q+=be,U-=be,P+=3}Se(d.Jc[+Z],_,q,U),_=q<S?0:5}if(_!=0)return Or(d,_,"cannot parse partitions");for(_=ke(q=d.m,7),P=de(q)?Ne(q,4):0,S=de(q)?Ne(q,4):0,U=de(q)?Ne(q,4):0,Z=de(q)?Ne(q,4):0,q=de(q)?Ne(q,4):0,le=d.Qa,be=0;4>be;++be){if(le.Cb){var _e=le.Zb[be];le.Fb||(_e+=_)}else{if(0<be){d.pb[be]=d.pb[0];continue}_e=_}var ve=d.pb[be];ve.Sc[0]=Fo[si(_e+P,127)],ve.Sc[1]=Ol[si(_e+0,127)],ve.Eb[0]=2*Fo[si(_e+S,127)],ve.Eb[1]=101581*Ol[si(_e+U,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Fo[si(_e+Z,117)],ve.Qc[1]=Ol[si(_e+q,127)],ve.lc=_e+q}if(!O.Rb)return Or(d,4,"Not a key frame.");for(de(F),O=d.Pa,_=0;4>_;++_){for(P=0;8>P;++P)for(S=0;3>S;++S)for(U=0;11>U;++U)Z=me(F,Jh[_][P][S][U])?ke(F,8):Ad[_][P][S][U],O.Wc[_][P].Yb[S][U]=Z;for(P=0;17>P;++P)O.Xc[_][P]=O.Wc[_][Cu[P]]}return d.kc=de(F),d.kc&&(d.Bd=ke(F,8)),d.cb=1}function ga(d,g,_,S,P,F,O){var U=g[P].Yb[_];for(_=0;16>P;++P){if(!me(d,U[_+0]))return P;for(;!me(d,U[_+1]);)if(U=g[++P].Yb[0],_=0,P==16)return 16;var q=g[P+1].Yb;if(me(d,U[_+2])){var Z=d,le=0;if(me(Z,(_e=U)[(be=_)+3]))if(me(Z,_e[be+6])){for(U=0,be=2*(le=me(Z,_e[be+8]))+(_e=me(Z,_e[be+9+le])),le=0,_e=_u[be];_e[U];++U)le+=le+me(Z,_e[U]);le+=3+(8<<be)}else me(Z,_e[be+7])?(le=7+2*me(Z,165),le+=me(Z,145)):le=5+me(Z,159);else le=me(Z,_e[be+4])?3+me(Z,_e[be+5]):2;U=q[2]}else le=1,U=q[1];q=O+ku[P],0>(Z=d).b&&K(Z);var be,_e=Z.b,ve=(be=Z.Ca>>1)-(Z.I>>_e)>>31;--Z.b,Z.Ca+=ve,Z.Ca|=1,Z.I-=(be+1&ve)<<_e,F[q]=((le^ve)-ve)*S[(0<P)+0]}return 16}function zs(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,s(d.zc,0,0,d.zc.length),d.ja=0}function ma(d,g){if(d==null)return 0;if(g==null)return Or(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!yc(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var _=Ma[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-_>>4,d.zb=g.j-_>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+_>>4,d.Hb=g.va+15+_>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var S=d.ed;for(_=0;4>_;++_){var P;if(d.Qa.Cb){var F=d.Qa.Lb[_];d.Qa.Fb||(F+=S.Tb)}else F=S.Tb;for(P=0;1>=P;++P){var O=d.gd[_][P],U=F;if(S.Pc&&(U+=S.vd[0],P&&(U+=S.od[0])),0<(U=0>U?0:63<U?63:U)){var q=U;0<S.wb&&(q=4<S.wb?q>>2:q>>1)>9-S.wb&&(q=9-S.wb),1>q&&(q=1),O.dd=q,O.tc=2*U+q,O.ld=40<=U?2:15<=U?1:0}else O.tc=0;O.La=P}}}_=0}else Or(d,6,"Frame setup failed"),_=d.a;if(_=_==0){if(_){d.$c=0,0<d.Aa||(d.Ic=xs);e:{_=d.Ic,S=4*(q=d.za);var Z=32*q,le=q+1,be=0<d.L?q*(0<d.Aa?2:1):0,_e=(d.Aa==2?2:1)*q;if((O=S+832+(P=3*(16*_+Ma[d.L])/2*Z)+(F=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=O)_=0;else{if(O>d.Vb){if(d.Vb=0,d.Ec=o(O),d.Fc=0,d.Ec==null){_=Or(d,1,"no memory during frame initialization.");break e}d.Vb=O}O=d.Ec,U=d.Fc,d.Ac=O,d.Bc=U,U+=S,d.Gd=l(Z,pa),d.Hd=0,d.rb=l(le+1,vl),d.sb=1,d.wa=be?l(be,Us):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=q),e(!0),d.oc=O,d.pc=U,U+=832,d.ya=l(_e,yl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=q),d.R=16*q,d.B=8*q,q=(Z=Ma[d.L])*d.R,Z=Z/2*d.B,d.sa=O,d.ta=U+q,d.qa=d.sa,d.ra=d.ta+16*_*d.R+Z,d.Ha=d.qa,d.Ia=d.ra+8*_*d.B+Z,d.$c=0,U+=P,d.mb=F?O:null,d.nb=F?U:null,e(U+F<=d.Fc+d.Vb),zs(d),s(d.Ac,d.Bc,0,S),_=1}}if(_){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!El){for(_=-255;255>=_;++_)Hr[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Xi[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Eo[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Ta[255+_]=0>_?0:255<_?255:_;El=1}Po=er,fs=wl,ps=qs,hn=xu,ai=co,tr=xl,La=vo,Pl=Zr,Aa=ka,Pa=Sl,Ea=Vs,oi=Zs,gs=Ca,Ki=yo,ms=Di,vs=gi,Qs=mi,rn=_c,xi[0]=Gi,xi[1]=xc,xi[2]=wa,xi[3]=Zi,xi[4]=_l,xi[5]=ho,xi[6]=Hs,xi[7]=fo,xi[8]=bc,xi[9]=po,jn[0]=xa,jn[1]=wc,jn[2]=Wi,jn[3]=ya,jn[4]=Ar,jn[5]=Vi,jn[6]=Fi,Bn[0]=ii,Bn[1]=bl,Bn[2]=wu,Bn[3]=ls,Bn[4]=ba,Bn[5]=go,Bn[6]=kl,_=1}else _=0}_&&(_=function(ve,Re){for(ve.M=0;ve.M<ve.Va;++ve.M){var Ae,he=ve.Jc[ve.M&ve.Xb],fe=ve.m,Te=ve;for(Ae=0;Ae<Te.za;++Ae){var Ee=fe,Fe=Te,et=Fe.Ac,Ze=Fe.Bc+4*Ae,pt=Fe.zc,Ye=Fe.ya[Fe.aa+Ae];if(Fe.Qa.Bb?Ye.$b=me(Ee,Fe.Pa.jb[0])?2+me(Ee,Fe.Pa.jb[2]):me(Ee,Fe.Pa.jb[1]):Ye.$b=0,Fe.kc&&(Ye.Ad=me(Ee,Fe.Bd)),Ye.Za=!me(Ee,145)+0,Ye.Za){var Yt=Ye.Ob,Jt=0;for(Fe=0;4>Fe;++Fe){var Ht,Rt=pt[0+Fe];for(Ht=0;4>Ht;++Ht){Rt=Yh[et[Ze+Ht]][Rt];for(var or=Ld[me(Ee,Rt[0])];0<or;)or=Ld[2*or+me(Ee,Rt[or])];Rt=-or,et[Ze+Ht]=Rt}n(Yt,Jt,et,Ze,4),Jt+=4,pt[0+Fe]=Rt}}else Rt=me(Ee,156)?me(Ee,128)?1:3:me(Ee,163)?2:0,Ye.Ob[0]=Rt,s(et,Ze,Rt,4),s(pt,0,Rt,4);Ye.Dd=me(Ee,142)?me(Ee,114)?me(Ee,183)?1:3:2:0}if(Te.m.Ka)return Or(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Te=he,Ee=(fe=ve).rb[fe.sb-1],et=fe.rb[fe.sb+fe.ja],Ae=fe.ya[fe.aa+fe.ja],Ze=fe.kc?Ae.Ad:0)Ee.la=et.la=0,Ae.Za||(Ee.Na=et.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var ur,gt;if(Ee=et,et=Te,Ze=fe.Pa.Xc,pt=fe.ya[fe.aa+fe.ja],Ye=fe.pb[pt.$b],Fe=pt.ad,Yt=0,Jt=fe.rb[fe.sb-1],Rt=Ht=0,s(Fe,Yt,0,384),pt.Za)var Er=0,sn=Ze[3];else{or=o(16);var yr=Ee.Na+Jt.Na;if(yr=Ra(et,Ze[1],yr,Ye.Eb,0,or,0),Ee.Na=Jt.Na=(0<yr)+0,1<yr)Po(or,0,Fe,Yt);else{var pn=or[0]+3>>3;for(or=0;256>or;or+=16)Fe[Yt+or]=pn}Er=1,sn=Ze[0]}var rr=15&Ee.la,Ln=15&Jt.la;for(or=0;4>or;++or){var An=1&Ln;for(pn=gt=0;4>pn;++pn)rr=rr>>1|(An=(yr=Ra(et,sn,yr=An+(1&rr),Ye.Sc,Er,Fe,Yt))>Er)<<7,gt=gt<<2|(3<yr?3:1<yr?2:Fe[Yt+0]!=0),Yt+=16;rr>>=4,Ln=Ln>>1|An<<7,Ht=(Ht<<8|gt)>>>0}for(sn=rr,Er=Ln>>4,ur=0;4>ur;ur+=2){for(gt=0,rr=Ee.la>>4+ur,Ln=Jt.la>>4+ur,or=0;2>or;++or){for(An=1&Ln,pn=0;2>pn;++pn)yr=An+(1&rr),rr=rr>>1|(An=0<(yr=Ra(et,Ze[2],yr,Ye.Qc,0,Fe,Yt)))<<3,gt=gt<<2|(3<yr?3:1<yr?2:Fe[Yt+0]!=0),Yt+=16;rr>>=2,Ln=Ln>>1|An<<5}Rt|=gt<<4*ur,sn|=rr<<4<<ur,Er|=(240&Ln)<<ur}Ee.la=sn,Jt.la=Er,pt.Hc=Ht,pt.Gc=Rt,pt.ia=43690&Rt?0:Ye.ia,Ze=!(Ht|Rt)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Ae.$b][Ae.Za],fe.wa[fe.Y+fe.ja].La|=!Ze),Te.Ka)return Or(ve,7,"Premature end-of-file encountered.")}if(zs(ve),fe=Re,Te=1,Ae=(he=ve).D,Ee=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ae.M=he.M,Ae.uc=Ee,bo(he,Ae),Te=1,Ae=(gt=he.D).Nb,Ee=(Rt=Ma[he.L])*he.R,et=Rt/2*he.B,or=16*Ae*he.R,pn=8*Ae*he.B,Ze=he.sa,pt=he.ta-Ee+or,Ye=he.qa,Fe=he.ra-et+pn,Yt=he.Ha,Jt=he.Ia-et+pn,Ln=(rr=gt.M)==0,Ht=rr>=he.Va-1,he.Aa==2&&bo(he,gt),gt.uc)for(An=(yr=he).D.M,e(yr.D.uc),gt=yr.yb;gt<yr.Hb;++gt){Er=gt,sn=An;var Tr=(dr=(lr=yr).D).Nb;ur=lr.R;var dr=dr.wa[dr.Y+Er],Mr=lr.sa,$n=lr.ta+16*Tr*ur+16*Er,Ui=dr.dd,vr=dr.tc;if(vr!=0)if(e(3<=vr),lr.L==1)0<Er&&vs(Mr,$n,ur,vr+4),dr.La&&rn(Mr,$n,ur,vr),0<sn&&ms(Mr,$n,ur,vr+4),dr.La&&Qs(Mr,$n,ur,vr);else{var gn=lr.B,ws=lr.qa,Ba=lr.ra+8*Tr*gn+8*Er,mn=lr.Ha,lr=lr.Ia+8*Tr*gn+8*Er;Tr=dr.ld,0<Er&&(Pl(Mr,$n,ur,vr+4,Ui,Tr),Pa(ws,Ba,mn,lr,gn,vr+4,Ui,Tr)),dr.La&&(oi(Mr,$n,ur,vr,Ui,Tr),Ki(ws,Ba,mn,lr,gn,vr,Ui,Tr)),0<sn&&(La(Mr,$n,ur,vr+4,Ui,Tr),Aa(ws,Ba,mn,lr,gn,vr+4,Ui,Tr)),dr.La&&(Ea(Mr,$n,ur,vr,Ui,Tr),gs(ws,Ba,mn,lr,gn,vr,Ui,Tr))}}if(he.ia&&alert("todo:DitherRow"),fe.put!=null){if(gt=16*rr,rr=16*(rr+1),Ln?(fe.y=he.sa,fe.O=he.ta+or,fe.f=he.qa,fe.N=he.ra+pn,fe.ea=he.Ha,fe.W=he.Ia+pn):(gt-=Rt,fe.y=Ze,fe.O=pt,fe.f=Ye,fe.N=Fe,fe.ea=Yt,fe.W=Jt),Ht||(rr-=Rt),rr>fe.o&&(rr=fe.o),fe.F=null,fe.J=null,he.Fa!=null&&0<he.Fa.length&&gt<rr&&(fe.J=jl(he,fe,gt,rr-gt),fe.F=he.mb,fe.F==null&&fe.F.length==0)){Te=Or(he,3,"Could not decode alpha data.");break e}gt<fe.j&&(Rt=fe.j-gt,gt=fe.j,e(!(1&Rt)),fe.O+=he.R*Rt,fe.N+=he.B*(Rt>>1),fe.W+=he.B*(Rt>>1),fe.F!=null&&(fe.J+=fe.width*Rt)),gt<rr&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=gt-fe.j,fe.U=fe.va-fe.v,fe.T=rr-gt,Te=fe.put(fe))}Ae+1!=he.Ic||Ht||(n(he.sa,he.ta-Ee,Ze,pt+16*he.R,Ee),n(he.qa,he.ra-et,Ye,Fe+8*he.B,et),n(he.Ha,he.Ia-et,Yt,Jt+8*he.B,et))}if(!Te)return Or(ve,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),_&=1}return _?(d.cb=0,_):0}function Rn(d,g,_,S,P){P=d[g+_+32*S]+(P>>3),d[g+_+32*S]=-256&P?0>P?0:255:P}function lo(d,g,_,S,P,F){Rn(d,g,0,_,S+P),Rn(d,g,1,_,S+F),Rn(d,g,2,_,S-F),Rn(d,g,3,_,S-P)}function Dn(d){return(20091*d>>16)+d}function va(d,g,_,S){var P,F=0,O=o(16);for(P=0;4>P;++P){var U=d[g+0]+d[g+8],q=d[g+0]-d[g+8],Z=(35468*d[g+4]>>16)-Dn(d[g+12]),le=Dn(d[g+4])+(35468*d[g+12]>>16);O[F+0]=U+le,O[F+1]=q+Z,O[F+2]=q-Z,O[F+3]=U-le,F+=4,g++}for(P=F=0;4>P;++P)U=(d=O[F+0]+4)+O[F+8],q=d-O[F+8],Z=(35468*O[F+4]>>16)-Dn(O[F+12]),Rn(_,S,0,0,U+(le=Dn(O[F+4])+(35468*O[F+12]>>16))),Rn(_,S,1,0,q+Z),Rn(_,S,2,0,q-Z),Rn(_,S,3,0,U-le),F++,S+=32}function xl(d,g,_,S){var P=d[g+0]+4,F=35468*d[g+4]>>16,O=Dn(d[g+4]),U=35468*d[g+1]>>16;lo(_,S,0,P+O,d=Dn(d[g+1]),U),lo(_,S,1,P+F,d,U),lo(_,S,2,P-F,d,U),lo(_,S,3,P-O,d,U)}function wl(d,g,_,S,P){va(d,g,_,S),P&&va(d,g+16,_,S+4)}function qs(d,g,_,S){fs(d,g+0,_,S,1),fs(d,g+32,_,S+128,1)}function xu(d,g,_,S){var P;for(d=d[g+0]+4,P=0;4>P;++P)for(g=0;4>g;++g)Rn(_,S,g,P,d)}function co(d,g,_,S){d[g+0]&&hn(d,g+0,_,S),d[g+16]&&hn(d,g+16,_,S+4),d[g+32]&&hn(d,g+32,_,S+128),d[g+48]&&hn(d,g+48,_,S+128+4)}function er(d,g,_,S){var P,F=o(16);for(P=0;4>P;++P){var O=d[g+0+P]+d[g+12+P],U=d[g+4+P]+d[g+8+P],q=d[g+4+P]-d[g+8+P],Z=d[g+0+P]-d[g+12+P];F[0+P]=O+U,F[8+P]=O-U,F[4+P]=Z+q,F[12+P]=Z-q}for(P=0;4>P;++P)O=(d=F[0+4*P]+3)+F[3+4*P],U=F[1+4*P]+F[2+4*P],q=F[1+4*P]-F[2+4*P],Z=d-F[3+4*P],_[S+0]=O+U>>3,_[S+16]=Z+q>>3,_[S+32]=O-U>>3,_[S+48]=Z-q>>3,S+=64}function uo(d,g,_){var S,P=g-32,F=Nn,O=255-d[P-1];for(S=0;S<_;++S){var U,q=F,Z=O+d[g-1];for(U=0;U<_;++U)d[g+U]=q[Z+d[P+U]];g+=32}}function xc(d,g){uo(d,g,4)}function bl(d,g){uo(d,g,8)}function wc(d,g){uo(d,g,16)}function Wi(d,g){var _;for(_=0;16>_;++_)n(d,g+32*_,d,g-32,16)}function ya(d,g){var _;for(_=16;0<_;--_)s(d,g,d[g-1],16),g+=32}function $s(d,g,_){var S;for(S=0;16>S;++S)s(g,_+32*S,d,16)}function xa(d,g){var _,S=16;for(_=0;16>_;++_)S+=d[g-1+32*_]+d[g+_-32];$s(S>>5,d,g)}function Ar(d,g){var _,S=8;for(_=0;16>_;++_)S+=d[g-1+32*_];$s(S>>4,d,g)}function Vi(d,g){var _,S=8;for(_=0;16>_;++_)S+=d[g+_-32];$s(S>>4,d,g)}function Fi(d,g){$s(128,d,g)}function xt(d,g,_){return d+2*g+_+2>>2}function wa(d,g){var _,S=g-32;for(S=new Uint8Array([xt(d[S-1],d[S+0],d[S+1]),xt(d[S+0],d[S+1],d[S+2]),xt(d[S+1],d[S+2],d[S+3]),xt(d[S+2],d[S+3],d[S+4])]),_=0;4>_;++_)n(d,g+32*_,S,0,S.length)}function Zi(d,g){var _=d[g-1],S=d[g-1+32],P=d[g-1+64],F=d[g-1+96];De(d,g+0,16843009*xt(d[g-1-32],_,S)),De(d,g+32,16843009*xt(_,S,P)),De(d,g+64,16843009*xt(S,P,F)),De(d,g+96,16843009*xt(P,F,F))}function Gi(d,g){var _,S=4;for(_=0;4>_;++_)S+=d[g+_-32]+d[g-1+32*_];for(S>>=3,_=0;4>_;++_)s(d,g+32*_,S,4)}function _l(d,g){var _=d[g-1+0],S=d[g-1+32],P=d[g-1+64],F=d[g-1-32],O=d[g+0-32],U=d[g+1-32],q=d[g+2-32],Z=d[g+3-32];d[g+0+96]=xt(S,P,d[g-1+96]),d[g+1+96]=d[g+0+64]=xt(_,S,P),d[g+2+96]=d[g+1+64]=d[g+0+32]=xt(F,_,S),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=xt(O,F,_),d[g+3+64]=d[g+2+32]=d[g+1+0]=xt(U,O,F),d[g+3+32]=d[g+2+0]=xt(q,U,O),d[g+3+0]=xt(Z,q,U)}function Hs(d,g){var _=d[g+1-32],S=d[g+2-32],P=d[g+3-32],F=d[g+4-32],O=d[g+5-32],U=d[g+6-32],q=d[g+7-32];d[g+0+0]=xt(d[g+0-32],_,S),d[g+1+0]=d[g+0+32]=xt(_,S,P),d[g+2+0]=d[g+1+32]=d[g+0+64]=xt(S,P,F),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=xt(P,F,O),d[g+3+32]=d[g+2+64]=d[g+1+96]=xt(F,O,U),d[g+3+64]=d[g+2+96]=xt(O,U,q),d[g+3+96]=xt(U,q,q)}function ho(d,g){var _=d[g-1+0],S=d[g-1+32],P=d[g-1+64],F=d[g-1-32],O=d[g+0-32],U=d[g+1-32],q=d[g+2-32],Z=d[g+3-32];d[g+0+0]=d[g+1+64]=F+O+1>>1,d[g+1+0]=d[g+2+64]=O+U+1>>1,d[g+2+0]=d[g+3+64]=U+q+1>>1,d[g+3+0]=q+Z+1>>1,d[g+0+96]=xt(P,S,_),d[g+0+64]=xt(S,_,F),d[g+0+32]=d[g+1+96]=xt(_,F,O),d[g+1+32]=d[g+2+96]=xt(F,O,U),d[g+2+32]=d[g+3+96]=xt(O,U,q),d[g+3+32]=xt(U,q,Z)}function fo(d,g){var _=d[g+0-32],S=d[g+1-32],P=d[g+2-32],F=d[g+3-32],O=d[g+4-32],U=d[g+5-32],q=d[g+6-32],Z=d[g+7-32];d[g+0+0]=_+S+1>>1,d[g+1+0]=d[g+0+64]=S+P+1>>1,d[g+2+0]=d[g+1+64]=P+F+1>>1,d[g+3+0]=d[g+2+64]=F+O+1>>1,d[g+0+32]=xt(_,S,P),d[g+1+32]=d[g+0+96]=xt(S,P,F),d[g+2+32]=d[g+1+96]=xt(P,F,O),d[g+3+32]=d[g+2+96]=xt(F,O,U),d[g+3+64]=xt(O,U,q),d[g+3+96]=xt(U,q,Z)}function po(d,g){var _=d[g-1+0],S=d[g-1+32],P=d[g-1+64],F=d[g-1+96];d[g+0+0]=_+S+1>>1,d[g+2+0]=d[g+0+32]=S+P+1>>1,d[g+2+32]=d[g+0+64]=P+F+1>>1,d[g+1+0]=xt(_,S,P),d[g+3+0]=d[g+1+32]=xt(S,P,F),d[g+3+32]=d[g+1+64]=xt(P,F,F),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=F}function bc(d,g){var _=d[g-1+0],S=d[g-1+32],P=d[g-1+64],F=d[g-1+96],O=d[g-1-32],U=d[g+0-32],q=d[g+1-32],Z=d[g+2-32];d[g+0+0]=d[g+2+32]=_+O+1>>1,d[g+0+32]=d[g+2+64]=S+_+1>>1,d[g+0+64]=d[g+2+96]=P+S+1>>1,d[g+0+96]=F+P+1>>1,d[g+3+0]=xt(U,q,Z),d[g+2+0]=xt(O,U,q),d[g+1+0]=d[g+3+32]=xt(_,O,U),d[g+1+32]=d[g+3+64]=xt(S,_,O),d[g+1+64]=d[g+3+96]=xt(P,S,_),d[g+1+96]=xt(F,P,S)}function wu(d,g){var _;for(_=0;8>_;++_)n(d,g+32*_,d,g-32,8)}function ls(d,g){var _;for(_=0;8>_;++_)s(d,g,d[g-1],8),g+=32}function Ri(d,g,_){var S;for(S=0;8>S;++S)s(g,_+32*S,d,8)}function ii(d,g){var _,S=8;for(_=0;8>_;++_)S+=d[g+_-32]+d[g-1+32*_];Ri(S>>4,d,g)}function go(d,g){var _,S=4;for(_=0;8>_;++_)S+=d[g+_-32];Ri(S>>3,d,g)}function ba(d,g){var _,S=4;for(_=0;8>_;++_)S+=d[g-1+32*_];Ri(S>>3,d,g)}function kl(d,g){Ri(128,d,g)}function Ws(d,g,_){var S=d[g-_],P=d[g+0],F=3*(P-S)+Qi[1020+d[g-2*_]-d[g+_]],O=To[112+(F+4>>3)];d[g-_]=Nn[255+S+To[112+(F+3>>3)]],d[g+0]=Nn[255+P-O]}function _a(d,g,_,S){var P=d[g+0],F=d[g+_];return yi[255+d[g-2*_]-d[g-_]]>S||yi[255+F-P]>S}function mo(d,g,_,S){return 4*yi[255+d[g-_]-d[g+0]]+yi[255+d[g-2*_]-d[g+_]]<=S}function Cl(d,g,_,S,P){var F=d[g-3*_],O=d[g-2*_],U=d[g-_],q=d[g+0],Z=d[g+_],le=d[g+2*_],be=d[g+3*_];return 4*yi[255+U-q]+yi[255+O-Z]>S?0:yi[255+d[g-4*_]-F]<=P&&yi[255+F-O]<=P&&yi[255+O-U]<=P&&yi[255+be-le]<=P&&yi[255+le-Z]<=P&&yi[255+Z-q]<=P}function Di(d,g,_,S){var P=2*S+1;for(S=0;16>S;++S)mo(d,g+S,_,P)&&Ws(d,g+S,_)}function gi(d,g,_,S){var P=2*S+1;for(S=0;16>S;++S)mo(d,g+S*_,1,P)&&Ws(d,g+S*_,1)}function mi(d,g,_,S){var P;for(P=3;0<P;--P)Di(d,g+=4*_,_,S)}function _c(d,g,_,S){var P;for(P=3;0<P;--P)gi(d,g+=4,_,S)}function Oi(d,g,_,S,P,F,O,U){for(F=2*F+1;0<P--;){if(Cl(d,g,_,F,O))if(_a(d,g,_,U))Ws(d,g,_);else{var q=d,Z=g,le=_,be=q[Z-2*le],_e=q[Z-le],ve=q[Z+0],Re=q[Z+le],Ae=q[Z+2*le],he=27*(Te=Qi[1020+3*(ve-_e)+Qi[1020+be-Re]])+63>>7,fe=18*Te+63>>7,Te=9*Te+63>>7;q[Z-3*le]=Nn[255+q[Z-3*le]+Te],q[Z-2*le]=Nn[255+be+fe],q[Z-le]=Nn[255+_e+he],q[Z+0]=Nn[255+ve-he],q[Z+le]=Nn[255+Re-fe],q[Z+2*le]=Nn[255+Ae-Te]}g+=S}}function On(d,g,_,S,P,F,O,U){for(F=2*F+1;0<P--;){if(Cl(d,g,_,F,O))if(_a(d,g,_,U))Ws(d,g,_);else{var q=d,Z=g,le=_,be=q[Z-le],_e=q[Z+0],ve=q[Z+le],Re=To[112+((Ae=3*(_e-be))+4>>3)],Ae=To[112+(Ae+3>>3)],he=Re+1>>1;q[Z-2*le]=Nn[255+q[Z-2*le]+he],q[Z-le]=Nn[255+be+Ae],q[Z+0]=Nn[255+_e-Re],q[Z+le]=Nn[255+ve-he]}g+=S}}function vo(d,g,_,S,P,F){Oi(d,g,_,1,16,S,P,F)}function Zr(d,g,_,S,P,F){Oi(d,g,1,_,16,S,P,F)}function Vs(d,g,_,S,P,F){var O;for(O=3;0<O;--O)On(d,g+=4*_,_,1,16,S,P,F)}function Zs(d,g,_,S,P,F){var O;for(O=3;0<O;--O)On(d,g+=4,1,_,16,S,P,F)}function ka(d,g,_,S,P,F,O,U){Oi(d,g,P,1,8,F,O,U),Oi(_,S,P,1,8,F,O,U)}function Sl(d,g,_,S,P,F,O,U){Oi(d,g,1,P,8,F,O,U),Oi(_,S,1,P,8,F,O,U)}function Ca(d,g,_,S,P,F,O,U){On(d,g+4*P,P,1,8,F,O,U),On(_,S+4*P,P,1,8,F,O,U)}function yo(d,g,_,S,P,F,O,U){On(d,g+4,1,P,8,F,O,U),On(_,S+4,1,P,8,F,O,U)}function Yi(){this.ba=new ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kc(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new V}function bu(){this.xb=this.a=0,this.l=new oo,this.ca=new ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kc,this.ab=0,this.gc=l(4,xo),this.Oc=0}function wo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cs(d,g,_,S,P,F,O){for(d=d==null?0:d[g+0],g=0;g<O;++g)P[F+g]=d+_[S+g]&255,d=P[F+g]}function Nl(d,g,_,S,P,F,O){var U;if(d==null)cs(null,null,_,S,P,F,O);else for(U=0;U<O;++U)P[F+U]=d[g+U]+_[S+U]&255}function Ys(d,g,_,S,P,F,O){if(d==null)cs(null,null,_,S,P,F,O);else{var U,q=d[g+0],Z=q,le=q;for(U=0;U<O;++U)Z=le+(q=d[g+U])-Z,le=_[S+U]+(-256&Z?0>Z?0:255:Z)&255,Z=q,P[F+U]=le}}function jl(d,g,_,S){var P=g.width,F=g.o;if(e(d!=null&&g!=null),0>_||0>=S||_+S>F)return null;if(!d.Cc){if(d.ga==null){var O;if(d.ga=new wo,(O=d.ga==null)||(O=g.width*g.o,e(d.Gb.length==0),d.Gb=o(O),d.Uc=0,d.Gb==null?O=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,O=1),O=!O),!O){O=d.ga;var U=d.Fa,q=d.P,Z=d.qc,le=d.mb,be=d.nb,_e=q+1,ve=Z-1,Re=O.l;if(e(U!=null&&le!=null&&g!=null),fn[0]=null,fn[1]=cs,fn[2]=Nl,fn[3]=Ys,O.ca=le,O.tb=be,O.c=g.width,O.i=g.height,e(0<O.c&&0<O.i),1>=Z)g=0;else if(O.$a=U[q+0]>>0&3,O.Z=U[q+0]>>2&3,O.Lc=U[q+0]>>4&3,q=U[q+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||q)g=0;else if(Re.put=fi,Re.ac=Xr,Re.bc=Pi,Re.ma=O,Re.width=g.width,Re.height=g.height,Re.Da=g.Da,Re.v=g.v,Re.va=g.va,Re.j=g.j,Re.o=g.o,O.$a)e:{e(O.$a==1),g=ri();t:for(;;){if(g==null){g=0;break e}if(e(O!=null),O.mc=g,g.c=O.c,g.i=O.i,g.l=O.l,g.l.ma=O,g.l.width=O.c,g.l.height=O.i,g.a=0,re(g.m,U,_e,ve),!Hi(O.c,O.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&os(g.s)?(O.ic=1,U=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(U),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(O.ic=0,g=Bs(g,O.c)),!g))break t;g=1;break e}O.mc=null,g=0}else g=ve>=O.c*O.i;O=!g}if(O)return null;d.ga.Lc!=1?d.Ga=0:S=F-_}e(d.ga!=null),e(_+S<=F);e:{if(g=(U=d.ga).c,F=U.l.o,U.$a==0){if(_e=d.rc,ve=d.Vc,Re=d.Fa,q=d.P+1+_*g,Z=d.mb,le=d.nb+_*g,e(q<=d.P+d.qc),U.Z!=0)for(e(fn[U.Z]!=null),O=0;O<S;++O)fn[U.Z](_e,ve,Re,q,Z,le,g),_e=Z,ve=le,le+=g,q+=g;else for(O=0;O<S;++O)n(Z,le,Re,q,g),_e=Z,ve=le,le+=g,q+=g;d.rc=_e,d.Vc=ve}else{if(e(U.mc!=null),g=_+S,e((O=U.mc)!=null),e(g<=O.i),O.C>=g)g=1;else if(U.ic||xe(),U.ic){U=O.V,_e=O.Ba,ve=O.c;var Ae=O.i,he=(Re=1,q=O.$/ve,Z=O.$%ve,le=O.m,be=O.s,O.$),fe=ve*Ae,Te=ve*g,Ee=be.wc,Fe=he<Te?jr(be,Z,q):null;e(he<=fe),e(g<=Ae),e(os(be));t:for(;;){for(;!le.h&&he<Te;){if(Z&Ee||(Fe=jr(be,Z,q)),e(Fe!=null),W(le),256>(Ae=Fn(Fe.G[0],Fe.H[0],le)))U[_e+he]=Ae,++he,++Z>=ve&&(Z=0,++q<=g&&!(q%16)&&Ti(O,q));else{if(!(280>Ae)){Re=0;break t}Ae=ti(Ae-256,le);var et,Ze=Fn(Fe.G[4],Fe.H[4],le);if(W(le),!(he>=(Ze=In(ve,Ze=ti(Ze,le)))&&fe-he>=Ae)){Re=0;break t}for(et=0;et<Ae;++et)U[_e+he+et]=U[_e+he+et-Ze];for(he+=Ae,Z+=Ae;Z>=ve;)Z-=ve,++q<=g&&!(q%16)&&Ti(O,q);he<Te&&Z&Ee&&(Fe=jr(be,Z,q))}e(le.h==$(le))}Ti(O,q>g?g:q);break t}!Re||le.h&&he<fe?(Re=0,O.a=le.h?5:3):O.$=he,g=Re}else g=tn(O,O.V,O.Ba,O.c,O.i,g,da);if(!g){S=0;break e}}_+S>=F&&(d.Cc=1),S=1}if(!S)return null;if(d.Cc&&((S=d.ga)!=null&&(S.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+_*P}function y(d,g,_,S,P,F){for(;0<P--;){var O,U=d,q=g+(_?1:0),Z=d,le=g+(_?0:3);for(O=0;O<S;++O){var be=Z[le+4*O];be!=255&&(be*=32897,U[q+4*O+0]=U[q+4*O+0]*be>>23,U[q+4*O+1]=U[q+4*O+1]*be>>23,U[q+4*O+2]=U[q+4*O+2]*be>>23)}g+=F}}function T(d,g,_,S,P){for(;0<S--;){var F;for(F=0;F<_;++F){var O=d[g+2*F+0],U=15&(Z=d[g+2*F+1]),q=4369*U,Z=(240&Z|Z>>4)*q>>16;d[g+2*F+0]=(240&O|O>>4)*q>>16&240|(15&O|O<<4)*q>>16>>4&15,d[g+2*F+1]=240&Z|U}g+=P}}function J(d,g,_,S,P,F,O,U){var q,Z,le=255;for(Z=0;Z<P;++Z){for(q=0;q<S;++q){var be=d[g+q];F[O+4*q]=be,le&=be}g+=_,O+=U}return le!=255}function oe(d,g,_,S,P){var F;for(F=0;F<P;++F)_[S+F]=d[g+F]>>8}function xe(){Mn=y,fr=T,sr=J,Dr=oe}function Pe(d,g,_){Q[d]=function(S,P,F,O,U,q,Z,le,be,_e,ve,Re,Ae,he,fe,Te,Ee){var Fe,et=Ee-1>>1,Ze=U[q+0]|Z[le+0]<<16,pt=be[_e+0]|ve[Re+0]<<16;e(S!=null);var Ye=3*Ze+pt+131074>>2;for(g(S[P+0],255&Ye,Ye>>16,Ae,he),F!=null&&(Ye=3*pt+Ze+131074>>2,g(F[O+0],255&Ye,Ye>>16,fe,Te)),Fe=1;Fe<=et;++Fe){var Yt=U[q+Fe]|Z[le+Fe]<<16,Jt=be[_e+Fe]|ve[Re+Fe]<<16,Ht=Ze+Yt+pt+Jt+524296,Rt=Ht+2*(Yt+pt)>>3;Ye=Rt+Ze>>1,Ze=(Ht=Ht+2*(Ze+Jt)>>3)+Yt>>1,g(S[P+2*Fe-1],255&Ye,Ye>>16,Ae,he+(2*Fe-1)*_),g(S[P+2*Fe-0],255&Ze,Ze>>16,Ae,he+(2*Fe-0)*_),F!=null&&(Ye=Ht+pt>>1,Ze=Rt+Jt>>1,g(F[O+2*Fe-1],255&Ye,Ye>>16,fe,Te+(2*Fe-1)*_),g(F[O+2*Fe+0],255&Ze,Ze>>16,fe,Te+(2*Fe+0)*_)),Ze=Yt,pt=Jt}1&Ee||(Ye=3*Ze+pt+131074>>2,g(S[P+Ee-1],255&Ye,Ye>>16,Ae,he+(Ee-1)*_),F!=null&&(Ye=3*pt+Ze+131074>>2,g(F[O+Ee-1],255&Ye,Ye>>16,fe,Te+(Ee-1)*_)))}}function Me(){Un[Sc]=Kh,Un[ea]=ta,Un[Sd]=Xh,Un[Tl]=Do,Un[Il]=Da,Un[pr]=Ml,Un[Nc]=Su,Un[Io]=ta,Un[Ia]=Do,Un[Fl]=Da,Un[Rl]=Ml}function Qe(d){return d&-16384?0>d?0:255:d>>ra}function dt(d,g){return Qe((19077*d>>8)+(26149*g>>8)-14234)}function Et(d,g,_){return Qe((19077*d>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function Pt(d,g){return Qe((19077*d>>8)+(33050*g>>8)-17685)}function zt(d,g,_,S,P){S[P+0]=dt(d,_),S[P+1]=Et(d,g,_),S[P+2]=Pt(d,g)}function Pr(d,g,_,S,P){S[P+0]=Pt(d,g),S[P+1]=Et(d,g,_),S[P+2]=dt(d,_)}function Fr(d,g,_,S,P){var F=Et(d,g,_);g=F<<3&224|Pt(d,g)>>3,S[P+0]=248&dt(d,_)|F>>5,S[P+1]=g}function $r(d,g,_,S,P){var F=240&Pt(d,g)|15;S[P+0]=240&dt(d,_)|Et(d,g,_)>>4,S[P+1]=F}function un(d,g,_,S,P){S[P+0]=255,zt(d,g,_,S,P+1)}function Qr(d,g,_,S,P){Pr(d,g,_,S,P),S[P+3]=255}function Mi(d,g,_,S,P){zt(d,g,_,S,P),S[P+3]=255}function si(d,g){return 0>d?0:d>g?g:d}function vi(d,g,_){Q[d]=function(S,P,F,O,U,q,Z,le,be){for(var _e=le+(-2&be)*_;le!=_e;)g(S[P+0],F[O+0],U[q+0],Z,le),g(S[P+1],F[O+0],U[q+0],Z,le+_),P+=2,++O,++q,le+=2*_;1&be&&g(S[P+0],F[O+0],U[q+0],Z,le)}}function Js(d,g,_){return _==0?d==0?g==0?6:5:g==0?4:0:_}function Ll(d,g,_,S,P){switch(d>>>30){case 3:fs(g,_,S,P,0);break;case 2:tr(g,_,S,P);break;case 1:hn(g,_,S,P)}}function bo(d,g){var _,S,P=g.M,F=g.Nb,O=d.oc,U=d.pc+40,q=d.oc,Z=d.pc+584,le=d.oc,be=d.pc+600;for(_=0;16>_;++_)O[U+32*_-1]=129;for(_=0;8>_;++_)q[Z+32*_-1]=129,le[be+32*_-1]=129;for(0<P?O[U-1-32]=q[Z-1-32]=le[be-1-32]=129:(s(O,U-32-1,127,21),s(q,Z-32-1,127,9),s(le,be-32-1,127,9)),S=0;S<d.za;++S){var _e=g.ya[g.aa+S];if(0<S){for(_=-1;16>_;++_)n(O,U+32*_-4,O,U+32*_+12,4);for(_=-1;8>_;++_)n(q,Z+32*_-4,q,Z+32*_+4,4),n(le,be+32*_-4,le,be+32*_+4,4)}var ve=d.Gd,Re=d.Hd+S,Ae=_e.ad,he=_e.Hc;if(0<P&&(n(O,U-32,ve[Re].y,0,16),n(q,Z-32,ve[Re].f,0,8),n(le,be-32,ve[Re].ea,0,8)),_e.Za){var fe=O,Te=U-32+16;for(0<P&&(S>=d.za-1?s(fe,Te,ve[Re].y[15],4):n(fe,Te,ve[Re+1].y,0,4)),_=0;4>_;_++)fe[Te+128+_]=fe[Te+256+_]=fe[Te+384+_]=fe[Te+0+_];for(_=0;16>_;++_,he<<=2)fe=O,Te=U+Nu[_],xi[_e.Ob[_]](fe,Te),Ll(he,Ae,16*+_,fe,Te)}else if(fe=Js(S,P,_e.Ob[0]),jn[fe](O,U),he!=0)for(_=0;16>_;++_,he<<=2)Ll(he,Ae,16*+_,O,U+Nu[_]);for(_=_e.Gc,fe=Js(S,P,_e.Dd),Bn[fe](q,Z),Bn[fe](le,be),he=Ae,fe=q,Te=Z,255&(_e=_>>0)&&(170&_e?ps(he,256,fe,Te):ai(he,256,fe,Te)),_e=le,he=be,255&(_>>=8)&&(170&_?ps(Ae,320,_e,he):ai(Ae,320,_e,he)),P<d.Ub-1&&(n(ve[Re].y,0,O,U+480,16),n(ve[Re].f,0,q,Z+224,8),n(ve[Re].ea,0,le,be+224,8)),_=8*F*d.B,ve=d.sa,Re=d.ta+16*S+16*F*d.R,Ae=d.qa,_e=d.ra+8*S+_,he=d.Ha,fe=d.Ia+8*S+_,_=0;16>_;++_)n(ve,Re+_*d.R,O,U+32*_,16);for(_=0;8>_;++_)n(Ae,_e+_*d.B,q,Z+32*_,8),n(he,fe+_*d.B,le,be+32*_,8)}}function Sa(d,g,_,S,P,F,O,U,q){var Z=[0],le=[0],be=0,_e=q!=null?q.kd:0,ve=q??new Gs;if(d==null||12>_)return 7;ve.data=d,ve.w=g,ve.ha=_,g=[g],_=[_],ve.gb=[ve.gb];e:{var Re=g,Ae=_,he=ve.gb;if(e(d!=null),e(Ae!=null),e(he!=null),he[0]=0,12<=Ae[0]&&!t(d,Re[0],"RIFF")){if(t(d,Re[0]+8,"WEBP")){he=3;break e}var fe=Ge(d,Re[0]+4);if(12>fe||4294967286<fe){he=3;break e}if(_e&&fe>Ae[0]-8){he=7;break e}he[0]=fe,Re[0]+=12,Ae[0]-=12}he=0}if(he!=0)return he;for(fe=0<ve.gb[0],_=_[0];;){e:{var Te=d;Ae=g,he=_;var Ee=Z,Fe=le,et=Re=[0];if((Ye=be=[be])[0]=0,8>he[0])he=7;else{if(!t(Te,Ae[0],"VP8X")){if(Ge(Te,Ae[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Ze=Ge(Te,Ae[0]+8),pt=1+Ve(Te,Ae[0]+12);if(2147483648<=pt*(Te=1+Ve(Te,Ae[0]+15))){he=3;break e}et!=null&&(et[0]=Ze),Ee!=null&&(Ee[0]=pt),Fe!=null&&(Fe[0]=Te),Ae[0]+=18,he[0]-=18,Ye[0]=1}he=0}}if(be=be[0],Re=Re[0],he!=0)return he;if(Ae=!!(2&Re),!fe&&be)return 3;if(F!=null&&(F[0]=!!(16&Re)),O!=null&&(O[0]=Ae),U!=null&&(U[0]=0),O=Z[0],Re=le[0],be&&Ae&&q==null){he=0;break}if(4>_){he=7;break}if(fe&&be||!fe&&!be&&!t(d,g[0],"ALPH")){_=[_],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Ze=d,he=g,fe=_;var Ye=ve.gb;Ee=ve.na,Fe=ve.P,et=ve.Sa,pt=22,e(Ze!=null),e(fe!=null),Te=he[0];var Yt=fe[0];for(e(Ee!=null),e(et!=null),Ee[0]=null,Fe[0]=null,et[0]=0;;){if(he[0]=Te,fe[0]=Yt,8>Yt){he=7;break e}var Jt=Ge(Ze,Te+4);if(4294967286<Jt){he=3;break e}var Ht=8+Jt+1&-2;if(pt+=Ht,0<Ye&&pt>Ye){he=3;break e}if(!t(Ze,Te,"VP8 ")||!t(Ze,Te,"VP8L")){he=0;break e}if(Yt[0]<Ht){he=7;break e}t(Ze,Te,"ALPH")||(Ee[0]=Ze,Fe[0]=Te+8,et[0]=Jt),Te+=Ht,Yt-=Ht}}if(_=_[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],he!=0)break}_=[_],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Ye=d,he=g,fe=_,Ee=ve.gb[0],Fe=ve.Ja,et=ve.xa,Ze=he[0],Te=!t(Ye,Ze,"VP8 "),pt=!t(Ye,Ze,"VP8L"),e(Ye!=null),e(fe!=null),e(Fe!=null),e(et!=null),8>fe[0])he=7;else{if(Te||pt){if(Ye=Ge(Ye,Ze+4),12<=Ee&&Ye>Ee-12){he=3;break e}if(_e&&Ye>fe[0]-8){he=7;break e}Fe[0]=Ye,he[0]+=8,fe[0]-=8,et[0]=pt}else et[0]=5<=fe[0]&&Ye[Ze+0]==47&&!(Ye[Ze+4]>>5),Fe[0]=fe[0];he=0}if(_=_[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],g=g[0],he!=0)break;if(4294967286<ve.Ja)return 3;if(U==null||Ae||(U[0]=ve.xa?2:1),O=[O],Re=[Re],ve.xa){if(5>_){he=7;break}U=O,_e=Re,Ae=F,d==null||5>_?d=0:5<=_&&d[g+0]==47&&!(d[g+4]>>5)?(fe=[0],Ye=[0],Ee=[0],re(Fe=new N,d,g,_),ft(Fe,fe,Ye,Ee)?(U!=null&&(U[0]=fe[0]),_e!=null&&(_e[0]=Ye[0]),Ae!=null&&(Ae[0]=Ee[0]),d=1):d=0):d=0}else{if(10>_){he=7;break}U=Re,d==null||10>_||!vc(d,g+3,_-3)?d=0:(_e=d[g+0]|d[g+1]<<8|d[g+2]<<16,Ae=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=ve.Ja||!Ae||!d?d=0:(O&&(O[0]=Ae),U&&(U[0]=d),d=1))}if(!d||(O=O[0],Re=Re[0],be&&(Z[0]!=O||le[0]!=Re)))return 3;q!=null&&(q[0]=ve,q.offset=g-q.w,e(4294967286>g-q.w),e(q.offset==q.ha-_));break}return he==0||he==7&&be&&q==null?(F!=null&&(F[0]|=ve.na!=null&&0<ve.na.length),S!=null&&(S[0]=O),P!=null&&(P[0]=Re),0):he}function _o(d,g,_){var S=g.width,P=g.height,F=0,O=0,U=S,q=P;if(g.Da=d!=null&&0<d.Da,g.Da&&(U=d.cd,q=d.bd,F=d.v,O=d.j,11>_||(F&=-2,O&=-2),0>F||0>O||0>=U||0>=q||F+U>S||O+q>P))return 0;if(g.v=F,g.j=O,g.va=F+U,g.o=O+q,g.U=U,g.T=q,g.da=d!=null&&0<d.da,g.da){if(!Nt(U,q,_=[d.ib],F=[d.hb]))return 0;g.ib=_[0],g.hb=F[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*S/4&&g.hb<3*P/4,g.Kb=0),1}function ko(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function Na(d,g,_,S){if(S==null||0>=d||0>=g)return 2;if(_!=null){if(_.Da){var P=_.cd,F=_.bd,O=-2&_.v,U=-2&_.j;if(0>O||0>U||0>=P||0>=F||O+P>d||U+F>g)return 2;d=P,g=F}if(_.da){if(!Nt(d,g,P=[_.ib],F=[_.hb]))return 2;d=P[0],g=F[0]}}S.width=d,S.height=g;e:{var q=S.width,Z=S.height;if(d=S.S,0>=q||0>=Z||!(d>=Sc&&13>d))d=2;else{if(0>=S.Rd&&S.sd==null){O=F=P=g=0;var le=(U=q*Bl[d])*Z;if(11>d||(F=(Z+1)/2*(g=(q+1)/2),d==12&&(O=(P=q)*Z)),(Z=o(le+2*F+O))==null){d=1;break e}S.sd=Z,11>d?((q=S.f.RGBA).eb=Z,q.fb=0,q.A=U,q.size=le):((q=S.f.kb).y=Z,q.O=0,q.fa=U,q.Fd=le,q.f=Z,q.N=0+le,q.Ab=g,q.Cd=F,q.ea=Z,q.W=0+le+F,q.Db=g,q.Ed=F,d==12&&(q.F=Z,q.J=0+le+2*F),q.Tc=O,q.lb=P)}if(g=1,P=S.S,F=S.width,O=S.height,P>=Sc&&13>P)if(11>P)d=S.f.RGBA,g&=(U=Math.abs(d.A))*(O-1)+F<=d.size,g&=U>=F*Bl[P],g&=d.eb!=null;else{d=S.f.kb,U=(F+1)/2,le=(O+1)/2,q=Math.abs(d.fa),Z=Math.abs(d.Ab);var be=Math.abs(d.Db),_e=Math.abs(d.lb),ve=_e*(O-1)+F;g&=q*(O-1)+F<=d.Fd,g&=Z*(le-1)+U<=d.Cd,g=(g&=be*(le-1)+U<=d.Ed)&q>=F&Z>=U&be>=U,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,P==12&&(g&=_e>=F,g&=ve<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||_!=null&&_.fd&&(d=ko(S)),d}var Rr=64,Co=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],So=24,No=32,jo=8,kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(d){return d},Q.Predictor2=function(d,g,_){return g[_+0]},Q.Predictor3=function(d,g,_){return g[_+1]},Q.Predictor4=function(d,g,_){return g[_-1]},Q.Predictor5=function(d,g,_){return Ke(Ke(d,g[_+1]),g[_+0])},Q.Predictor6=function(d,g,_){return Ke(d,g[_-1])},Q.Predictor7=function(d,g,_){return Ke(d,g[_+0])},Q.Predictor8=function(d,g,_){return Ke(g[_-1],g[_+0])},Q.Predictor9=function(d,g,_){return Ke(g[_+0],g[_+1])},Q.Predictor10=function(d,g,_){return Ke(Ke(d,g[_-1]),Ke(g[_+0],g[_+1]))},Q.Predictor11=function(d,g,_){var S=g[_+0];return 0>=Tt(S>>24&255,d>>24&255,(g=g[_-1])>>24&255)+Tt(S>>16&255,d>>16&255,g>>16&255)+Tt(S>>8&255,d>>8&255,g>>8&255)+Tt(255&S,255&d,255&g)?S:d},Q.Predictor12=function(d,g,_){var S=g[_+0];return(ut((d>>24&255)+(S>>24&255)-((g=g[_-1])>>24&255))<<24|ut((d>>16&255)+(S>>16&255)-(g>>16&255))<<16|ut((d>>8&255)+(S>>8&255)-(g>>8&255))<<8|ut((255&d)+(255&S)-(255&g)))>>>0},Q.Predictor13=function(d,g,_){var S=g[_-1];return(jt((d=Ke(d,g[_+0]))>>24&255,S>>24&255)<<24|jt(d>>16&255,S>>16&255)<<16|jt(d>>8&255,S>>8&255)<<8|jt(d>>0&255,S>>0&255))>>>0};var ja=Q.PredictorAdd0;Q.PredictorAdd1=Mt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var us=Q.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Cc,Cn=Q.ColorIndexInverseTransform,Lo=Q.MapARGB,Al=Q.VP8LColorIndexInverseTransformAlpha,Ao=Q.MapAlpha,Ji=Q.VP8LPredictorsAdd=[];Ji.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var Ks,Sn,dn,Xs,ds,hs,Po,fs,tr,ps,hn,ai,La,Pl,Aa,Pa,Ea,oi,gs,Ki,ms,vs,Qs,rn,Mn,fr,sr,Dr,Hr=o(511),Xi=o(2041),Eo=o(225),Ta=o(767),El=0,Qi=Xi,To=Eo,Nn=Ta,yi=Hr,Sc=0,ea=1,Sd=2,Tl=3,Il=4,pr=5,Nc=6,Io=7,Ia=8,Fl=9,Rl=10,Dl=[2,3,7],jc=[3,3,11],Fa=[280,256,256,256,40],Nd=[0,1,1,1,0],Zh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lc=8,Fo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ol=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ra=null,_u=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ku=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ad=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jn=[],xi=[],Bn=[],es=1,Ro=2,fn=[],Un=[];Pe("UpsampleRgbLinePair",zt,3),Pe("UpsampleBgrLinePair",Pr,3),Pe("UpsampleRgbaLinePair",Mi,4),Pe("UpsampleBgraLinePair",Qr,4),Pe("UpsampleArgbLinePair",un,4),Pe("UpsampleRgba4444LinePair",$r,2),Pe("UpsampleRgb565LinePair",Fr,2);var Kh=Q.UpsampleRgbLinePair,Xh=Q.UpsampleBgrLinePair,ta=Q.UpsampleRgbaLinePair,Do=Q.UpsampleBgraLinePair,Da=Q.UpsampleArgbLinePair,Ml=Q.UpsampleRgba4444LinePair,Su=Q.UpsampleRgb565LinePair,ys=16,Bi=1<<ys-1,ar=-227,cr=482,ra=6,nn=0,zn=o(256),Oa=o(256),Oo=o(256),qn=o(256),Ac=o(cr-ar),Pd=o(cr-ar);vi("YuvToRgbRow",zt,3),vi("YuvToBgrRow",Pr,3),vi("YuvToRgbaRow",Mi,4),vi("YuvToBgraRow",Qr,4),vi("YuvToArgbRow",un,4),vi("YuvToRgba4444Row",$r,2),vi("YuvToRgb565Row",Fr,2);var Nu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ma=[0,2,8],Ed=[8,7,6,4,4,2,2,2,1,1,1,1],xs=1;this.WebPDecodeRGBA=function(d,g,_,S,P){var F=ea,O=new Yi,U=new ln;O.ba=U,U.S=F,U.width=[U.width],U.height=[U.height];var q=U.width,Z=U.height,le=new Tn;if(le==null||d==null)var be=2;else e(le!=null),be=Sa(d,g,_,le.width,le.height,le.Pd,le.Qd,le.format,null);if(be!=0?q=0:(q!=null&&(q[0]=le.width[0]),Z!=null&&(Z[0]=le.height[0]),q=1),q){U.width=U.width[0],U.height=U.height[0],S!=null&&(S[0]=U.width),P!=null&&(P[0]=U.height);e:{if(S=new oo,(P=new Gs).data=d,P.w=g,P.ha=_,P.kd=1,g=[0],e(P!=null),((d=Sa(P.data,P.w,P.ha,null,null,null,g,null,P))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(O!=null),S.data=P.data,S.w=P.w+P.offset,S.ha=P.ha-P.offset,S.put=fi,S.ac=Xr,S.bc=Pi,S.ma=O,P.xa){if((d=ri())==null){O=1;break e}if(function(_e,ve){var Re=[0],Ae=[0],he=[0];t:for(;;){if(_e==null)return 0;if(ve==null)return _e.a=2,0;if(_e.l=ve,_e.a=0,re(_e.m,ve.data,ve.w,ve.ha),!ft(_e.m,Re,Ae,he)){_e.a=3;break t}if(_e.xb=Ro,ve.width=Re[0],ve.height=Ae[0],!Hi(Re[0],Ae[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(d,S)){if(S=(g=Na(S.width,S.height,O.Oa,O.ba))==0){t:{S=d;r:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((_=S.l)!=null),e((P=_.ma)!=null),S.xb!=0){if(S.ca=P.ba,S.tb=P.tb,e(S.ca!=null),!_o(P.Oa,_,Tl)){S.a=2;break r}if(!Bs(S,_.width)||_.da)break r;if((_.da||Gt(S.ca.S))&&xe(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&xe()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!mt(S.s.vb,S.s.Wa.Xa)){S.a=1;break r}S.xb=0}if(!tn(S,S.V,S.Ba,S.c,S.i,_.o,Ms))break r;P.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(g=d.a)}else g=d.a}else{if((d=new ni)==null){O=1;break e}if(d.Fa=P.na,d.P=P.P,d.qc=P.Sa,yc(d,S)){if((g=Na(S.width,S.height,O.Oa,O.ba))==0){if(d.Aa=0,_=O.Oa,e((P=d)!=null),_!=null){if(0<(q=0>(q=_.Md)?0:100<q?255:255*q/100)){for(Z=le=0;4>Z;++Z)12>(be=P.pb[Z]).lc&&(be.ia=q*Ed[0>be.lc?0:be.lc]>>3),le|=be.ia;le&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=_.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}ma(d,S)||(g=d.a)}}else g=d.a}g==0&&O.Oa!=null&&O.Oa.fd&&(g=ko(O.ba))}O=g}F=O!=0?null:11>F?U.f.RGBA.eb:U.f.kb.y}else F=null;return F};var Bl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(Q,ye){for(var pe="",B=0;B<4;B++)pe+=String.fromCharCode(Q[ye++]);return pe}function v(Q,ye){return(Q[ye+0]<<0|Q[ye+1]<<8|Q[ye+2]<<16)>>>0}function x(Q,ye){return(Q[ye+0]<<0|Q[ye+1]<<8|Q[ye+2]<<16|Q[ye+3]<<24)>>>0}new h;var C=[0],b=[0],j=[],L=new h,A=r,E=function(Q,ye){var pe={},B=0,V=!1,ie=0,ee=0;if(pe.frames=[],!function(M,$,z,W){for(var K=0;K<W;K++)if(M[$+K]!=z.charCodeAt(K))return!0;return!1}(Q,ye,"RIFF",4)){for(x(Q,ye+=4),ye+=8;ye<Q.length;){var Se=f(Q,ye),ke=x(Q,ye+=4);ye+=4;var Ne=ke+(1&ke);switch(Se){case"VP8 ":case"VP8L":pe.frames[B]===void 0&&(pe.frames[B]={}),(I=pe.frames[B]).src_off=V?ee:ye-8,I.src_size=ie+ke+8,B++,V&&(V=!1,ie=0,ee=0);break;case"VP8X":(I=pe.header={}).feature_flags=Q[ye];var re=ye+4;I.canvas_width=1+v(Q,re),re+=3,I.canvas_height=1+v(Q,re),re+=3;break;case"ALPH":V=!0,ie=Ne+8,ee=ye-8;break;case"ANIM":(I=pe.header).bgcolor=x(Q,ye),re=ye+4,I.loop_count=(ae=Q)[(N=re)+0]<<0|ae[N+1]<<8,re+=2;break;case"ANMF":var se,I;(I=pe.frames[B]={}).offset_x=2*v(Q,ye),ye+=3,I.offset_y=2*v(Q,ye),ye+=3,I.width=1+v(Q,ye),ye+=3,I.height=1+v(Q,ye),ye+=3,I.duration=v(Q,ye),ye+=3,se=Q[ye++],I.dispose=1&se,I.blend=se>>1&1}Se!="ANMF"&&(ye+=Ne)}var ae,N;return pe}}(A,0);E.response=A,E.rgbaoutput=!0,E.dataurl=!1;var D=E.header?E.header:null,H=E.frames?E.frames:null;if(D){D.loop_counter=D.loop_count,C=[D.canvas_height],b=[D.canvas_width];for(var Y=0;Y<H.length&&H[Y].blend!=0;Y++);}var ne=H[0],we=L.WebPDecodeRGBA(A,ne.src_off,ne.src_size,b,C);ne.rgba=we,ne.imgwidth=b[0],ne.imgheight=C[0];for(var ue=0;ue<b[0]*C[0]*4;ue++)j[ue]=we[ue];return this.width=b,this.height=C,this.data=j,this}(function(r){var e=function(){return typeof L1=="function"},t=function(C,b,j,L){var A=4,E=l;switch(L){case r.image_compression.FAST:A=1,E=o;break;case r.image_compression.MEDIUM:A=6,E=u;break;case r.image_compression.SLOW:A=9,E=h}C=n(C,b,j,E);var D=L1(C,{level:A});return r.__addimage__.arrayBufferToBinaryString(D)},n=function(C,b,j,L){for(var A,E,D,H=C.length/b,Y=new Uint8Array(C.length+H),ne=v(),we=0;we<H;we+=1){if(D=we*b,A=C.subarray(D,D+b),L)Y.set(L(A,j,E),D+we);else{for(var ue,Q=ne.length,ye=[];ue<Q;ue+=1)ye[ue]=ne[ue](A,j,E);var pe=x(ye.concat());Y.set(ye[pe],D+we)}E=A}return Y},s=function(C){var b=Array.apply([],C);return b.unshift(0),b},o=function(C,b){var j,L=[],A=C.length;L[0]=1;for(var E=0;E<A;E+=1)j=C[E-b]||0,L[E+1]=C[E]-j+256&255;return L},l=function(C,b,j){var L,A=[],E=C.length;A[0]=2;for(var D=0;D<E;D+=1)L=j&&j[D]||0,A[D+1]=C[D]-L+256&255;return A},u=function(C,b,j){var L,A,E=[],D=C.length;E[0]=3;for(var H=0;H<D;H+=1)L=C[H-b]||0,A=j&&j[H]||0,E[H+1]=C[H]+256-(L+A>>>1)&255;return E},h=function(C,b,j){var L,A,E,D,H=[],Y=C.length;H[0]=4;for(var ne=0;ne<Y;ne+=1)L=C[ne-b]||0,A=j&&j[ne]||0,E=j&&j[ne-b]||0,D=f(L,A,E),H[ne+1]=C[ne]-D+256&255;return H},f=function(C,b,j){if(C===b&&b===j)return C;var L=Math.abs(b-j),A=Math.abs(C-j),E=Math.abs(C+b-j-j);return L<=A&&L<=E?C:A<=E?b:j},v=function(){return[s,o,l,u,h]},x=function(C){var b=C.map(function(j){return j.reduce(function(L,A){return L+Math.abs(A)},0)});return b.indexOf(Math.min.apply(null,b))};r.processPNG=function(C,b,j,L){var A,E,D,H,Y,ne,we,ue,Q,ye,pe,B,V,ie,ee,Se=this.decode.FLATE_DECODE,ke="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(D=new tw(C)).imgData,E=D.bits,A=D.colorSpace,Y=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){Q=(ue=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,pe=new Uint8Array(Q*D.colors),ye=new Uint8Array(Q);var Ne,re=D.pixelBitlength-D.bits;for(ie=0,ee=0;ie<Q;ie++){for(V=ue[ie],Ne=0;Ne<re;)pe[ee++]=V>>>Ne&255,Ne+=D.bits;ye[ie]=V>>>Ne&255}}if(D.bits===16){Q=(ue=new Uint32Array(D.decodePixels().buffer)).length,pe=new Uint8Array(Q*(32/D.pixelBitlength)*D.colors),ye=new Uint8Array(Q*(32/D.pixelBitlength)),B=D.colors>1,ie=0,ee=0;for(var se=0;ie<Q;)V=ue[ie++],pe[ee++]=V>>>0&255,B&&(pe[ee++]=V>>>16&255,V=ue[ie++],pe[ee++]=V>>>0&255),ye[se++]=V>>>16&255;E=8}L!==r.image_compression.NONE&&e()?(C=t(pe,D.width*D.colors,D.colors,L),we=t(ye,D.width,1,L)):(C=pe,we=ye,Se=void 0)}if(D.colorType===3&&(A=this.color_spaces.INDEXED,ne=D.palette,D.transparency.indexed)){var I=D.transparency.indexed,ae=0;for(ie=0,Q=I.length;ie<Q;++ie)ae+=I[ie];if((ae/=255)===Q-1&&I.indexOf(0)!==-1)H=[I.indexOf(0)];else if(ae!==Q){for(ue=D.decodePixels(),ye=new Uint8Array(ue.length),ie=0,Q=ue.length;ie<Q;ie++)ye[ie]=I[ue[ie]];we=t(ye,D.width,1)}}var N=function(M){var $;switch(M){case r.image_compression.FAST:$=11;break;case r.image_compression.MEDIUM:$=13;break;case r.image_compression.SLOW:$=14;break;default:$=12}return $}(L);return Se===this.decode.FLATE_DECODE&&(ke="/Predictor "+N+" "),ke+="/Colors "+Y+" /BitsPerComponent "+E+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(we&&this.__addimage__.isArrayBuffer(we)||this.__addimage__.isArrayBufferView(we))&&(we=this.__addimage__.arrayBufferToBinaryString(we)),{alias:j,data:C,index:b,filter:Se,decodeParameters:ke,transparency:H,palette:ne,sMask:we,predictor:N,width:D.width,height:D.height,bitsPerComponent:E,colorSpace:A}}}})(_t.API),function(r){r.processGIF89A=function(e,t,n,s){var o=new rw(e),l=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:u},v=new t1(100).encode(f,100);return r.processJPEG.call(this,v,t,n,s)},r.processGIF87A=r.processGIF89A}(_t.API),Ls.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ls.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){wr.log("bit decode error:"+t)}},Ls.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ls.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*s*4,u=o>>4,h=15&o,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*s+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Ls.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Ls.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,v=n*this.width*4+4*s;this.data[v]=h,this.data[v+1]=u,this.data[v+2]=l,this.data[v+3]=f}this.pos+=r}},Ls.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,v=s*this.width*4+4*o;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=255}this.pos+=r}},Ls.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Ls.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=l}},Ls.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var o=new Ls(e,!1),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},f=new t1(100).encode(h,100);return r.processJPEG.call(this,f,t,n,s)}}(_t.API),_2.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var o=new _2(e),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},f=new t1(100).encode(h,100);return r.processJPEG.call(this,f,t,n,s)}}(_t.API),_t.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),u=0,h=0,f=0;f<s;f+=4){var v=n[f],x=n[f+1],C=n[f+2],b=n[f+3];o[u++]=v,o[u++]=x,o[u++]=C,l[h++]=b}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},_t.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jc=_t.API,ph=Jc.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,h=u.fof?u.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,v=f.fof?f.fof:1,x=e.doKerning!==!1,C=0,b=r.length,j=0,L=u[0]||h,A=[];for(t=0;t<b;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?A.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+l*(1e3/o)||0)/1e3):(C=x&&gr(f[n])==="object"&&!isNaN(parseInt(f[n][j],10))?f[n][j]/v:0,A.push((u[n]||L)/h+C)),j=n;return A},y2=Jc.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Jc.processArabic&&(r=Jc.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:ph.apply(this,arguments).reduce(function(o,l){return o+l},0)},x2=function(r,e,t,n){for(var s=[],o=0,l=r.length,u=0;o!==l&&u+e[o]<t;)u+=e[o],o++;s.push(r.slice(0,o));var h=o;for(u=0;o!==l;)u+e[o]>n&&(s.push(r.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&s.push(r.slice(h,o)),s},w2=function(r,e,t){t||(t={});var n,s,o,l,u,h,f,v=[],x=[v],C=t.textIndent||0,b=0,j=0,L=r.split(" "),A=ph.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var E=Array(h).join(" "),D=[];L.map(function(Y){(Y=Y.split(/\s*\n/)).length>1?D=D.concat(Y.map(function(ne,we){return(we&&ne.length?`
`:"")+ne})):D.push(Y[0])}),L=D,h=y2.apply(this,[E,t])}for(o=0,l=L.length;o<l;o++){var H=0;if(n=L[o],h&&n[0]==`
`&&(n=n.substr(1),H=1),C+b+(j=(s=ph.apply(this,[n,t])).reduce(function(Y,ne){return Y+ne},0))>e||H){if(j>e){for(u=x2.apply(this,[n,s,e-(C+b),e]),v.push(u.shift()),v=[u.pop()];u.length;)x.push([u.shift()]);j=s.slice(n.length-(v[0]?v[0].length:0)).reduce(function(Y,ne){return Y+ne},0)}else v=[n];x.push(v),C=j+h,b=A}else v.push(n),C+=b+j,b=A}return f=h?function(Y,ne){return(ne?E:"")+Y.join(" ")}:function(Y){return Y.join(" ")},x.map(f)},Jc.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var x=this.internal.getFont(v.fontName,v.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,h,f=[];for(u=0,h=n.length;u<h;u++)f=f.concat(w2.apply(this,[n[u],l,o]));return f},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=r.__fontmetrics__.compress=function(x){var C,b,j,L,A=["{"];for(var E in x){if(C=x[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=o(E).slice(2)).slice(0,-1)+n[b.slice(-1)]),typeof C=="number")C<0?(j=o(C).slice(3),L="-"):(j=o(C).slice(2),L=""),j=L+j.slice(0,-1)+n[j.slice(-1)];else{if(gr(C)!=="object")throw new Error("Don't know what to do with value type "+gr(C)+".");j=l(C)}A.push(b+j)}return A.push("}"),A.join("")},u=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,b,j,L,A={},E=1,D=A,H=[],Y="",ne="",we=x.length-1,ue=1;ue<we;ue+=1)(L=x[ue])=="'"?C?(j=C.join(""),C=void 0):C=[]:C?C.push(L):L=="{"?(H.push([D,j]),D={},j=void 0):L=="}"?((b=H.pop())[0][b[1]]=D,j=void 0,D=b[0]):L=="-"?E=-1:j===void 0?t.hasOwnProperty(L)?(Y+=t[L],j=parseInt(Y,16)*E,E=1,Y=""):Y+=L:t.hasOwnProperty(L)?(ne+=t[L],D[j]=parseInt(ne,16)*E,E=1,j=void 0,ne=""):ne+=L;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var C=x.font,b=v.Unicode[C.postScriptName];b&&(C.metadata.Unicode={},C.metadata.Unicode.widths=b.widths,C.metadata.Unicode.kerning=b.kerning);var j=f.Unicode[C.postScriptName];j&&(C.metadata.Unicode.encoding=j,C.encoding=j.codePages[0])}])}(_t.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=t.charCodeAt(o);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(ed(u)),l.metadata=r.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,n)}}])}(_t),function(r){function e(){return(kt.canvg?Promise.resolve(kt.canvg):ol(()=>import("./index.es-ObrL2O7H.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}_t.API.addSvgAsImage=function(t,n,s,o,l,u,h,f){if(isNaN(n)||isNaN(s))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=o,v.height=l;var x=v.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,v.width,v.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(j){return j.fromString(x,t,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(C)}).then(function(){b.addImage(v.toDataURL("image/jpeg",1),n,s,o,l,h,f)})}}(),_t.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},_t.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],f=0,v=0,x=0;function C(j,L){var A,E=!1;for(A=0;A<j.length;A+=1)j[A]===L&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var b=u.length;for(x=0;x<b;x+=1)t[u[x]].value=t[u[x]].defaultValue,t[u[x]].explicitSet=!1}if(gr(r)==="object"){for(s in r)if(o=r[s],C(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&C(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(f=0;f<o.length;f+=1)if(n=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(v=0;v<o[f].length;v+=1)typeof o[f][v]!="number"&&(n=!1);n===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,L=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?L.push("/"+j+" /"+t[j].value):L.push("/"+j+" "+t[j].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+l.length+u.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(r){var e=r.API,t=e.pdfEscape16=function(o,l){for(var u,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],v=[""],x=0,C=o.length;x<C;++x){if(u=l.metadata.characterToGlyph(o.charCodeAt(x)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=o.charCodeAt(x),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return v.join("");u=u.toString(16),v.push(f[4-u.length],u)}return v.join("")},n=function(o){var l,u,h,f,v,x,C;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,C=(u=Object.keys(o).sort(function(b,j){return b-j})).length;x<C;x++)l=u[x],h.length>=100&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(f=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,f=l.newObject,v=l.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,C=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",j=0;j<C.length;j++)b+=String.fromCharCode(C[j]);var L=f();v({data:b,addLength1:!0,objectId:L}),h("endobj");var A=f();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:A}),h("endobj");var E=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+tu(u.fontName)),h("/FontFile2 "+L+" 0 R"),h("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var D=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+tu(u.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+r.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+A+" 0 R"),h("/BaseFont /"+tu(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+D+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,f=l.newObject,v=l.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,C="",b=0;b<x.length;b++)C+=String.fromCharCode(x[b]);var j=f();v({data:C,addLength1:!0,objectId:j}),h("endobj");var L=f();v({data:n(u.metadata.toUnicode),addLength1:!0,objectId:L}),h("endobj");var A=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+j+" 0 R"),h("/Flags 96"),h("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+tu(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+tu(u.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,u=o.text||"",h=o.x,f=o.y,v=o.options||{},x=o.mutex||{},C=x.pdfEscape,b=x.activeFontKey,j=x.fonts,L=b,A="",E=0,D="",H=j[L].encoding;if(j[L].encoding!=="Identity-H")return{text:u,x:h,y:f,options:v,mutex:x};for(D=u,L=b,Array.isArray(u)&&(D=u[0]),E=0;E<D.length;E+=1)j[L].metadata.hasOwnProperty("cmap")&&(l=j[L].metadata.cmap.unicode.codeMap[D[E].charCodeAt(0)]),l||D[E].charCodeAt(0)<256&&j[L].metadata.hasOwnProperty("Unicode")?A+=D[E]:A+="";var Y="";return parseInt(L.slice(1))<14||H==="WinAnsiEncoding"?Y=C(A,L).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(Y=t(A,j[L])),x.isHex=!0,{text:Y,x:h,y:f,options:v,mutex:x}};e.events.push(["postProcessText",function(o){var l=o.text||"",u=[],h={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([s(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(s(Object.assign({},h,{text:l[f]})).text);o.text=u}else o.text=s(Object.assign({},h,{text:l})).text}])}(_t),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(_t.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,o,l,u,h,f,v,x=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,H=0;this.__bidiEngine__={};var Y=function(B){var V=B.charCodeAt(),ie=V>>8,ee=L[ie];return ee!==void 0?x[256*ee+(255&V)]:ie===252||ie===253?"AL":E.test(ie)?"L":ie===8?"R":"N"},ne=function(B){for(var V,ie=0;ie<B.length;ie++){if((V=Y(B.charAt(ie)))==="L")return!1;if(V==="R")return!0}return!1},we=function(B,V,ie,ee){var Se,ke,Ne,re,se=V[ee];switch(se){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(se="AN");break;case"AL":D=!0,se="R";break;case"WS":se="N";break;case"CS":ee<1||ee+1>=V.length||(Se=ie[ee-1])!=="EN"&&Se!=="AN"||(ke=V[ee+1])!=="EN"&&ke!=="AN"?se="N":D&&(ke="AN"),se=ke===Se?ke:"N";break;case"ES":se=(Se=ee>0?ie[ee-1]:"B")==="EN"&&ee+1<V.length&&V[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&ie[ee-1]==="EN"){se="EN";break}if(D){se="N";break}for(Ne=ee+1,re=V.length;Ne<re&&V[Ne]==="ET";)Ne++;se=Ne<re&&V[Ne]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(re=V.length,Ne=ee+1;Ne<re&&V[Ne]==="NSM";)Ne++;if(Ne<re){var I=B[ee],ae=I>=1425&&I<=2303||I===64286;if(Se=V[Ne],ae&&(Se==="R"||Se==="AL")){se="R";break}}}se=ee<1||(Se=V[ee-1])==="B"?"N":ie[ee-1];break;case"B":D=!1,s=!0,se=H;break;case"S":o=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":se="N"}return se},ue=function(B,V,ie){var ee=B.split("");return ie&&Q(ee,ie,{hiLevel:H}),ee.reverse(),V&&V.reverse(),ee.join("")},Q=function(B,V,ie){var ee,Se,ke,Ne,re,se=-1,I=B.length,ae=0,N=[],M=H?b:C,$=[];for(D=!1,s=!1,o=!1,Se=0;Se<I;Se++)$[Se]=Y(B[Se]);for(ke=0;ke<I;ke++){if(re=ae,N[ke]=we(B,$,N,ke),ee=240&(ae=M[re][j[N[ke]]]),ae&=15,V[ke]=Ne=M[ae][5],ee>0)if(ee===16){for(Se=se;Se<ke;Se++)V[Se]=1;se=-1}else se=-1;if(M[ae][6])se===-1&&(se=ke);else if(se>-1){for(Se=se;Se<ke;Se++)V[Se]=Ne;se=-1}$[ke]==="B"&&(V[ke]=0),ie.hiLevel|=Ne}o&&function(z,W,K){for(var de=0;de<K;de++)if(z[de]==="S"){W[de]=H;for(var me=de-1;me>=0&&z[me]==="WS";me--)W[me]=H}}($,V,I)},ye=function(B,V,ie,ee,Se){if(!(Se.hiLevel<B)){if(B===1&&H===1&&!s)return V.reverse(),void(ie&&ie.reverse());for(var ke,Ne,re,se,I=V.length,ae=0;ae<I;){if(ee[ae]>=B){for(re=ae+1;re<I&&ee[re]>=B;)re++;for(se=ae,Ne=re-1;se<Ne;se++,Ne--)ke=V[se],V[se]=V[Ne],V[Ne]=ke,ie&&(ke=ie[se],ie[se]=ie[Ne],ie[Ne]=ke);ae=re}ae++}}},pe=function(B,V,ie){var ee=B.split(""),Se={hiLevel:H};return ie||(ie=[]),Q(ee,ie,Se),function(ke,Ne,re){if(re.hiLevel!==0&&v)for(var se,I=0;I<ke.length;I++)Ne[I]===1&&(se=A.indexOf(ke[I]))>=0&&(ke[I]=A[se+1])}(ee,ie,Se),ye(2,ee,V,ie,Se),ye(1,ee,V,ie,Se),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(B,V,ie){if(function(Se,ke){if(ke)for(var Ne=0;Ne<Se.length;Ne++)ke[Ne]=Ne;u===void 0&&(u=ne(Se)),f===void 0&&(f=ne(Se))}(B,V),l||!h||f)if(l&&h&&u^f)H=u?1:0,B=ue(B,V,ie);else if(!l&&h&&f)H=u?1:0,B=pe(B,V,ie),B=ue(B,V);else if(!l||u||h||f){if(l&&!h&&u^f)B=ue(B,V),u?(H=0,B=pe(B,V,ie)):(H=1,B=pe(B,V,ie),B=ue(B,V));else if(l&&u&&!h&&f)H=1,B=pe(B,V,ie),B=ue(B,V);else if(!l&&!h&&u^f){var ee=v;u?(H=1,B=pe(B,V,ie),H=0,v=!1,B=pe(B,V,ie),v=ee):(H=0,B=pe(B,V,ie),B=ue(B,V),H=1,v=!1,B=pe(B,V,ie),v=ee,B=ue(B,V))}}else H=0,B=pe(B,V,ie);else H=u?1:0,B=pe(B,V,ie);return B},this.__bidiEngine__.setOptions=function(B){B&&(l=B.isInputVisual,h=B.isOutputVisual,u=B.isInputRtl,f=B.isOutputRtl,v=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(l=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?l.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):l.push([t.doBidiReorder(s[u])]);n.text=l}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new fl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new vw(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new nw(this.contents),this.head=new sw(this),this.name=new uw(this),this.cmap=new a5(this),this.toUnicode={},this.hhea=new aw(this),this.maxp=new dw(this),this.hmtx=new hw(this),this.post=new lw(this),this.os2=new ow(this),this.loca=new mw(this),this.glyf=new fw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,f;for(f=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,o,l,u;for(l=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return l*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Ds,fl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,o,l,u,h;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*o+65536*l+256*u+h},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)t=e[n],o.push(this.writeByte(t));return o},r}(),nw=function(){var r;function e(t){var n,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,o,l,u,h,f,v,x,C,b,j,L;for(L in b=Object.keys(t).length,h=Math.log(2),x=16*Math.floor(Math.log(b)/h),l=Math.floor(x/h),v=16*b-x,(s=new fl).writeInt(this.scalarType),s.writeShort(b),s.writeShort(x),s.writeShort(l),s.writeShort(v),o=16*b,f=s.pos+o,u=null,j=[],t)for(C=t[L],s.writeString(L),s.writeInt(r(C)),s.writeInt(f),s.writeInt(C.length),j=j.concat(C),L==="head"&&(u=f),f+=C.length;f%4;)j.push(0),f++;return s.write(j),n=2981146554-r(s.data),s.pos=u+8,s.writeUInt32(n),s.data},r=function(t){var n,s,o,l;for(t=o5.call(t);t.length%4;)t.push(0);for(o=new fl(t),s=0,n=0,l=t.length;n<l;n=n+=4)s+=o.readUInt32();return 4294967295&s},e}(),iw={}.hasOwnProperty,ua=function(r,e){for(var t in e)iw.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Ds=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var sw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new fl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),k2=function(){function r(e,t){var n,s,o,l,u,h,f,v,x,C,b,j,L,A,E,D,H;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),C=b/2,e.pos+=6,o=function(){var Y,ne;for(ne=[],h=Y=0;0<=C?Y<C:Y>C;h=0<=C?++Y:--Y)ne.push(e.readUInt16());return ne}(),e.pos+=2,L=function(){var Y,ne;for(ne=[],h=Y=0;0<=C?Y<C:Y>C;h=0<=C?++Y:--Y)ne.push(e.readUInt16());return ne}(),f=function(){var Y,ne;for(ne=[],h=Y=0;0<=C?Y<C:Y>C;h=0<=C?++Y:--Y)ne.push(e.readUInt16());return ne}(),v=function(){var Y,ne;for(ne=[],h=Y=0;0<=C?Y<C:Y>C;h=0<=C?++Y:--Y)ne.push(e.readUInt16());return ne}(),s=(this.length-e.pos+this.offset)/2,u=function(){var Y,ne;for(ne=[],h=Y=0;0<=s?Y<s:Y>s;h=0<=s?++Y:--Y)ne.push(e.readUInt16());return ne}(),h=E=0,H=o.length;E<H;h=++E)for(A=o[h],n=D=j=L[h];j<=A?D<=A:D>=A;n=j<=A?++D:--D)v[h]===0?l=n+f[h]:(l=u[v[h]/2+(n-j)-(C-h)]||0)!==0&&(l+=f[h]),this.codeMap[n]=65535&l}e.pos=x}return r.encode=function(e,t){var n,s,o,l,u,h,f,v,x,C,b,j,L,A,E,D,H,Y,ne,we,ue,Q,ye,pe,B,V,ie,ee,Se,ke,Ne,re,se,I,ae,N,M,$,z,W,K,de,me,De,Oe,Ve;switch(ee=new fl,l=Object.keys(e).sort(function(Ge,mt){return Ge-mt}),t){case"macroman":for(L=0,A=function(){var Ge=[];for(j=0;j<256;++j)Ge.push(0);return Ge}(),D={0:0},o={},Se=0,se=l.length;Se<se;Se++)D[me=e[s=l[Se]]]==null&&(D[me]=++L),o[s]={old:e[s],new:D[e[s]]},A[s]=D[e[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(A),{charMap:o,subtable:ee.data,maxGlyphID:L+1};case"unicode":for(V=[],x=[],H=0,D={},n={},E=f=null,ke=0,I=l.length;ke<I;ke++)D[ne=e[s=l[ke]]]==null&&(D[ne]=++H),n[s]={old:ne,new:D[ne]},u=D[ne]-s,E!=null&&u===f||(E&&x.push(E),V.push(s),f=u),E=s;for(E&&x.push(E),x.push(65535),V.push(65535),pe=2*(ye=V.length),Q=2*Math.pow(Math.log(ye)/Math.LN2,2),C=Math.log(Q/2)/Math.LN2,ue=2*ye-Q,h=[],we=[],b=[],j=Ne=0,ae=V.length;Ne<ae;j=++Ne){if(B=V[j],v=x[j],B===65535){h.push(0),we.push(0);break}if(B-(ie=n[B].new)>=32768)for(h.push(0),we.push(2*(b.length+ye-j)),s=re=B;B<=v?re<=v:re>=v;s=B<=v?++re:--re)b.push(n[s].new);else h.push(ie-B),we.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*ye+2*b.length),ee.writeUInt16(0),ee.writeUInt16(pe),ee.writeUInt16(Q),ee.writeUInt16(C),ee.writeUInt16(ue),K=0,N=x.length;K<N;K++)s=x[K],ee.writeUInt16(s);for(ee.writeUInt16(0),de=0,M=V.length;de<M;de++)s=V[de],ee.writeUInt16(s);for(De=0,$=h.length;De<$;De++)u=h[De],ee.writeUInt16(u);for(Oe=0,z=we.length;Oe<z;Oe++)Y=we[Oe],ee.writeUInt16(Y);for(Ve=0,W=b.length;Ve<W;Ve++)L=b[Ve],ee.writeUInt16(L);return{charMap:n,subtable:ee.data,maxGlyphID:H+1}}},r}(),a5=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)n=new k2(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,o;return n==null&&(n="macroman"),s=k2.encode(t,n),(o=new fl).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e}(),aw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),ow=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),lw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(s=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)n=t.readByte(),o.push(this.names.push(t.readString(n)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var u,h,f;for(f=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e}(),cw=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,o,l,u,h,f,v,x,C,b;for(t.pos=this.offset,t.readShort(),n=t.readShort(),h=t.readShort(),s=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},l=x=0,C=s.length;x<C;l=++x)o=s[l],t.pos=o.offset,v=t.readString(o.length),u=new cw(v,o),f[b=o.nameID]==null&&(f[b]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),dw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),hw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,o,l,u,h,f;for(t.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,x;for(x=[],n=v=0;0<=o?v<o:v>o;n=0<=o?++v:--v)x.push(t.readInt16());return x}(),this.widths=(function(){var v,x,C,b;for(b=[],v=0,x=(C=this.metrics).length;v<x;v++)l=C[v],b.push(l.advance);return b}).call(this),s=this.widths[this.widths.length-1],f=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)f.push(this.widths.push(s));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),o5=[].slice,fw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,o,l,u,h,f,v,x,C;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,s=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,u=(h=new fl(n.read(o))).readShort(),v=h.readShort(),C=h.readShort(),f=h.readShort(),x=h.readShort(),this.cache[t]=u===-1?new gw(h,v,C,f,x):new pw(h,u,v,C,f,x),this.cache[t]))},e.prototype.encode=function(t,n,s){var o,l,u,h,f;for(u=[],l=[],h=0,f=n.length;h<f;h++)o=t[n[h]],l.push(u.length),o&&(u=u.concat(o.encode(s)));return l.push(u.length),{table:u,offsets:l}},e}(),pw=function(){function r(e,t,n,s,o,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),gw=function(){function r(e,t,n,s,o){var l,u;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new fl(o5.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),mw=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ds),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<s.length;++u)if(s[u]=o,l<n.length&&n[l]==u){++l,s[u]=o;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(o+=f)}for(var v=new Array(4*s.length),x=0;x<s.length;++x)v[4*x+3]=255&s[x],v[4*x+2]=(65280&s[x])>>8,v[4*x+1]=(16711680&s[x])>>16,v[4*x]=(4278190080&s[x])>>24;return v},e}(),vw=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,o,l,u,h;for(s={},l=0,u=e.length;l<u;l++)s[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(n=s[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))n=h[o],s[o]=n;return s},r.prototype.encode=function(e,t){var n,s,o,l,u,h,f,v,x,C,b,j,L,A,E;for(s in n=a5.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),b={0:0},E=n.charMap)b[(h=E[s]).old]=h.new;for(j in C=n.maxGlyphID,l)j in b||(b[j]=C++);return v=function(D){var H,Y;for(H in Y={},D)Y[D[H]]=H;return Y}(b),x=Object.keys(v).sort(function(D,H){return D-H}),L=function(){var D,H,Y;for(Y=[],D=0,H=x.length;D<H;D++)u=x[D],Y.push(v[u]);return Y}(),o=this.font.glyf.encode(l,L,b),f=this.font.loca.encode(o.offsets,L),A={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},r}();_t.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,o,l;if(Array.isArray(t))return"["+function(){var u,h,f;for(f=[],u=0,h=t.length;u<h;u++)n=t[u],f.push(e.convert(n));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)l=t[s],o.push("/"+s+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e}();function l5(r,e,t,n,s){n=n||{};var o=1.15,l=s.internal.scaleFactor,u=s.internal.getFontSize()/l,h=s.getLineHeightFactor?s.getLineHeightFactor():o,f=u*h,v=/\r\n|\r|\n/g,x="",C=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(x=typeof r=="string"?r.split(v):r,C=x.length||1),t+=u*(2-o),n.valign==="middle"?t-=C/2*f:n.valign==="bottom"&&(t-=C*f),n.halign==="center"||n.halign==="right"){var b=u;if(n.halign==="center"&&(b*=.5),x&&C>=1){for(var j=0;j<x.length;j++)s.text(x[j],e-s.getStringUnitWidth(x[j])*b,t),t+=f;return s}e-=s.getStringUnitWidth(r)*b}return n.halign==="justify"?s.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(r,e,t),s}var C2={},cu=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:C2=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),u=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(h,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=r.unifyColor(e.fillColor);v&&(n=this.jsPDFDocument).setFillColor.apply(n,v),v=r.unifyColor(e.textColor),v&&(s=this.jsPDFDocument).setTextColor.apply(s,v),v=r.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,s,o){return this.jsPDFDocument.rect(e,t,n,s,o)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return C2||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),R1=function(r,e){return R1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},R1(r,e)};function c5(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");R1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var u5=function(r){c5(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function yw(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function xw(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Ih(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],s=n.map(function(o){return t.getTextWidth(o)}).reduce(function(o,l){return Math.max(o,l)},0);return s}function d5(r,e,t,n){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;r.applyStyles({lineWidth:s,lineColor:o});var l=h5(s,!1);l&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,l)}function h5(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Vh(r,e){var t,n,s,o;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(s=r.right)!==null&&s!==void 0?s:e,bottom:(o=r.bottom)!==null&&o!==void 0?o:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function f5(r,e){var t=Vh(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function ww(r,e,t,n,s){var o={},l=1.3333333333333333,u=r1(e,function(H){return s.getComputedStyle(H).backgroundColor});u!=null&&(o.fillColor=u);var h=r1(e,function(H){return s.getComputedStyle(H).color});h!=null&&(o.textColor=h);var f=_w(n,t);f&&(o.cellPadding=f);var v="borderTopColor",x=l*t,C=n.borderTopWidth;if(n.borderBottomWidth===C&&n.borderRightWidth===C&&n.borderLeftWidth===C){var b=(parseFloat(C)||0)/x;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/x,right:(parseFloat(n.borderRightWidth)||0)/x,bottom:(parseFloat(n.borderBottomWidth)||0)/x,left:(parseFloat(n.borderLeftWidth)||0)/x},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var j=r1(e,function(H){return s.getComputedStyle(H)[v]});j!=null&&(o.lineColor=j);var L=["left","right","center","justify"];L.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),L=["middle","bottom","top"],L.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(o.fontSize=A/l);var E=bw(n);E&&(o.fontStyle=E);var D=(n.fontFamily||"").toLowerCase();return r.indexOf(D)!==-1&&(o.font=D),o}function bw(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function r1(r,e){var t=p5(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function p5(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:p5(r.parentElement,e):t}function _w(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),s=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/n}),l=Vh(o,0);return s>l.top&&(l.top=s),s>l.bottom&&(l.bottom=s),l}function g5(r,e,t,n,s){var o,l;n===void 0&&(n=!1),s===void 0&&(s=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var h=Object.keys(r.getFontList()),f=r.scaleFactor(),v=[],x=[],C=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:v,body:x,foot:C};for(var b=0;b<u.rows.length;b++){var j=u.rows[b],L=(l=(o=j==null?void 0:j.parentElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase(),A=kw(h,f,t,j,n,s);A&&(L==="thead"?v.push(A):L==="tfoot"?C.push(A):x.push(A))}return{head:v,body:x,foot:C}}function kw(r,e,t,n,s,o){for(var l=new u5(n),u=0;u<n.cells.length;u++){var h=n.cells[u],f=t.getComputedStyle(h);if(s||f.display!=="none"){var v=void 0;o&&(v=ww(r,h,e,f,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:v,_element:h,content:Cw(h)})}}var x=t.getComputedStyle(n);if(l.length>0&&(s||x.display!=="none"))return l}function Cw(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Sw(r,e,t){for(var n=0,s=[r,e,t];n<s.length;n++){var o=s[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function eo(r,e,t,n,s){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}function Nw(r,e){var t=new cu(r),n=t.getDocumentOptions(),s=t.getGlobalOptions();Sw(s,n,e);var o=eo({},s,n,e),l;typeof window<"u"&&(l=window);var u=jw(s,n,e),h=Lw(s,n,e),f=Aw(t,o),v=Ew(t,o,l);return{id:e.tableId,content:v,hooks:h,styles:u,settings:f}}function jw(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(h){if(h==="columnStyles"){var f=r[h],v=e[h],x=t[h];n.columnStyles=eo({},f,v,x)}else{var C=[r,e,t],b=C.map(function(j){return j[h]||{}});n[h]=eo({},b[0],b[1],b[2])}},o=0,l=Object.keys(n);o<l.length;o++){var u=l[o];s(u)}return n}function Lw(r,e,t){for(var n=[r,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,l=n;o<l.length;o++){var u=l[o];u.didParseCell&&s.didParseCell.push(u.didParseCell),u.willDrawCell&&s.willDrawCell.push(u.willDrawCell),u.didDrawCell&&s.didDrawCell.push(u.didDrawCell),u.willDrawPage&&s.willDrawPage.push(u.willDrawPage),u.didDrawPage&&s.didDrawPage.push(u.didDrawPage)}return s}function Aw(r,e){var t,n,s,o,l,u,h,f,v,x,C,b,j=Vh(e.margin,40/r.scaleFactor()),L=(t=Pw(r,e.startY))!==null&&t!==void 0?t:j.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var D=(o=e.useCss)!==null&&o!==void 0?o:!1,H=e.theme||(D?"plain":"striped"),Y=!!e.horizontalPageBreak,ne=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:D,theme:H,startY:L,margin:j,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:E,showFoot:A,tableLineWidth:(x=e.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(C=e.tableLineColor)!==null&&C!==void 0?C:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:ne,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function Pw(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),s=r.pageNumber(),o=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;o=l===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function Ew(r,e,t){var n=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var u=g5(r,e.html,t,l,e.useCss)||{};n=u.head||n,s=u.body||n,o=u.foot||n}else console.error("Cannot parse html in non browser environment")}var h=e.columns||Tw(n,s,o);return{columns:h,head:n,body:s,foot:o}}function Tw(r,e,t){var n=r[0]||e[0]||t[0]||[],s=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var l=1,u;Array.isArray(n)?u=n[parseInt(o)]:u=n[o],typeof u=="object"&&!Array.isArray(u)&&(l=(u==null?void 0:u.colSpan)||1);for(var h=0;h<l;h++){var f=void 0;Array.isArray(n)?f=s.length:f=o+(h>0?"_".concat(h):"");var v={dataKey:f};s.push(v)}}),s}var D1=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),Iw=function(r){c5(e,r);function e(t,n,s,o,l,u){var h=r.call(this,t,n,u)||this;return h.cell=s,h.row=o,h.column=l,h.section=o.section,h}return e}(D1),Fw=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,s,o,l){for(var u=0,h=t;u<h.length;u++){var f=h[u],v=new Iw(e,this,n,s,o,l),x=f(v)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],x)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var o=s[n];o(new D1(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var o=s[n];o(new D1(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),m5=function(){function r(e,t,n,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof u5&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=s,this.spansMultiplePages=o}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,s){var o;return Math.max(n,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var s=t.cells[n.index];return s?s.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(s,o){var l=n.cells[o.index];if(!l)return 0;var u=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),f=h+u;return f>s?f:s},0)},r}(),v5=function(){function r(e,t,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=l.split(u)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=n*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Vh(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),Rw=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,s=e.allRows();n<s.length;n++){var o=s[n],l=o.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},r}();function Dw(r,e){Ow(r,e);var t=[],n=0;e.columns.forEach(function(o){var l=o.getMaxCustomCellWidth(e);l?o.width=l:(o.width=o.wrappedWidth,t.push(o)),n+=o.width});var s=e.getWidth(r.pageSize().width)-n;s&&(s=O1(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=O1(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/r.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),Bw(e),Uw(e,r),Mw(e)}function Ow(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,s=f5(r,e);e.allRows().forEach(function(o){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],f=o.cells[h.index];if(f){var v=e.hooks.didParseCell;e.callCellHooks(r,v,f,o,h,null);var x=f.padding("horizontal");f.contentWidth=Ih(f.text,f.styles,r)+x;var C=Ih(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,r);if(f.minReadableWidth=C+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/t;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var v=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},x=v.cellWidth||v.minCellWidth;x&&typeof x=="number"&&(h.minWidth=x,h.wrappedWidth=x)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function O1(r,e,t){for(var n=e,s=r.reduce(function(b,j){return b+j.wrappedWidth},0),o=0;o<r.length;o++){var l=r[o],u=l.wrappedWidth/s,h=n*u,f=l.width+h,v=t(l),x=f<v?v:f;e-=x-l.width,l.width=x}if(e=Math.round(e*1e10)/1e10,e){var C=r.filter(function(b){return e<0?b.width>t(b):!0});C.length&&(e=O1(C,e,t))}return e}function Mw(r){for(var e={},t=1,n=r.allRows(),s=0;s<n.length;s++)for(var o=n[s],l=0,u=r.columns;l<u.length;l++){var h=u[l],f=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,t=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var v=o.cells[h.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var x=n.length-s,C=v.rowSpan>x?x:v.rowSpan;e[h.index]={cell:v,left:C,row:o}}}}}function Bw(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],s=null,o=0,l=0,u=0;u<r.columns.length;u++){var h=r.columns[u];if(l-=1,l>1&&r.columns[u+1])o+=h.width,delete n.cells[h.index];else if(s){var f=s;delete n.cells[h.index],s=null,f.width=h.width+o}else{var f=n.cells[h.index];if(!f)continue;if(l=f.colSpan,o=0,f.colSpan>1){s=f,o+=h.width;continue}f.width=h.width+o}}}function Uw(r,e){for(var t={count:0,height:0},n=0,s=r.allRows();n<s.length;n++){for(var o=s[n],l=0,u=r.columns;l<u.length;l++){var h=u[l],f=o.cells[h.index];if(f){e.applyStyles(f.styles,!0);var v=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,v+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=S2(f.text,v,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=S2(f.text,v,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var x=f.styles.overflow(f.text,v);typeof x=="string"?f.text=[x]:f.text=x}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var C=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<C*f.rowSpan?t={height:C,count:f.rowSpan}:t&&t.count>0&&t.height>C&&(C=t.height),C>o.height&&(o.height=C)}}t.count--}}function S2(r,e,t,n,s){return r.map(function(o){return zw(o,e,t,n,s)})}function zw(r,e,t,n,s){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Ih(r,t,n))return r;for(;e<Ih(r+s,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+s}function qw(r,e){var t=new cu(r),n=$w(e,t.scaleFactor()),s=new Fw(e,n);return Dw(t,s),t.applyStyles(t.userStyles),s}function $w(r,e){var t=r.content,n=Ww(t.columns);if(t.head.length===0){var s=N2(n,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=N2(n,"foot");s&&t.foot.push(s)}var o=r.settings.theme,l=r.styles;return{columns:n,head:n1("head",t.head,n,l,o,e),body:n1("body",t.body,n,l,o,e),foot:n1("foot",t.foot,n,l,o,e)}}function n1(r,e,t,n,s,o){var l={},u=e.map(function(h,f){for(var v=0,x={},C=0,b=0,j=0,L=t;j<L.length;j++){var A=L[j];if(l[A.index]==null||l[A.index].left===0)if(b===0){var E=void 0;Array.isArray(h)?E=h[A.index-C-v]:E=h[A.dataKey];var D={};typeof E=="object"&&!Array.isArray(E)&&(D=(E==null?void 0:E.styles)||{});var H=Vw(r,A,f,s,n,o,D),Y=new v5(E,H,r);x[A.dataKey]=Y,x[A.index]=Y,b=Y.colSpan-1,l[A.index]={left:Y.rowSpan-1,times:b}}else b--,C++;else l[A.index].left--,b=l[A.index].times,v++}return new m5(h,f,r,x)});return u}function N2(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var s=Hw(e,n.raw);s!=null&&(t[n.dataKey]=s)}}),Object.keys(t).length>0?t:null}function Hw(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function Ww(r){return r.map(function(e,t){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:t:s=t,new Rw(s,e,t)})}function Vw(r,e,t,n,s,o,l){var u=xw(n),h;r==="head"?h=s.headStyles:r==="body"?h=s.bodyStyles:r==="foot"&&(h=s.footStyles);var f=eo({},u.table,u[r],s.styles,h),v=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},x=r==="body"?v:{},C=r==="body"&&t%2===0?eo({},u.alternateRow,s.alternateRowStyles):{},b=yw(o),j=eo({},b,f,C,x);return eo(j,l)}function Zw(r,e,t){var n;t===void 0&&(t={});var s=f5(r,e),o=new Map,l=[],u=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(C){var b=e.columns.find(function(j){return j.dataKey===C||j.index===C});b&&!o.has(b.index)&&(o.set(b.index,!0),l.push(b.index),u.push(e.columns[b.index]),s-=b.wrappedWidth)});for(var f=!0,v=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;v<e.columns.length;){if(o.has(v)){v++;continue}var x=e.columns[v].wrappedWidth;if(f||s>=x)f=!1,l.push(v),u.push(e.columns[v]),s-=x;else break;v++}return{colIndexes:l,columns:u,lastIndex:v-1}}function Gw(r,e){for(var t=[],n=0;n<e.columns.length;n++){var s=Zw(r,e,{start:n});s.columns.length&&(t.push(s),n=s.lastIndex)}return t}function Yw(r,e){var t=e.settings,n=t.startY,s=t.margin,o={x:s.left,y:n},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+s.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(C,b){return C+b.height},0);u+=f}var v=new cu(r);(t.pageBreak==="always"||t.startY!=null&&u>v.pageSize().height)&&(x5(v),o.y=s.top),e.callWillDrawPageHooks(v,o);var x=eo({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?Jw(v,e,x,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(C){return ro(v,e,C,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(C,b){var j=b===e.body.length-1;Fh(v,e,C,j,x,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(C){return ro(v,e,C,o,e.columns)})),d5(v,e,x,o),e.callEndPageHooks(v,o),e.finalY=o.y,r.lastAutoTable=e,v.applyStyles(v.userStyles)}function Jw(r,e,t,n){var s=Gw(r,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,v){r.applyStyles(r.userStyles),v>0?td(r,e,t,n,f.columns,!0):j2(r,e,n,f.columns),Kw(r,e,t,n,f.columns),i1(r,e,n,f.columns)});else for(var l=-1,u=s[0],h=function(){var f=l;if(u){r.applyStyles(r.userStyles);var v=u.columns;l>=0?td(r,e,t,n,v,!0):j2(r,e,n,v),f=L2(r,e,l+1,n,v),i1(r,e,n,v)}var x=f-l;s.slice(1).forEach(function(C){r.applyStyles(r.userStyles),td(r,e,t,n,C.columns,!0),L2(r,e,l+1,n,C.columns,x),i1(r,e,n,C.columns)}),l=f};l<e.body.length-1;)h()}function j2(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return ro(r,e,o,t,n)})}function Kw(r,e,t,n,s){r.applyStyles(r.userStyles),e.body.forEach(function(o,l){var u=l===e.body.length-1;Fh(r,e,o,u,t,n,s)})}function L2(r,e,t,n,s,o){r.applyStyles(r.userStyles),o=o??e.body.length;var l=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,l).forEach(function(h,f){var v=t+f===e.body.length-1,x=y5(r,e,v,n);h.canEntireRowFit(x,s)&&(ro(r,e,h,n,s),u=t+f)}),u}function i1(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return ro(r,e,o,t,n)})}function Xw(r,e,t){var n=t.getLineHeight(r.styles.fontSize),s=r.padding("vertical"),o=Math.floor((e-s)/n);return Math.max(0,o)}function Qw(r,e,t,n){var s={};r.spansMultiplePages=!0,r.height=0;for(var o=0,l=0,u=t.columns;l<u.length;l++){var h=u[l],f=r.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var v=new v5(f.raw,f.styles,f.section);v=eo(v,f),v.text=[];var x=Xw(f,e,n);f.text.length>x&&(v.text=f.text.splice(x,f.text.length));var C=n.scaleFactor(),b=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(C,b),f.contentHeight>=e&&(f.contentHeight=e,v.styles.minCellHeight-=e),f.contentHeight>r.height&&(r.height=f.contentHeight),v.contentHeight=v.getContentHeight(C,b),v.contentHeight>o&&(o=v.contentHeight),s[h.index]=v}}var j=new m5(r.raw,-1,r.section,s,!0);j.height=o;for(var L=0,A=t.columns;L<A.length;L++){var h=A[L],v=j.cells[h.index];v&&(v.height=j.height);var f=r.cells[h.index];f&&(f.height=r.height)}return j}function e6(r,e,t,n){var s=r.pageSize().height,o=n.settings.margin,l=o.top+o.bottom,u=s-l;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var h=e.getMinimumRowHeight(n.columns,r),f=h<t;if(h>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var v=e.hasRowSpan(n.columns),x=e.getMaxCellHeight(n.columns)>u;return x?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||n.settings.rowPageBreak==="avoid")}function Fh(r,e,t,n,s,o,l){var u=y5(r,e,n,o);if(t.canEntireRowFit(u,l))ro(r,e,t,o,l);else if(e6(r,t,u,e)){var h=Qw(t,u,e,r);ro(r,e,t,o,l),td(r,e,s,o,l),Fh(r,e,h,n,s,o,l)}else td(r,e,s,o,l),Fh(r,e,t,n,s,o,l)}function ro(r,e,t,n,s){n.x=e.settings.margin.left;for(var o=0,l=s;o<l.length;o++){var u=l[o],h=t.cells[u.index];if(!h){n.x+=u.width;continue}r.applyStyles(h.styles),h.x=n.x,h.y=n.y;var f=e.callCellHooks(r,e.hooks.willDrawCell,h,t,u,n);if(f===!1){n.x+=u.width;continue}t6(r,h,n);var v=h.getTextPos();l5(h.text,v.x,v.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,h,t,u,n),n.x+=u.width}n.y+=t.height}function t6(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=h5(n.lineWidth,n.fillColor);s&&r.rect(e.x,t.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),r6(r,e,t,n.lineWidth))}function r6(r,e,t,n){var s,o,l,u;n.top&&(s=t.x,o=t.y,l=t.x+e.width,u=t.y,n.right&&(l+=.5*n.right),n.left&&(s-=.5*n.left),h(n.top,s,o,l,u)),n.bottom&&(s=t.x,o=t.y+e.height,l=t.x+e.width,u=t.y+e.height,n.right&&(l+=.5*n.right),n.left&&(s-=.5*n.left),h(n.bottom,s,o,l,u)),n.left&&(s=t.x,o=t.y,l=t.x,u=t.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(u+=.5*n.bottom),h(n.left,s,o,l,u)),n.right&&(s=t.x+e.width,o=t.y,l=t.x+e.width,u=t.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(u+=.5*n.bottom),h(n.right,s,o,l,u));function h(f,v,x,C,b){r.getDocument().setLineWidth(f),r.getDocument().line(v,x,C,b,"S")}}function y5(r,e,t,n){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-s}function td(r,e,t,n,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return ro(r,e,u,n,s)}),e.callEndPageHooks(r,n);var l=e.settings.margin;d5(r,e,t,n),x5(r),e.pageNumber++,n.x=l.left,n.y=l.top,t.y=l.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return ro(r,e,u,n,s)}),r.applyStyles(r.userStyles))}function x5(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function n6(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],s=Nw(this,n),o=qw(this,s);return Yw(this,o),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,s){l5(e,t,n,s,this)},r.API.autoTableSetDefaults=function(e){return cu.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){cu.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new cu(this),o=g5(s,e,window,t,!1),l=o.head,u=o.body,h=((n=l[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:h,rows:u,data:u}}}var s1;try{if(typeof window<"u"&&window){var A2=window,P2=A2.jsPDF||((s1=A2.jspdf)===null||s1===void 0?void 0:s1.jsPDF);P2&&n6(P2)}}catch(r){console.error("Could not apply autoTable plugin",r)}const n0={Classic:{primary:"#14263a",secondary:"#909193",accent:"#fe2746",headerBar:"#8f9194",headerBg:"#edefec",textLight:"#ffffff",textDark:"#14263b",tableBgPrimary:"#eceeeb",tableBgSecondary:"#fbfbf9"},"Sapphire & Gold":{primary:"#0F2C59",secondary:"#5A6D8C",accent:"#D4AF37",headerBar:"#5A6D8C",headerBg:"#F5F5F5",textLight:"#FFFFFF",textDark:"#0A1D3A",tableBgPrimary:"#EAEFF5",tableBgSecondary:"#FFFFFF"},"Emerald & Silver":{primary:"#0D4C46",secondary:"#5E8C82",accent:"#00A896",headerBar:"#5E8C82",headerBg:"#E8F5E9",textLight:"#FFFFFF",textDark:"#072A26",tableBgPrimary:"#D8EBE4",tableBgSecondary:"#F7FBF9"},"Ruby & Slate":{primary:"#4A0E1A",secondary:"#8C5A66",accent:"#D90429",headerBar:"#8C5A66",headerBg:"#FCE4E8",textLight:"#FFFFFF",textDark:"#2D0810",tableBgPrimary:"#F6DDE2",tableBgSecondary:"#FCF6F7"},"Amethyst & Pearl":{primary:"#4C3B4D",secondary:"#8C7A8C",accent:"#A480F2",headerBar:"#8C7A8C",headerBg:"#F4F1F5",textLight:"#FFFFFF",textDark:"#2E232E",tableBgPrimary:"#EBE5EC",tableBgSecondary:"#FBF9FB"},"Ocean & Coral":{primary:"#0A4D68",secondary:"#5A8C9E",accent:"#FF7B54",headerBar:"#5A8C9E",headerBg:"#E6F4F1",textLight:"#FFFFFF",textDark:"#062D3D",tableBgPrimary:"#D6EAE1",tableBgSecondary:"#F6FAF8"},"Sunset & Vineyard":{primary:"#4A2545",secondary:"#8C6A87",accent:"#FF8C42",headerBar:"#8C6A87",headerBg:"#FCEEE4",textLight:"#FFFFFF",textDark:"#2C1629",tableBgPrimary:"#F6E6D8",tableBgSecondary:"#FCFAF7"},"Forest & Birch":{primary:"#2C3E50",secondary:"#5D6D7E",accent:"#18BC9C",headerBar:"#5D6D7E",headerBg:"#ECF0F1",textLight:"#FFFFFF",textDark:"#17202A",tableBgPrimary:"#E1E8EA",tableBgSecondary:"#F8F9F9"},"Midnight & Mint":{primary:"#1D2D44",secondary:"#5A6B8A",accent:"#66FCF1",headerBar:"#5A6B8A",headerBg:"#F0F7F8",textLight:"#FFFFFF",textDark:"#0B0C10",tableBgPrimary:"#D6E9E8",tableBgSecondary:"#F5FAFA"},"Charcoal & Amber":{primary:"#252525",secondary:"#555555",accent:"#FFC700",headerBar:"#555555",headerBg:"#F5F5F5",textLight:"#FFFFFF",textDark:"#000000",tableBgPrimary:"#EAEAEA",tableBgSecondary:"#FFFFFF"},"Plum & Copper":{primary:"#5D3A63",secondary:"#9A7AA0",accent:"#B87333",headerBar:"#9A7AA0",headerBg:"#F4EFF5",textLight:"#FFFFFF",textDark:"#3A243D",tableBgPrimary:"#EBE2EC",tableBgSecondary:"#FBF8FB"},"Teal & Terracotta":{primary:"#008080",secondary:"#5AA0A0",accent:"#E2725B",headerBar:"#5AA0A0",headerBg:"#E6F2F2",textLight:"#FFFFFF",textDark:"#004D4D",tableBgPrimary:"#D6E7E7",tableBgSecondary:"#F6FBFB"}},E2={"Times-Italic":{url:"",jspdfName:"times",style:"italic"},Caveat:{url:"https://cdn.jsdelivr.net/gh/astronyu/signaturefonts@main/fonts/Caveat-Regular-normal.js",jspdfName:"Caveat",style:"normal"},"Dancing Script":{url:"https://cdn.jsdelivr.net/gh/astronyu/signaturefonts@main/fonts/DancingScript-Regular-normal.js",jspdfName:"DancingScript",style:"normal"},"Great Vibes":{url:"https://cdn.jsdelivr.net/gh/astronyu/signaturefonts@main/fonts/GreatVibes-Regular-normal.js",jspdfName:"GreatVibes",style:"normal"},Pacifico:{url:"https://cdn.jsdelivr.net/gh/astronyu/signaturefonts@main/fonts/Pacifico-Regular-normal.js",jspdfName:"Pacifico",style:"normal"}};typeof window<"u"&&(window.jsPDF=_t);(async()=>{console.log("[PDF Generator] Starting pre-loading of custom fonts...");for(const r in E2){const e=E2[r];if(e.url)try{await import(e.url),console.log(`[PDF Generator] Successfully pre-loaded font: ${r}`)}catch(t){console.error(`[PDF Generator] Failed to pre-load font ${r} from CDN:`,t)}}console.log("[PDF Generator] Finished pre-loading of custom fonts.")})();const w5=wt.object({id:wt.number().optional(),description:wt.string(),quantity:wt.number(),unit:wt.string(),unitPrice:wt.number()}),i6=wt.object({id:wt.number().optional(),invoiceNumber:wt.string(),date:wt.string().refine(r=>!isNaN(Date.parse(r)),{message:"Invalid date format"}),client:wt.string().min(1,{message:"Client name cannot be empty"}),clientAddress:wt.string(),clientReference:wt.string(),projectReference:wt.string(),expensesIncluded:wt.boolean(),renderedService:wt.string(),currency:wt.string(),items:wt.array(w5).min(1,{message:"Invoice must have at least one line item"}),taxRate:wt.number(),total:wt.number(),workDates:wt.array(wt.string()).optional().nullable(),travelDates:wt.array(wt.string()).optional().nullable(),status:wt.enum(["Paid","Unpaid","Overdue"]).optional().nullable()}),s6=wt.object({id:wt.number().optional(),name:wt.string(),address:wt.string()}),a6=wt.object({id:wt.number().optional(),name:wt.string(),address:wt.string(),phone:wt.string()}).nullable(),o6=wt.object({id:wt.number().optional(),bankAddress:wt.string(),contactName:wt.string(),contactPhone:wt.string(),contactEmail:wt.string().email(),bankName:wt.string(),swiftCode:wt.string(),accountNumber:wt.string()}).nullable(),l6=Object.keys(n0),c6=wt.object({pdfTheme:wt.enum(l6)}),u6=wt.object({invoices:wt.array(i6).optional(),clients:wt.array(s6).optional(),senderInfo:wt.preprocess(r=>Array.isArray(r)?r[0]:r,a6).optional(),bankInfo:wt.preprocess(r=>Array.isArray(r)?r[0]:r,o6).optional(),settings:c6.optional()}),b5=r=>{const e=wt.array(w5).safeParse(r.items);let t=[];return e.success?t=e.data:r.items&&console.warn(`Failed to parse line items for invoice #${r.invoice_number}. Data was:`,r.items,"Error:",e.error),{id:r.id,userId:r.user_id,invoiceNumber:r.invoice_number,date:r.date,client:r.client,clientAddress:r.client_address,clientReference:r.client_reference,projectReference:r.project_reference,expensesIncluded:r.expenses_included,renderedService:r.rendered_service,currency:r.currency,items:t,taxRate:r.tax_rate,total:r.total,workDates:r.work_dates||[],travelDates:r.travel_dates||[],status:r.status}},_5=async(r,e)=>{const{data:t,error:n}=await Wt.from("app_settings").select("value").eq("user_id",r).eq("key",e).maybeSingle();return n?(console.error(`Error getting setting for key "${e}":`,n.message),null):(t==null?void 0:t.value)||null},k5=async(r,e,t)=>{const n={user_id:r,key:e,value:t},{error:s}=await Wt.from("app_settings").upsert(n,{onConflict:"user_id, key"});s&&console.error(`Error saving setting for key "${e}":`,s.message)},d6=async r=>{const{data:e,error:t}=await Wt.from("invoices").select("*").eq("id",r).single();return t?(console.error("Error getting invoice by ID:",t.message),null):e?b5(e):null},i0=async r=>{const{data:e,error:t}=await Wt.from("invoices").select("*").eq("user_id",r).order("date",{ascending:!1});return t?(console.error("Error getting all user invoices:",t.message),[]):(e||[]).map(b5)},h6=async(r,e)=>{const t={status:e};return await Wt.from("invoices").update(t).eq("id",r)},f6=async r=>{const e=new Date().getFullYear().toString().slice(-2),t=`%-${e}`,{data:n,error:s}=await Wt.from("invoices").select("invoice_number").eq("user_id",r).like("invoice_number",t).order("invoice_number",{ascending:!1}).limit(1);if(s)return console.error("Error fetching next invoice number:",s.message),`0001-${e}`;if(n&&n.length>0)try{return`${(parseInt(n[0].invoice_number.split("-")[0],10)+1).toString().padStart(4,"0")}-${e}`}catch{}return`0001-${e}`},C5=async r=>{const e={user_id:r.userId,invoice_number:r.invoiceNumber,date:r.date,client:r.client,client_address:r.clientAddress,client_reference:r.clientReference,project_reference:r.projectReference,expenses_included:r.expensesIncluded,rendered_service:r.renderedService,currency:r.currency,items:r.items,tax_rate:r.taxRate,total:r.total,work_dates:r.workDates,travel_dates:r.travelDates,status:r.status};if(r.client){const t={user_id:r.userId,name:r.client,address:r.clientAddress},{error:n}=await Wt.from("clients").upsert(t,{onConflict:"user_id, name"});if(n)return console.error("Failed to upsert client:",n),{data:null,error:n}}if(r.id){const{data:t,error:n}=await Wt.from("invoices").update(e).eq("id",r.id).select().single();return{data:t,error:n}}else{const{data:t,error:n}=await Wt.from("invoices").insert(e).select().single();return{data:t,error:n}}},p6=async r=>await Wt.from("invoices").delete().eq("id",r),S5=async r=>{const{data:e,error:t}=await Wt.from("clients").select("*").eq("user_id",r).order("name");return t?(console.error("Error getting clients:",t.message),[]):(e||[]).map(s=>({id:s.id,userId:s.user_id,name:s.name,address:s.address}))},g6=async r=>{const e={id:r.id,user_id:r.userId,name:r.name,address:r.address};return await Wt.from("clients").upsert(e,{onConflict:"user_id, name"})},N5=async r=>{const{data:e,error:t}=await Wt.from("sender_info").select("*").eq("user_id",r).maybeSingle();if(t)return console.error("Error getting sender info:",t.message),null;if(!e)return null;const n=e;return{id:n.id,userId:n.user_id,name:n.name,address:n.address,phone:n.phone}},j5=async r=>{const e={id:r.id,user_id:r.userId,name:r.name,address:r.address,phone:r.phone};return await Wt.from("sender_info").upsert(e,{onConflict:"user_id"})},L5=async r=>{const{data:e,error:t}=await Wt.from("bank_info").select("*").eq("user_id",r).maybeSingle();if(t)return console.error("Error getting bank info:",t.message),null;if(!e)return console.log("[supabase.ts] getBankInfo - No bank info found for user:",r),null;const n=e;return console.log("[supabase.ts] getBankInfo - Raw data from DB:",n),console.log("[supabase.ts] getBankInfo - Mapped bankAddress:",n.bank_address),{id:n.id,userId:n.user_id,bankAddress:n.bank_address,contactName:n.contact_name,contactPhone:n.contact_phone,contactEmail:n.contact_email,bankName:n.bank_name,swiftCode:n.swift_code,accountNumber:n.account_number}},A5=async r=>{console.log("[supabase.ts] saveBankInfo - Info received for saving:",r);const e={id:r.id,user_id:r.userId,bank_address:r.bankAddress,contact_name:r.contactName,contact_phone:r.contactPhone,contact_email:r.contactEmail,bank_name:r.bankName,swift_code:r.swiftCode,account_number:r.account_number};console.log("[supabase.ts] saveBankInfo - Payload sent to DB:",e);const{data:t,error:n}=await Wt.from("bank_info").upsert(e,{onConflict:"user_id"});return n?console.error("[supabase.ts] saveBankInfo - Error saving bank info:",n.message):console.log("[supabase.ts] saveBankInfo - Successfully saved bank info:",t),{data:t,error:n}},m6=async r=>{const{data:e,error:t}=await Wt.from("profiles").select("*").eq("id",r).maybeSingle();return t?(console.error("Error getting profile:",t.message),null):e},v6=async(r,e)=>{const{error:t}=await Wt.from("profiles").update(e).eq("id",r);if(t)throw console.error("Error updating profile:",t.message),t},y6=async r=>null,x6=async()=>{const{error:r}=await Wt.rpc("handle_soft_delete_user");if(r)throw console.error("Error during soft delete RPC call:",r),r},w6=async()=>{const{data:r,error:e}=await Wt.rpc("admin_get_all_users");if(e)throw console.error("Admin error getting users:",e.message),e;return r||[]},b6=async()=>{const{data:r,error:e}=await Wt.rpc("admin_count_invoices_per_user");if(e)throw console.error("Admin error getting invoice counts:",e.message),e;const t=new Map;if(r)for(const n of r)n.email&&t.set(n.email,n.invoice_count);return t},_6=async(r,e)=>{const t={is_admin:e};return await Wt.from("profiles").update(t).eq("id",r)},k6=async r=>{const e={credits:9999};return await Wt.from("profiles").update(e).eq("id",r)},C6=async r=>{const{error:e}=await Wt.from("profiles").update({status:"deactivated"}).eq("id",r);if(e)throw e},T2=({selectedDates:r,onDatesChange:e,initialDate:t})=>{const n=()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(t)){const E=t.split("-").map(Number),D=new Date(E[0],E[1]-1,E[2]);if(!isNaN(D.getTime()))return D}return new Date},[s,o]=G.useState(n()),l=G.useMemo(()=>new Set(r),[r]),u=E=>{const H=new Date(Date.UTC(s.getFullYear(),s.getMonth(),E)).toISOString().split("T")[0],Y=new Set(l);Y.has(H)?Y.delete(H):Y.add(H),e(Array.from(Y))},h=()=>{e([])},f=E=>{o(D=>{const H=new Date(D);return H.setDate(1),H.setMonth(H.getMonth()+E),H})},v=s.getFullYear(),x=s.getMonth(),C=new Date(v,x+1,0).getDate(),b=(new Date(v,x,1).getDay()+6)%7,j=Array.from({length:C},(E,D)=>D+1),L=Array.from({length:b}),A=["M","T","W","T","F","S","S"];return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border dark:border-gray-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("button",{type:"button",onClick:()=>f(-1),className:"p-1.5 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(eg,{})}),m.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.toLocaleString("default",{month:"long",year:"numeric"})}),m.jsx("button",{type:"button",onClick:()=>f(1),className:"p-1.5 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(tg,{})})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-gray-500 dark:text-gray-400",children:[A.map(E=>m.jsx("div",{className:"font-medium",children:E},E)),L.map((E,D)=>m.jsx("div",{},`pad-${D}`)),j.map(E=>{const H=new Date(Date.UTC(v,x,E)).toISOString().split("T")[0],Y=l.has(H);let ne="w-full aspect-square flex items-center justify-center rounded-lg cursor-pointer transition-colors text-sm ";return Y?ne+="bg-blue-600 text-white font-bold hover:bg-blue-700 ":ne+="hover:bg-gray-200 dark:hover:bg-gray-700 ",m.jsx("div",{onClick:()=>u(E),className:ne,children:E},E)})]}),r.length>0&&m.jsx("div",{className:"text-center mt-3",children:m.jsxs("button",{type:"button",onClick:h,className:"text-xs text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center mx-auto",children:[m.jsx(bd,{className:"mr-1"}),"Clear Selection"]})})]})},P5=G.createContext(void 0),s0=()=>{const r=G.useContext(P5);if(!r)throw new Error("useSettings must be used within a SettingsProvider");return r},S6=({children:r,currentUser:e})=>{const[t,n]=G.useState(null),[s,o]=G.useState("Classic"),[l,u]=G.useState("Times-Italic"),[h,f]=G.useState(!0),v=G.useCallback(async L=>{f(!0);try{const[A,E,D,H]=await Promise.all([N5(L),L5(L),_5(L,"pdfTheme"),m6(L)]),Y={userId:L,name:"",address:"",phone:""},ne={userId:L,bankAddress:"",contactName:"",contactPhone:"",contactEmail:"",bankName:"",swiftCode:"",accountNumber:""},we=A||Y,ue=E||ne;console.log("[SettingsContext.tsx] fetchSettings - Fetched senderInfo:",A),console.log("[SettingsContext.tsx] fetchSettings - Fetched bankInfo:",E),console.log("[SettingsContext.tsx] fetchSettings - Final bank address for state:",ue.bankAddress),n({sender:we,bank:ue}),o(D||"Classic"),u((H==null?void 0:H.signature_font)||"Times-Italic")}catch(A){console.error("Failed to fetch settings:",A),n(null)}finally{f(!1)}},[]);G.useEffect(()=>{e!=null&&e.id?v(e.id):(f(!1),n(null),o("Classic"),u("Times-Italic"))},[e,v]);const x=G.useCallback(async()=>{e!=null&&e.id&&await v(e.id)},[e,v]),C=G.useCallback(L=>{e!=null&&e.id&&(o(L),k5(e.id,"pdfTheme",L).catch(A=>console.error("Failed to save PDF theme:",A)))},[e]),b=G.useCallback(L=>{e!=null&&e.id&&(u(L),v6(e.id,{signature_font:L}).catch(A=>console.error("Failed to save signature font:",A)))},[e]),j={settings:t,pdfTheme:s,signatureFont:l,loading:h,reloadSettings:x,updatePdfTheme:C,updateSignatureFont:b};return m.jsx(P5.Provider,{value:j,children:r})},E5=G.createContext(void 0),Cd=()=>{const r=G.useContext(E5);if(!r)throw new Error("useToast must be used within a ToastProvider");return r},N6=({children:r})=>{const[e,t]=G.useState([]),n=G.useCallback(u=>{t(h=>h.filter(f=>f.id!==u))},[]),s=G.useCallback((u,h)=>{const f=Date.now()+Math.random();t(v=>[...v,{id:f,message:u,type:h}]),setTimeout(()=>{n(f)},5e3)},[n]),o={success:H1,error:rg,info:ag},l={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return m.jsxs(E5.Provider,{value:{addToast:s},children:[r,m.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"fixed bottom-5 right-5 z-[100] space-y-3 w-full max-w-sm",children:e.map(u=>{const h=o[u.type],f=l[u.type];return m.jsxs("div",{className:`${f} text-white p-4 rounded-lg shadow-lg flex items-start space-x-3 transition-all duration-300`,role:"alert",children:[m.jsx(h,{className:"w-6 h-6 flex-shrink-0"}),m.jsx("p",{className:"flex-1 text-sm font-medium",children:u.message}),m.jsx("button",{onClick:()=>n(u.id),className:"p-1 -m-1 rounded-full hover:bg-white/20",children:m.jsx(bd,{className:"w-4 h-4"})})]},u.id)})})]})},j6=`
// Import dependencies directly from a reliable CDN.
// Workers operate in a separate scope and do not have access to the main app's importmap.
import jsPDF from 'https://esm.sh/jspdf@2.5.1';
import autoTable from 'https://esm.sh/jspdf-autotable@3.8.2';

// --- SELF-CONTAINED PDF GENERATION LOGIC ---
// The following code is a duplicate of services/pdfGenerator.ts to make the worker
// self-sufficient. It has been adapted to work within this worker context.

const colorSchemes = {
    'Classic': { primary: '#14263a', secondary: '#909193', accent: '#fe2746', headerBar: '#8f9194', headerBg: '#edefec', textLight: '#ffffff', textDark: '#14263b', tableBgPrimary: '#eceeeb', tableBgSecondary: '#fbfbf9' },
    'Sapphire & Gold': { primary: '#0F2C59', secondary: '#5A6D8C', accent: '#D4AF37', headerBar: '#5A6D8C', headerBg: '#F5F5F5', textLight: '#FFFFFF', textDark: '#0A1D3A', tableBgPrimary: '#EAEFF5', tableBgSecondary: '#FFFFFF' },
    'Emerald & Silver': { primary: '#0D4C46', secondary: '#5E8C82', accent: '#00A896', headerBar: '#5E8C82', headerBg: '#E8F5E9', textLight: '#FFFFFF', textDark: '#072A26', tableBgPrimary: '#D8EBE4', tableBgSecondary: '#F7FBF9' },
    'Ruby & Slate': { primary: '#4A0E1A', secondary: '#8C5A66', accent: '#D90429', headerBar: '#8C5A66', headerBg: '#FCE4E8', textLight: '#FFFFFF', textDark: '#2D0810', tableBgPrimary: '#F6DDE2', tableBgSecondary: '#FCF6F7' },
    'Amethyst & Pearl': { primary: '#4C3B4D', secondary: '#8C7A8C', accent: '#A480F2', headerBar: '#8C7A8C', headerBg: '#F4F1F5', textLight: '#FFFFFF', textDark: '#2E232E', tableBgPrimary: '#EBE5EC', tableBgSecondary: '#FBF9FB' },
    'Ocean & Coral': { primary: '#0A4D68', secondary: '#5A8C9E', accent: '#FF7B54', headerBar: '#5A8C9E', headerBg: '#E6F4F1', textLight: '#FFFFFF', textDark: '#062D3D', tableBgPrimary: '#D6EAE1', tableBgSecondary: '#F6FAF8' },
    'Sunset & Vineyard': { primary: '#4A2545', secondary: '#8C6A87', accent: '#FF8C42', headerBar: '#8C6A87', headerBg: '#FCEEE4', textLight: '#FFFFFF', textDark: '#2C1629', tableBgPrimary: '#F6E6D8', tableBgSecondary: '#FCFAF7' },
    'Forest & Birch': { primary: '#2C3E50', secondary: '#5D6D7E', accent: '#18BC9C', headerBar: '#5D6D7E', headerBg: '#ECF0F1', textLight: '#FFFFFF', textDark: '#17202A', tableBgPrimary: '#E1E8EA', tableBgSecondary: '#F8F9F9' },
    'Midnight & Mint': { primary: '#1D2D44', secondary: '#5A6B8A', accent: '#66FCF1', headerBar: '#5A6B8A', headerBg: '#F0F7F8', textLight: '#FFFFFF', textDark: '#0B0C10', tableBgPrimary: '#D6E9E8', tableBgSecondary: '#F5FAFA' },
    'Charcoal & Amber': { primary: '#252525', secondary: '#555555', accent: '#FFC700', headerBar: '#555555', headerBg: '#F5F5F5', textLight: '#FFFFFF', textDark: '#000000', tableBgPrimary: '#EAEAEA', tableBgSecondary: '#FFFFFF' },
    'Plum & Copper': { primary: '#5D3A63', secondary: '#9A7AA0', accent: '#B87333', headerBar: '#9A7AA0', headerBg: '#F4EFF5', textLight: '#FFFFFF', textDark: '#3A243D', tableBgPrimary: '#EBE2EC', tableBgSecondary: '#FBF8FB' },
    'Teal & Terracotta': { primary: '#008080', secondary: '#5AA0A0', accent: '#E2725B', headerBar: '#5AA0A0', headerBg: '#E6F2F2', textLight: '#FFFFFF', textDark: '#004D4D', tableBgPrimary: '#D6E7E7', tableBgSecondary: '#F6FBFB' },
};


const drawInvoiceOnDoc = (doc, invoice, settings, schemeName) => {
    const theme = colorSchemes[schemeName] || colorSchemes['Classic'];
    const { sender, bank } = settings || {};
    const safeSender = sender || { name: '', address: '', phone: '' };
    const safeBank = bank || { bankAddress: '', contactName: '', contactPhone: '', contactEmail: '', bankName: '', swiftCode: '', accountNumber: '' };

    const formatDate = (dateString) => {
        if (!dateString || !/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) return dateString;
        const [year, month, day] = dateString.split('-');
        return \`\${day} / \${month} / \${year}\`;
    };

    const drawPhoneIcon = (doc, x, y, size) => {
        doc.setLineWidth(size * 0.1);
        doc.setDrawColor(theme.textLight);
        const w = size * 0.8;
        const h = size;
        doc.roundedRect(x, y - h / 2, w, h, w * 0.2, h * 0.2, 'S');
        doc.setLineWidth(size * 0.05);
        doc.line(x + w * 0.2, y - h * 0.3, x + w * 0.8, y - h * 0.3);
    };

    const drawEmailIcon = (doc, x, y, size) => {
        doc.setLineWidth(size * 0.1);
        doc.setDrawColor(theme.textLight);
        const w = size;
        const h = size * 0.7;
        doc.rect(x, y - h / 2, w, h, 'S');
        doc.line(x, y - h / 2, x + w / 2, y);
        doc.line(x + w / 2, y, x + w, y - h / 2);
    };

    const pageWidth = doc.internal.pageSize.getWidth();
    const pageHeight = doc.internal.pageSize.getHeight();
    const leftBarWidth = 80;
    const newBarWidth = 10;
    const footerMargin = 15;
    const headerTopMargin = 15;
    const headerHeight = 65;

    doc.setFont('helvetica', 'bold');
    doc.setFillColor(theme.primary);
    doc.rect(0, 0, leftBarWidth, pageHeight, 'F');
    doc.setFillColor(theme.headerBg);
    doc.rect(leftBarWidth, 0, newBarWidth, pageHeight, 'F');

    const slantAngle = 30;
    const slantOffset = headerHeight * Math.tan(slantAngle * Math.PI / 180);
    const headerW1 = 135, headerW2 = 150, headerW3 = 185;

    doc.setFillColor(theme.headerBg);
    doc.lines([[headerW3 - slantOffset, 0], [slantOffset, headerHeight], [-headerW3, 0]], 0, headerTopMargin, [1, 1], 'F', true);
    doc.setFillColor(theme.headerBar);
    doc.lines([[headerW1 - slantOffset, 0], [slantOffset, headerHeight], [-headerW1, 0]], 0, headerTopMargin, [1, 1], 'F', true);
    doc.setFillColor(theme.accent);
    doc.lines([[headerW2 - headerW1, 0], [slantOffset, headerHeight], [-(headerW2 - headerW1), 0]], headerW1 - slantOffset, headerTopMargin, [1, 1], 'F', true);

    doc.setFontSize(48);
    doc.setTextColor(theme.textLight);
    doc.text('INVOICE', footerMargin, 20, { baseline: 'top' });

    const detailsBody = [
        ['Invoice#:', invoice.invoiceNumber],
        ['Date:', formatDate(invoice.date)],
        ['Client Ref:', invoice.clientReference],
        ['Project Ref:', invoice.projectReference],
    ];
    // Use the reliable functional call inside the worker
    autoTable(doc, {
        startY: 40, body: detailsBody, theme: 'plain', margin: { left: footerMargin }, tableWidth: 85,
        styles: { font: 'helvetica', fontStyle: 'bold', fontSize: 12, textColor: theme.textLight, cellPadding: { top: 0.5, right: 0, bottom: 0.5, left: 0 } },
        columnStyles: { 0: { cellWidth: 35, halign: 'left' }, 1: { cellWidth: 'auto', halign: 'right' } },
    });

    const invoiceToY = 30, invoiceToX = 150;
    doc.setFontSize(17);
    doc.setTextColor(theme.textDark);
    doc.text('Invoice to:', invoiceToX, invoiceToY, { align: 'left', baseline: 'top' });
    let clientDetailsY = invoiceToY + 10;
    doc.setFontSize(12);
    doc.text(invoice.client, invoiceToX, clientDetailsY, { align: 'left' });
    clientDetailsY += 7;
    doc.setFontSize(9);
    const clientAddressLines = doc.splitTextToSize(invoice.clientAddress, pageWidth - invoiceToX - footerMargin);
    doc.text(clientAddressLines, invoiceToX, clientDetailsY, { align: 'left' });

    let tableStartY = headerHeight + 15 + headerTopMargin;
    if (invoice.renderedService) {
        autoTable(doc, {
            startY: tableStartY, body: [['Invoice for:', invoice.renderedService]], theme: 'plain', margin: { left: footerMargin, right: footerMargin },
            styles: { lineWidth: 0, font: 'helvetica', fontStyle: 'bold', fontSize: 9, valign: 'middle', cellPadding: { top: 4, right: 3, bottom: 4, left: 3 } },
            columnStyles: { 0: { cellWidth: 40, fillColor: theme.accent, textColor: theme.textLight, halign: 'left' }, 1: { fillColor: theme.tableBgPrimary, textColor: theme.textDark, halign: 'left' } },
        });
        tableStartY = doc.lastAutoTable.finalY + 5;
    }

    const subtotal = (invoice.items || []).reduce((sum, item) => sum + ((item.quantity || 0) * (item.unitPrice || 0)), 0);
    const taxAmount = subtotal * ((invoice.taxRate || 0) / 100);
    const finalTotal = subtotal + taxAmount;
    const safeCurrency = (c) => (c === '€' ? 'EUR' : (c === '£' ? 'GBP' : c)) ?? '$';
    const currency = safeCurrency(invoice.currency);

    const tableBody = (invoice.items || [])
      .filter(item => item.description || ((item.quantity > 0 && item.unitPrice > 0) || item.unit))
      .map(item => [
            (item.quantity || 0) > 0 ? (item.quantity || 0).toString() : '',
            item.description,
            item.unit,
            item.unit !== '' && (item.unitPrice || 0) > 0 ? \`\${currency}\${(item.unitPrice || 0).toFixed(2)}\` : '',
            ((item.quantity || 0) * (item.unitPrice || 0)) > 0 ? \`\${currency}\${((item.quantity || 0) * (item.unitPrice || 0)).toFixed(2)}\` : ''
      ]);

    if (tableBody.length > 0 && tableBody.length < 5) {
        for (let i = 0; i < 2; i++) tableBody.push(['', '', '', '', '']);
    }

    autoTable(doc, {
        startY: tableStartY, head: [['Qty', 'Description', 'Unit', 'Unit Price', 'Total']], body: tableBody, theme: 'plain', margin: { left: footerMargin, right: footerMargin },
        headStyles: { fillColor: theme.accent, textColor: theme.textLight, fontStyle: 'bold', fontSize: 10, halign: 'center', cellPadding: 4 },
        styles: { fontStyle: 'bold', fontSize: 9, textColor: theme.textDark, cellPadding: { top: 6, right: 3, bottom: 6, left: 3 }, valign: 'middle' },
        columnStyles: { 0: { cellWidth: 15, halign: 'center' }, 1: { cellWidth: 80, halign: 'left' }, 2: { cellWidth: 20, halign: 'center' }, 3: { cellWidth: 30, halign: 'center' }, 4: { cellWidth: 35, halign: 'center' } },
        didParseCell: (data) => {
            if (data.section === 'body') {
                const colIndex = data.column.index;
                const styles = data.cell.styles;
                styles.fillColor = (colIndex === 0 || colIndex === 2 || colIndex === 4) ? theme.tableBgPrimary : theme.tableBgSecondary;
                styles.lineWidth = 0;
                if (data.row.index > 0) { styles.lineWidth = { top: 0.1 }; styles.lineColor = theme.primary; }
            }
        },
    });

    let dynamicFooterY = 222;
    if (doc.lastAutoTable.finalY + 10 > dynamicFooterY) dynamicFooterY = doc.lastAutoTable.finalY + 10;
    if (dynamicFooterY > pageHeight - 60) dynamicFooterY = pageHeight - 60;
    
    let currentY = dynamicFooterY;
    const totalsX_start = 130, totalsLabelX = totalsX_start + 15, totalsValueX = pageWidth - footerMargin;
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10);
    doc.setTextColor(theme.textDark);

    if (invoice.taxRate > 0) {
        doc.text('Sub Total:', totalsLabelX, currentY);
        doc.text(\`\${currency}\${subtotal.toFixed(2)}\`, totalsValueX, currentY, { align: 'right' });
        currentY += 7;
        doc.text(\`Tax (\${invoice.taxRate}%):\`, totalsLabelX, currentY);
        doc.text(\`\${currency}\${taxAmount.toFixed(2)}\`, totalsValueX, currentY, { align: 'right' });
        currentY += 7;
    }

    const totalBarHeight = 15;
    doc.setFillColor(theme.primary);
    doc.rect(totalsX_start, currentY, pageWidth - totalsX_start, totalBarHeight, 'F');
    doc.setFillColor(theme.accent);
    const accentSlantOffset = totalBarHeight * Math.tan(30 * Math.PI / 180);
    doc.lines([[15, 0], [-accentSlantOffset, totalBarHeight], [-15, 0]], totalsX_start, currentY, [1, 1], 'F', true);
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(14);
    doc.setTextColor(theme.textLight);
    doc.text('Total:', totalsLabelX, currentY + totalBarHeight / 2, { baseline: 'middle' });
    doc.text(\`\${currency}\${finalTotal.toFixed(2)}\`, totalsValueX, currentY + totalBarHeight / 2, { align: 'right', baseline: 'middle' });
    
    const totalBarBottomY = currentY + totalBarHeight;
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(8);
    doc.setTextColor(theme.textDark);
    doc.text('Payment should be made as per the agreed terms', totalsValueX, totalBarBottomY + 6, { align: 'right' });

    let sigBlockY = totalBarBottomY + 25;
    const sigX = (totalsX_start + (pageWidth - totalsX_start) / 2) - 20;
    doc.setFont('helvetica', 'italic');
    doc.setFontSize(16);
    doc.setTextColor(theme.textDark);
    doc.text(safeBank.contactName || safeSender.name, sigX, sigBlockY, { align: 'center' });
    sigBlockY += 2;
    doc.setDrawColor(theme.textDark);
    doc.setLineWidth(0.3);
    doc.line(sigX - 30, sigBlockY, sigX + 30, sigBlockY);
    sigBlockY += 5;
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(9);
    doc.text('Authorised Sign', sigX, sigBlockY, { align: 'center' });

    let paymentInfoStartY = dynamicFooterY - 5;
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(10);
    doc.setTextColor(theme.accent);
    doc.text('Payment Info:', footerMargin, paymentInfoStartY);
    
    const paymentBody = [['Bank:', safeBank.bankName], ['Account:', safeBank.accountNumber], ['SWIFT/IBAN:', safeBank.swiftCode], ['Address:', safeBank.bankAddress]];
    autoTable(doc, {
        startY: paymentInfoStartY + 6, body: paymentBody, theme: 'plain', margin: { left: footerMargin }, tableWidth: leftBarWidth - footerMargin - 7.5,
        styles: { font: 'helvetica', fontStyle: 'bold', fontSize: 7, textColor: theme.textLight, cellPadding: { top: 0.5, right: 1, bottom: 0.5, left: 1 }, valign: 'top' },
        columnStyles: { 0: { cellWidth: 20, fontStyle: 'bold' }, 1: { cellWidth: 'auto', fontStyle: 'normal' } },
    });

    let contactInfoY = doc.lastAutoTable.finalY + 10;
    doc.setFontSize(10);
    doc.setTextColor(theme.accent);
    doc.text('Contact Info:', footerMargin, contactInfoY);
    contactInfoY += 6;
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(7);
    doc.setTextColor(theme.textLight);
    drawPhoneIcon(doc, footerMargin, contactInfoY, 4);
    doc.text(safeBank.contactPhone || safeSender.phone, footerMargin + 6, contactInfoY, { baseline: 'middle' });
    contactInfoY += 6;
    drawEmailIcon(doc, footerMargin, contactInfoY, 4);
    doc.text(safeBank.contactEmail, footerMargin + 6, contactInfoY, { baseline: 'middle' });
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(7);
    doc.setTextColor('#a0b3c7');
    doc.text('©2025 ', footerMargin, pageHeight - 5, { align: 'left' });
    const textWidth = doc.getTextWidth('©2025 ');
    doc.textWithLink('PDFInvoicer.app', footerMargin + textWidth, pageHeight - 5, { url: 'https://pdfinvoicer.app' });
};

// --- Main Worker Logic ---
self.onmessage = async (e) => {
    const { type, payload } = e.data;
    try {
        if (type === 'single') {
            const { invoice, settings, schemeName } = payload;
            const doc = new jsPDF({ orientation: 'p', unit: 'mm', format: 'a4' });
            drawInvoiceOnDoc(doc, invoice, settings, schemeName);
            // Use 'arraybuffer' for a valid binary file structure
            const pdfArrayBuffer = doc.output('arraybuffer');
            const blob = new Blob([pdfArrayBuffer], { type: 'application/pdf' });
            self.postMessage({ status: 'success', blob });

        } else if (type === 'bulk') {
            const { invoices, settings, invoiceThemes, globalPdfTheme } = payload;
            const doc = new jsPDF({ orientation: 'p', unit: 'mm', format: 'a4' });
            for (let i = 0; i < invoices.length; i++) {
                const invoice = invoices[i];
                const schemeName = (invoiceThemes && invoice.id && invoiceThemes[invoice.id]) || globalPdfTheme || 'Classic';
                drawInvoiceOnDoc(doc, invoice, settings, schemeName);
                if (i < invoices.length - 1) {
                    doc.addPage();
                }
            }
            const pdfArrayBuffer = doc.output('arraybuffer');
            const blob = new Blob([pdfArrayBuffer], { type: 'application/pdf' });
            self.postMessage({ status: 'success', blob });
        }
    } catch (error) {
        console.error('Error in PDF worker:', error);
        self.postMessage({ status: 'error', error: error instanceof Error ? error.message : 'An unknown worker error occurred' });
    }
};
`,M1=r=>new Promise((e,t)=>{const n=new Blob([j6],{type:"application/javascript"}),s=URL.createObjectURL(n),o=new Worker(s,{type:"module"}),l=()=>{o.terminate(),URL.revokeObjectURL(s)};o.onmessage=async u=>{const{status:h,blob:f,error:v}=u.data;if(h==="success"&&f instanceof Blob)try{const x=await f.arrayBuffer(),C=new Blob([x],{type:f.type});e(C)}catch(x){t(x)}else t(new Error(v||"An unknown error occurred in the PDF worker."));l()},o.onerror=u=>{console.error("Worker error:",u),t(new Error(`PDF Worker failed: ${u.message}`)),l()},o.postMessage(r)}),L6=({currentUser:r,invoiceToEdit:e,onInvoiceSaved:t,onUserUpdate:n})=>{const[s,o]=G.useState(null),[l,u]=G.useState([]),[h,f]=G.useState(!0),[v,x]=G.useState(!1),[C,b]=G.useState(!1),[j,L]=G.useState(!1),[A,E]=G.useState(!1),{settings:D,pdfTheme:H,loading:Y}=s0(),ne=Cd(),we=gl(),ue=G.useMemo(()=>({userId:r.id,date:new Date().toISOString().split("T")[0],client:"",clientAddress:"",clientReference:"",projectReference:"",expensesIncluded:!1,renderedService:"",currency:"£",items:[{description:"",quantity:1,unit:"day",unitPrice:0}],taxRate:0,total:0,workDates:[],travelDates:[],status:"Unpaid"}),[r.id]);G.useEffect(()=>{(async()=>{f(!0);try{const[M,$]=await Promise.all([f6(r.id),S5(r.id)]);if(u($),e){const z=[...e.items];z.length===0&&z.push({description:"",quantity:1,unit:"day",unitPrice:0}),o({...e,items:z,taxRate:e.taxRate??0,workDates:e.workDates||[],travelDates:e.travelDates||[]})}else o({...ue,invoiceNumber:M})}catch(M){console.error("Failed to load initial data",M),ne.addToast("Failed to load invoice data.","error")}finally{f(!1)}})()},[e,r.id,ue,ne]);const{subtotal:Q,taxAmount:ye,finalTotal:pe}=G.useMemo(()=>{const N=(s==null?void 0:s.items.reduce((z,W)=>z+(W.quantity||0)*(W.unitPrice||0),0))??0,M=N*(((s==null?void 0:s.taxRate)??0)/100),$=N+M;return{subtotal:N,taxAmount:M,finalTotal:$}},[s==null?void 0:s.items,s==null?void 0:s.taxRate]);G.useEffect(()=>{o(N=>N&&N.total!==pe?{...N,total:pe}:N)},[pe]);const B=N=>{const{name:M,value:$}=N.target,z=N.target.type==="number";o(W=>W?{...W,[M]:z?parseFloat($)||0:$}:null)},V=N=>{const M=N.target.value,$=l.find(z=>z.name===M);o(z=>z?{...z,client:M,clientAddress:$?$.address:""}:null)},ie=(N,M,$)=>{if(!s)return;const z=[...s.items],W={...z[N]};M==="quantity"||M==="unitPrice"?W[M]=parseFloat($)||0:W[M]=$,z[N]=W,o({...s,items:z})},ee=()=>{if(!s)return;const N=[...s.items,{description:"",quantity:1,unit:"day",unitPrice:0}];o({...s,items:N})},Se=N=>{if(!s||s.items.length<=1)return;const M=s.items.filter(($,z)=>z!==N);o({...s,items:M})},ke=(N,M)=>{o($=>$?{...$,[N]:M}:null)},Ne=async N=>{x(!0);const M=!N.id;try{const{data:$,error:z}=await C5(N);if(z)throw z;if($&&o(W=>W?{...W,id:$.id}:null),M){const W=await y6(r.id);W&&n(W)}return!0}catch($){console.error("Failed to save invoice:",$);let z="An unknown error occurred.";return typeof $=="object"&&$!==null&&"message"in $&&(z=String($.message)),ne.addToast(`Error saving invoice: ${z}`,"error"),!1}finally{x(!1)}},re=async()=>{if(!s)return;if(!s.client||!s.date){ne.addToast("Client Name and Invoice Date are required.","error");return}const N={...s};await Ne(N)&&(ne.addToast("Invoice saved successfully!","success"),t())},se=async()=>{if(!s||!D){ne.addToast("Invoice data or settings are missing.","error");return}if(!s.client||!s.date){ne.addToast("Client Name and Invoice Date are required.","error");return}if(b(!0),!await Ne(s)){b(!1);return}try{const M=await M1({type:"single",payload:{invoice:s,settings:D,schemeName:H}}),$=URL.createObjectURL(M),z=document.createElement("a");z.href=$,z.download=`Invoice-${s.invoiceNumber}.pdf`,document.body.appendChild(z),z.click(),setTimeout(()=>{document.body.removeChild(z),URL.revokeObjectURL($)},100),ne.addToast("Invoice saved and PDF generated!","success"),t()}catch(N){const M=N instanceof Error?N.message:"An unknown error occurred.";ne.addToast(`Could not generate PDF: ${M}`,"error"),console.error("Error during PDF generation:",N)}finally{b(!1)}},I="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white text-base";if(h||Y)return m.jsx("div",{className:"text-center p-10",children:"Loading..."});if(!D)return m.jsxs("div",{className:"text-center p-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[m.jsx(bh,{className:"w-12 h-12 mx-auto text-yellow-500"}),m.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Incomplete Settings"}),m.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please complete your Sender and Bank information in the Settings page before creating an invoice."}),m.jsx("button",{onClick:()=>we("/settings"),className:"mt-6 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700",children:"Go to Settings"})]});if(!s)return m.jsx("div",{className:"text-center p-10",children:"Could not load invoice data."});const ae=r.profile.credits??0;return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:e?"Edit Invoice":"Create Invoice"}),m.jsxs("div",{className:"flex items-center space-x-2 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 px-3 py-1.5 rounded-full font-semibold",children:[m.jsx(V1,{className:"w-5 h-5"}),m.jsxs("span",{children:["Credits: ",ae>=9999?"∞":ae]})]})]}),A&&m.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border-l-4 border-red-500 text-red-800 dark:text-red-200 p-4 my-4 rounded-r-lg",role:"alert",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(bh,{className:"h-6 w-6 mr-3 text-red-500"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:"Insufficient Credits"}),m.jsx("p",{className:"text-sm",children:"You do not have enough credits to create a new invoice."}),m.jsx("button",{onClick:()=>we("/buy-credits"),className:"mt-2 text-sm font-bold underline hover:text-red-600 dark:hover:text-red-100",children:"Buy More Credits"})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-8 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("label",{htmlFor:"invoiceNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Invoice #"}),m.jsx("input",{type:"text",name:"invoiceNumber",id:"invoiceNumber",value:s.invoiceNumber,onChange:B,className:I})]}),m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),m.jsx("input",{type:"date",name:"date",id:"date",value:s.date,onChange:B,className:I})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency"}),m.jsxs("select",{name:"currency",id:"currency",value:s.currency,onChange:B,className:I,children:[m.jsx("option",{value:"£",children:"GBP (£)"}),m.jsx("option",{value:"$",children:"USD ($)"}),m.jsx("option",{value:"€",children:"EUR (€)"}),m.jsx("option",{value:"¥",children:"JPY (¥)"}),m.jsx("option",{value:"A$",children:"AUD (A$)"}),m.jsx("option",{value:"RM",children:"MYR (RM)"})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client"}),m.jsx("input",{list:"client-list",name:"client",id:"client",value:s.client,onChange:V,className:I}),m.jsxs("datalist",{id:"client-list",children:[" ",l.map(N=>m.jsx("option",{value:N.name},N.id))," "]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client Address"}),m.jsx("textarea",{name:"clientAddress",id:"clientAddress",value:s.clientAddress,onChange:B,rows:3,className:I})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("label",{htmlFor:"clientReference",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client Reference"}),m.jsx("input",{type:"text",name:"clientReference",id:"clientReference",value:s.clientReference,onChange:B,className:I})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("label",{htmlFor:"projectReference",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project Reference"}),m.jsx("input",{type:"text",name:"projectReference",id:"projectReference",value:s.projectReference,onChange:B,className:I})]}),m.jsxs("div",{className:"lg:col-span-4",children:[m.jsx("label",{htmlFor:"renderedService",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rendered Service Description"}),m.jsx("textarea",{name:"renderedService",id:"renderedService",value:s.renderedService,onChange:B,rows:3,className:I,placeholder:"e.g., Consultancy services for Q3 project from May 1st to May 3rd, including travel on April 30th."})]})]}),m.jsxs("div",{className:"border-t dark:border-gray-700 pt-6 mt-6",children:[m.jsxs("button",{onClick:()=>L(!j),className:"w-full flex justify-between items-center text-left text-lg font-semibold text-gray-700 dark:text-gray-200",children:["Activity Dates (Optional)",m.jsx(W1,{className:`w-6 h-6 transition-transform ${j?"rotate-180":""}`})]}),j&&m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Work Dates"}),m.jsx(T2,{selectedDates:s.workDates||[],onDatesChange:N=>ke("workDates",N),initialDate:s.date})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Travel Dates"}),m.jsx(T2,{selectedDates:s.travelDates||[],onDatesChange:N=>ke("travelDates",N),initialDate:s.date})]})]})]}),m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mt-8 mb-2",children:"Line Items"}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),m.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Qty"}),m.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Unit"}),m.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-36",children:"Unit Price"}),m.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-36",children:"Total"}),m.jsx("th",{className:"w-12"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.items.map((N,M)=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("input",{type:"text",list:"line-item-descriptions",value:N.description,onChange:$=>ie(M,"description",$.target.value),className:"w-full p-2 bg-transparent border-none focus:ring-0 dark:text-white text-base",placeholder:"Service or Item"})}),m.jsx("td",{children:m.jsx("input",{type:"number",value:N.quantity,onChange:$=>ie(M,"quantity",$.target.value),className:"w-full p-2 bg-transparent border-none focus:ring-0 dark:text-white text-base"})}),m.jsx("td",{children:m.jsxs("select",{value:N.unit,onChange:$=>ie(M,"unit",$.target.value),className:"w-full p-2 border-none focus:ring-0 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-base",children:[m.jsx("option",{value:"day",children:"day"}),m.jsx("option",{value:"hour",children:"hour"}),m.jsx("option",{value:"item",children:"item"}),m.jsx("option",{value:"",children:"(none)"})]})}),m.jsx("td",{children:m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:s.currency}),m.jsx("input",{type:"number",value:N.unitPrice,onChange:$=>ie(M,"unitPrice",$.target.value),className:"w-full p-2 pl-7 text-center bg-transparent border-none focus:ring-0 dark:text-white text-base"})]})}),m.jsx("td",{className:"p-2 text-right",children:m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:s.currency}),m.jsx("span",{className:"block w-full p-2 pl-7 text-right dark:text-white text-base",children:((N.quantity||0)*(N.unitPrice||0)).toFixed(2)})]})}),m.jsx("td",{className:"text-center",children:s.items.length>1&&m.jsx("button",{onClick:()=>Se(M),className:"p-2 text-red-500 hover:text-red-700",title:"Remove item",children:m.jsx(Uh,{})})})]},M))})]}),m.jsxs("datalist",{id:"line-item-descriptions",children:[m.jsx("option",{value:"Travel"}),m.jsx("option",{value:"Offshore"}),m.jsx("option",{value:"Onshore"}),m.jsx("option",{value:"Consulting"}),m.jsx("option",{value:"Training"}),m.jsx("option",{value:"Expenses"})]})]}),m.jsx("div",{className:"flex justify-start mt-4",children:m.jsxs("button",{onClick:ee,className:"flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-100 rounded-md hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900",children:[m.jsx(cg,{className:"mr-2"})," Add Line Item"]})}),m.jsx("div",{className:"flex justify-end mt-6",children:m.jsxs("div",{className:"w-full max-w-xs space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Subtotal:"}),m.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:[s.currency,Q.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tax (%):"}),m.jsx("input",{type:"number",name:"taxRate",value:s.taxRate,onChange:B,className:"w-24 p-1 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white text-base"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tax Amount:"}),m.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:[s.currency,ye.toFixed(2)]})]}),m.jsx("div",{className:"border-t dark:border-gray-600 my-2"}),m.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[m.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:"Total:"}),m.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[s.currency,pe.toFixed(2)]})]})]})})]}),m.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[m.jsx("button",{onClick:re,disabled:v||C,className:"px-6 py-3 bg-gray-500 text-white font-bold rounded-lg shadow-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition-colors duration-200 disabled:bg-gray-400",children:v?"Saving...":"Save Invoice"}),m.jsx("button",{onClick:se,disabled:v||C,className:"px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:bg-blue-400",children:C?"Generating...":e?"Update & Generate PDF":"Save & Generate PDF"})]})]})},a0=({isOpen:r,onClose:e,onConfirm:t,title:n,message:s,confirmInput:o})=>{const[l,u]=G.useState("");if(G.useEffect(()=>{r&&u("")},[r]),!r)return null;const h=l!==o;return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md",onClick:f=>f.stopPropagation(),children:[m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:mx-0 sm:h-10 sm:w-10",children:m.jsx(bh,{className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),m.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[m.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900 dark:text-gray-100",id:"modal-title",children:n}),m.jsx("div",{className:"mt-2",children:m.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:s})})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("label",{htmlFor:"confirm-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:['To confirm, please type "',m.jsx("strong",{className:"text-gray-900 dark:text-gray-100",children:o}),'" below:']}),m.jsx("input",{type:"text",id:"confirm-input",value:l,onChange:f=>u(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-xl",children:[m.jsx("button",{type:"button",onClick:t,disabled:h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-400 dark:disabled:bg-red-800 disabled:cursor-not-allowed transition-colors",children:"Confirm"}),m.jsx("button",{type:"button",onClick:e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})},A6=r=>{if(!r||!/^\d{4}-\d{2}-\d{2}$/.test(r))return r;const[e,t,n]=r.split("-");return`${n} / ${t} / ${e}`},P6=r=>{if(r.status==="Paid")return"Paid";const e=new Date;e.setDate(e.getDate()-30);try{if(new Date(r.date)<e)return"Overdue"}catch(t){console.error("Invalid invoice date for status check",t)}return"Unpaid"},E6=({status:r})=>{const e={Paid:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",Unpaid:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300",Overdue:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"};return m.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:r})},T6=({currentUser:r,onEditInvoice:e})=>{const[t,n]=G.useState([]),[s,o]=G.useState(!0),[l,u]=G.useState(null),[h,f]=G.useState({}),[v,x]=G.useState(new Set),[C,b]=G.useState(""),[j,L]=G.useState(""),[A,E]=G.useState(!1),[D,H]=G.useState(null),[Y,ne]=G.useState(!1),[we,ue]=G.useState(null),{settings:Q,pdfTheme:ye,loading:pe}=s0(),B=Cd(),V=G.useCallback(async()=>{o(!0);try{const z=await i0(r.id);n(z)}catch(z){console.error("Failed to load history data:",z),B.addToast("Could not load invoice history.","error")}finally{o(!1)}},[r.id,B]);G.useEffect(()=>{V()},[V]);const ie=G.useMemo(()=>[...t].sort((W,K)=>{try{const de=new Date(W.date).getTime(),me=new Date(K.date).getTime();return isNaN(de)?1:isNaN(me)?-1:me-de}catch{return 0}}).filter(W=>{if(!C||!j)return!0;try{const K=new Date(W.date);return K>=new Date(C)&&K<=new Date(j)}catch{return!1}}),[t,C,j]),ee=z=>{const W=new Set(v);W.has(z)?W.delete(z):W.add(z),x(W)},Se=z=>{if(z.target.checked){const W=new Set(ie.map(K=>K.id));x(W)}else x(new Set)},ke=(z,W,K)=>{const de=URL.createObjectURL(z);if(W==="view"){const me=window.open(de,"_blank");me?me.addEventListener("pagehide",()=>URL.revokeObjectURL(de),{once:!0}):(B.addToast("A popup blocker may be preventing the PDF from opening.","info"),URL.revokeObjectURL(de))}else{const me=document.createElement("a");me.href=de,me.download=K,document.body.appendChild(me),me.click(),setTimeout(()=>{document.body.removeChild(me),URL.revokeObjectURL(de)},100),W==="bulk"&&B.addToast("Export complete!","success")}},Ne=async(z,W)=>{if(!Q){B.addToast("PDF generation requires settings to be loaded.","error");return}if(D||A){B.addToast("Another PDF operation is already in progress.","info");return}H({id:W.id,action:z});try{const K=h[W.id]||ye,me=await M1({type:"single",payload:{invoice:W,settings:Q,schemeName:K}}),De=`Invoice-${W.invoiceNumber}.pdf`;ke(me,z,De)}catch(K){console.error("Error during single PDF action:",K);const de=K instanceof Error?K.message:"An unknown error occurred.";B.addToast(`PDF Generation Failed: ${de}`,"error")}finally{H(null)}},re=async z=>{if(!Q){B.addToast("PDF generation requires settings to be loaded.","error");return}if(z.size===0){B.addToast("Please select invoices to export.","info");return}if(D||A){B.addToast("Another PDF operation is already in progress.","info");return}E(!0),B.addToast(`Preparing to export ${z.size} invoices...`,"info");try{const K={type:"bulk",payload:{invoices:t.filter(De=>De.id&&z.has(De.id)),settings:Q,invoiceThemes:h,globalPdfTheme:ye}},de=await M1(K),me=`Invoice_Export_${new Date().toISOString().split("T")[0]}.pdf`;ke(de,"bulk",me)}catch(W){console.error("Error during bulk export:",W);const K=W instanceof Error?W.message:"An unknown error occurred.";B.addToast(`Bulk Export Failed: ${K}`,"error")}finally{E(!1)}},se=z=>{ue(z),ne(!0)},I=async()=>{if(we)try{const{error:z}=await p6(we.id);if(z)throw z;B.addToast("Invoice deleted successfully.","success"),V()}catch(z){const W=z instanceof Error?z.message:"An unknown error occurred.";console.error("Failed to delete invoice:",z),B.addToast(`Error deleting invoice: ${W}`,"error")}finally{ne(!1),ue(null)}},ae=async z=>{try{await h6(z,"Paid"),n(W=>W.map(K=>K.id===z?{...K,status:"Paid"}:K)),B.addToast("Invoice marked as Paid!","success")}catch(W){console.error("Failed to mark invoice as paid:",W),B.addToast("Failed to update invoice status.","error")}},N=z=>{u(l===z?null:z)};if((s||pe)&&!t.length)return m.jsx("div",{className:"text-center p-10",children:"Loading invoice history..."});const M=({onClick:z,invoiceId:W,action:K,Icon:de,title:me,text:De,className:Oe})=>{const Ve=(D==null?void 0:D.id)===W&&(D==null?void 0:D.action)===K;return m.jsxs("button",{onClick:z,disabled:Ve||A,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition ${Oe} ${Ve||A?"cursor-not-allowed bg-gray-300 dark:bg-gray-600":""}`,title:me,children:[Ve?m.jsx(Mv,{className:"animate-pulse"}):m.jsx(de,{}),m.jsx("span",{children:Ve?"...":De})]})},$=D!==null||A;return m.jsxs(m.Fragment,{children:[m.jsx(a0,{isOpen:Y,onClose:()=>ne(!1),onConfirm:I,title:"Delete Invoice",message:m.jsxs(m.Fragment,{children:["Are you sure you want to permanently delete invoice ",m.jsx("strong",{children:we==null?void 0:we.invoiceNumber}),"? This action cannot be undone."]}),confirmInput:"DELETE"}),m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Invoice History"}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg mb-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Q2,{className:"w-5 h-5 text-gray-500"}),m.jsx("label",{htmlFor:"startDate",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"From"}),m.jsx("input",{type:"date",id:"startDate",value:C,onChange:z=>b(z.target.value),className:"text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),m.jsx("label",{htmlFor:"endDate",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"To"}),m.jsx("input",{type:"date",id:"endDate",value:j,onChange:z=>L(z.target.value),className:"text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),m.jsx("button",{onClick:()=>re(v),disabled:$||v.size===0,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:A?"Exporting...":`Export Selected (${v.size})`})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl",children:[m.jsxs("div",{className:"hidden sm:grid grid-cols-12 gap-4 items-center p-4 text-left text-xs font-bold uppercase text-gray-500 dark:text-gray-400 border-b dark:border-gray-700",children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",onChange:Se,checked:ie.length>0&&v.size===ie.length,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),m.jsx("div",{className:"col-span-2",children:"Invoice #"}),m.jsx("div",{className:"col-span-3",children:"Client"}),m.jsx("div",{className:"col-span-2",children:"Date"}),m.jsx("div",{className:"col-span-2 text-center",children:"Status"}),m.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),m.jsx("div",{className:"space-y-1 sm:space-y-0 p-2 sm:p-0",children:ie.length===0?m.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"No invoices found for the selected period."}):ie.map(z=>{const W=l===z.id,K=P6(z);return m.jsxs("div",{className:"border-b last:border-b-0 border-gray-200 dark:border-gray-700/50",children:[m.jsxs("div",{className:"w-full grid grid-cols-2 sm:grid-cols-12 gap-x-4 gap-y-2 items-center p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition duration-150",children:[m.jsx("div",{className:"col-span-1 flex justify-center items-center",children:m.jsx("input",{type:"checkbox",checked:v.has(z.id),onChange:()=>ee(z.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),m.jsx("div",{onClick:()=>N(z.id),className:"col-span-1 sm:col-span-2 font-medium text-gray-900 dark:text-gray-100 text-sm sm:text-base cursor-pointer",children:z.invoiceNumber}),m.jsx("div",{onClick:()=>N(z.id),className:"col-span-1 sm:col-span-3 text-gray-600 dark:text-gray-400 truncate text-sm cursor-pointer",children:z.client}),m.jsx("div",{onClick:()=>N(z.id),className:"col-span-1 sm:col-span-2 text-gray-500 dark:text-gray-400 text-xs sm:text-sm cursor-pointer",children:A6(z.date)}),m.jsx("div",{onClick:()=>N(z.id),className:"col-span-1 sm:col-span-2 text-center text-xs cursor-pointer",children:m.jsx(E6,{status:K})}),m.jsxs("div",{onClick:()=>N(z.id),className:"col-span-2 sm:col-span-2 text-right font-semibold text-gray-700 dark:text-gray-200 text-sm sm:text-base flex justify-end items-center gap-4 cursor-pointer",children:[m.jsxs("span",{children:[z.currency,z.total.toFixed(2)]}),m.jsx(W1,{className:`w-5 h-5 text-gray-500 transition-transform duration-300 ${W?"transform rotate-180":""}`})]})]}),W&&m.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/30 p-4 border-t border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2",children:[m.jsx("div",{className:"relative",children:m.jsx("select",{id:`theme-select-${z.id}`,value:h[z.id]||ye,onChange:de=>{const me=de.target.value;f(De=>({...De,[z.id]:me}))},disabled:$,className:"pl-3 pr-8 py-2 rounded-md text-sm font-medium border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:ring-purple-500 focus:border-purple-500 disabled:opacity-50",title:"Select a theme for re-generation",children:Object.keys(n0).map(de=>m.jsx("option",{value:de,children:de},de))})}),K!=="Paid"&&m.jsxs("button",{onClick:()=>ae(z.id),disabled:$,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-teal-700 bg-teal-100 hover:bg-teal-200 dark:bg-teal-900/50 dark:text-teal-300 dark:hover:bg-teal-900 transition disabled:opacity-50",title:"Mark this invoice as paid",children:[m.jsx(H1,{}),m.jsx("span",{children:"Mark as Paid"})]}),m.jsx(M,{onClick:()=>Ne("view",z),invoiceId:z.id,action:"view",Icon:ng,title:"View PDF",text:"View",className:"text-indigo-700 bg-indigo-100 hover:bg-indigo-200 disabled:bg-gray-200 disabled:text-gray-400 dark:bg-indigo-900/50 dark:text-indigo-300 dark:hover:bg-indigo-900 dark:disabled:bg-gray-600 dark:disabled:text-gray-500"}),m.jsx(M,{onClick:()=>Ne("download",z),invoiceId:z.id,action:"download",Icon:Mh,title:"Download PDF",text:"Download",className:"text-green-700 bg-green-100 hover:bg-green-200 disabled:bg-gray-200 disabled:text-gray-400 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900 dark:disabled:bg-gray-600 dark:disabled:text-gray-500"}),m.jsxs("button",{onClick:()=>e(z.id),disabled:$,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900 transition disabled:opacity-50",title:"Edit Invoice",children:[m.jsx(lg,{}),m.jsx("span",{children:"Edit"})]}),m.jsxs("button",{onClick:()=>se(z),disabled:$,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900 transition disabled:opacity-50",title:"Delete Invoice",children:[m.jsx(Uh,{}),m.jsx("span",{children:"Delete"})]})]})})]},z.id)})})]})]})]})};async function I6(r){try{const[e,t,n,s,o]=await Promise.all([i0(r),S5(r),N5(r),L5(r),_5(r,"pdfTheme")]),u=JSON.stringify({invoices:e,clients:t,senderInfo:n,bankInfo:s,settings:{pdfTheme:o}},null,2),h=new Blob([u],{type:"application/json"}),f=URL.createObjectURL(h),v=document.createElement("a");v.href=f,v.download=`pdf_invoicer_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(f)}catch(e){throw console.error("Data export failed:",e),e instanceof Error?new Error(`Export failed during processing: ${e.message}`):new Error("An unknown error occurred during data export.")}}async function F6(r,e){var t;try{const n=u6.parse(e),s={invoices:0,clients:0,settings:0};if(n.clients){for(const l of n.clients){const u={id:l.id,userId:r,name:l.name,address:l.address};await g6(u)}s.clients=n.clients.length}if(n.invoices){for(const l of n.invoices){const u={id:l.id,userId:r,invoiceNumber:l.invoiceNumber,date:l.date,client:l.client,clientAddress:l.clientAddress,clientReference:l.clientReference,projectReference:l.projectReference,expensesIncluded:l.expensesIncluded,renderedService:l.renderedService,currency:l.currency,items:l.items,taxRate:l.taxRate,total:l.total,workDates:l.workDates??void 0,travelDates:l.travelDates??void 0,status:l.status??void 0};await C5(u)}s.invoices=n.invoices.length}let o=0;if(n.senderInfo){const l={id:n.senderInfo.id,userId:r,name:n.senderInfo.name,address:n.senderInfo.address,phone:n.senderInfo.phone};await j5(l),o++}if(n.bankInfo){const l={id:n.bankInfo.id,userId:r,bankAddress:n.bankInfo.bankAddress,contactName:n.bankInfo.contactName,contactPhone:n.bankInfo.contactPhone,contactEmail:n.bankInfo.contactEmail,bankName:n.bankInfo.bankName,swiftCode:n.bankInfo.swiftCode,accountNumber:n.bankInfo.accountNumber};await A5(l),o++}return(t=n.settings)!=null&&t.pdfTheme&&(await k5(r,"pdfTheme",n.settings.pdfTheme),o++),s.settings=o,s}catch(n){if(console.error("JSON data import failed:",n),n instanceof Li){const s=n.issues[0],l=`Invalid data in backup file. Field '${s.path.join(" -> ")}': ${s.message}.`;throw console.error(l),new Error(l)}throw n instanceof Error?new Error(`Import failed during processing: ${n.message}`):new Error("An unknown error occurred during JSON data import.")}}const R6=({currentUser:r,onUserUpdate:e,onLogout:t})=>{const{settings:n,pdfTheme:s,signatureFont:o,loading:l,reloadSettings:u,updatePdfTheme:h,updateSignatureFont:f}=s0(),v=Cd(),x=gl(),[C,b]=G.useState({name:"",address:"",phone:""}),[j,L]=G.useState({bankAddress:"",contactName:"",contactPhone:"",contactEmail:"",bankName:"",swiftCode:"",accountNumber:""}),[A,E]=G.useState(""),[D,H]=G.useState(""),[Y,ne]=G.useState(!1),[we,ue]=G.useState(!1),[Q,ye]=G.useState(!1);G.useEffect(()=>{n&&(console.log("[Settings.tsx] useEffect - Settings loaded:",n),console.log("[Settings.tsx] useEffect - Bank address from settings:",n.bank.bankAddress),b(n.sender),L(n.bank))},[n]);const pe=Object.keys(n0),B=["Times-Italic","Caveat","Dancing Script","Great Vibes","Pacifico"],V=async()=>{if(window.confirm("This will generate a JSON file containing all your invoices, clients, and settings. Are you sure you want to proceed?")){ne(!0);try{await I6(r.id),v.addToast("Data exported successfully!","success")}catch(W){v.addToast(`Error exporting data: ${W.message}`,"error")}finally{ne(!1)}}},ie=async W=>{var de;const K=(de=W.target.files)==null?void 0:de[0];if(K){ue(!0);try{const me=await K.text(),De=JSON.parse(me),Oe=await F6(r.id,De);v.addToast(`Successfully imported ${Oe.invoices} invoices, ${Oe.clients} clients, and various settings.`,"success"),await u()}catch(me){console.error("JSON import failed:",me),v.addToast(me.message||"An unknown error occurred during JSON import.","error")}finally{ue(!1),W.target.value=""}}},ee=W=>{b({...C,[W.target.name]:W.target.value})},Se=W=>{L({...j,[W.target.name]:W.target.value})},ke=W=>{const K=W.target.value;h(K),v.addToast("PDF theme updated!","success")},Ne=W=>{const K=W.target.value;f(K),v.addToast("Signature font updated!","success")},re=async()=>{console.log("[Settings.tsx] handleSave - Bank state before saving:",j);try{await Promise.all([j5({...C,userId:r.id}),A5({...j,userId:r.id})]),await u(),v.addToast("Settings saved successfully!","success")}catch(W){console.error("Failed to save settings:",W),v.addToast("Error saving settings. Please check the console.","error")}},se=async W=>{if(W.preventDefault(),A!==D){v.addToast("New passwords do not match.","error");return}if(!A||A.length<6){v.addToast("New password must be at least 6 characters long.","error");return}try{const{error:K}=await Wt.auth.updateUser({password:A});if(K)throw K;v.addToast("Password changed successfully!","success"),E(""),H("")}catch(K){console.error(K),v.addToast(`Error changing password: ${K.message}`,"error")}},I=async()=>{try{await x6(),v.addToast("Your account has been deactivated. You will now be logged out.","success"),ye(!1),setTimeout(t,3e3)}catch(W){console.error(W),v.addToast(`Error deleting account: ${W.message}`,"error"),ye(!1)}},ae="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",N=(W,K,de,me,De,Oe=!1)=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:K,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:W}),m.jsx("input",{type:"text",id:K,name:K,value:de,onChange:me,placeholder:De,required:Oe,className:ae})]}),M=(W,K,de,me)=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:K,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:W}),m.jsx("input",{type:"password",id:K,name:K,value:de,onChange:me,required:!0,className:ae})]}),$=(W,K,de,me,De)=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:K,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:W}),m.jsx("textarea",{id:K,name:K,value:de,onChange:me,placeholder:De,rows:3,className:ae})]});if(l)return m.jsx("div",{className:"p-10 text-center",children:"Loading settings..."});const z=r.profile.credits??0;return m.jsxs(m.Fragment,{children:[m.jsx(a0,{isOpen:Q,onClose:()=>ye(!1),onConfirm:I,title:"Delete Account",message:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"This action is irreversible and will permanently deactivate your account and delete all associated data (invoices, clients, settings)."}),m.jsx("p",{className:"font-bold mt-2",children:"Are you absolutely sure?"})]}),confirmInput:"DELETE"}),m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Settings"}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"Credits"}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg",children:[m.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[m.jsx("p",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Your Current Balance"}),m.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:z>=9999?"∞":z})]}),m.jsx("button",{onClick:()=>x("/buy-credits"),className:"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition",children:"Buy More Credits"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Creating a new invoice costs 1 credit. Editing or re-generating PDFs is free."})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"Sender Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N("Your Name / Company","name",C.name,ee,"e.g. John Doe",!0),N("Phone Number","phone",C.phone,ee,"e.g. +1 123 456 7890",!0),m.jsx("div",{className:"md:col-span-2",children:$("Address","address",C.address,ee,`123 Main St
New York, NY 10001`)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"Bank Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N("Bank Name","bankName",j.bankName,Se,"e.g. Global Bank Inc.",!0),N("Account Number","accountNumber",j.accountNumber,Se,"e.g. 1234567890",!0),N("SWIFT Code / IBAN","swiftCode",j.swiftCode,Se,"e.g. GLOBUK2LXXX"),N("Contact Name (for Signature)","contactName",j.contactName,Se,"e.g. Jane Doe (Finance)"),N("Contact Phone","contactPhone",j.contactPhone,Se,"e.g. +1 123 456 7891"),N("Contact Email","contactEmail",j.contactEmail,Se,"e.g. finance@example.com"),m.jsx("div",{className:"md:col-span-2",children:$("Bank Address","bankAddress",j.bankAddress,Se,`456 Banking Ave
London, UK SW1A 0AA`)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"PDF Appearance"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"pdfTheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color Scheme"}),m.jsx("select",{id:"pdfTheme",name:"pdfTheme",value:s,onChange:ke,className:ae,children:pe.map(W=>m.jsx("option",{value:W,children:W},W))}),m.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Select a color theme for your generated PDF invoices. Saved automatically."})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"signatureFont",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Signature Font"}),m.jsx("select",{id:"signatureFont",name:"signatureFont",value:o,onChange:Ne,className:ae,children:B.map(W=>m.jsx("option",{value:W,children:W},W))}),m.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Choose a font for the authorized signature on your PDF."})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Signature Preview"}),m.jsx("div",{className:"mt-2 p-4 border dark:border-gray-600 rounded-md text-center bg-gray-50 dark:bg-gray-900/50",children:m.jsx("p",{className:"text-2xl",style:{fontFamily:o==="Times-Italic"?"'Times New Roman', Times, serif":`'${o}', cursive`,fontStyle:o==="Times-Italic"?"italic":"normal"},children:j.contactName||C.name||"Signature Preview"})}),m.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"The signature on your PDF will be rendered in the selected style."})]})]})]}),m.jsx("div",{className:"mt-8 flex justify-end",children:m.jsx("button",{onClick:re,className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Save General Settings"})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"Data Management"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Export Data"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:"Download a full backup of all your invoices, clients, and settings as a single JSON file. Keep this file safe."}),m.jsxs("button",{onClick:V,disabled:Y,className:"px-5 py-2 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[m.jsx(Mh,{className:"mr-2"}),Y?"Exporting...":"Export All Data"]})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Import Data"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:"Restore your data from a previously exported JSON backup file. This will overwrite any conflicting data."}),m.jsxs("label",{htmlFor:"json-importer",className:"px-5 py-2 bg-gray-600 text-white font-bold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center cursor-pointer w-full sm:w-auto",children:[m.jsx(fy,{className:"mr-2"}),we?"Importing...":"Import from JSON Backup"]}),m.jsx("input",{id:"json-importer",type:"file",className:"hidden",accept:".json",onChange:ie,disabled:we})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg mt-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6",children:"Security"}),m.jsxs("form",{onSubmit:se,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Change Password"}),m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[M("New Password","newPassword",A,W=>E(W.target.value)),M("Confirm New Password","confirmPassword",D,W=>H(W.target.value))]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Update Password"})})]})]}),m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-6 rounded-xl shadow-lg mt-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-red-800 dark:text-red-200",children:"Danger Zone"}),m.jsx("p",{className:"text-red-600 dark:text-red-300 mt-2 mb-4 text-sm",children:"This will permanently delete all your invoice data and deactivate your account."}),m.jsx("button",{onClick:()=>ye(!0),className:"px-5 py-2 bg-red-600 text-white font-bold rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200",children:"Delete My Account"})]})]})]})},a1=({title:r,value:e,icon:t,color:n})=>m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg flex items-center",children:[m.jsx("div",{className:`p-3 rounded-full ${n}`,children:m.jsx(t,{className:"w-7 h-7 text-white"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:r}),m.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:e})]})]}),D6=({data:r,currency:e})=>{const t=G.useMemo(()=>Math.max(...r.map(n=>n.earnings),0),[r]);return r.every(n=>n.earnings===0)?m.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:"No earnings data to display for this period."}):m.jsx("div",{className:"flex justify-around items-end h-64 space-x-2 pt-4",children:r.map(({label:n,earnings:s})=>{const o=t>0?s/t*100:0;return m.jsxs("div",{className:"flex flex-col items-center justify-end flex-1 group h-full",children:[m.jsx("div",{className:"relative w-full flex justify-center",children:m.jsxs("div",{className:"absolute -top-8 mb-1 px-2 py-1 bg-gray-900 text-gray-100 text-xs font-bold rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[e,s.toFixed(0)]})}),m.jsx("div",{className:"w-full bg-blue-400 dark:bg-blue-600 hover:bg-blue-500 dark:hover:bg-blue-500 rounded-t-md transition-all duration-300",style:{height:`${o}%`,minHeight:"1px"}}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 whitespace-nowrap",children:n})]},n)})})},I2=({title:r,items:e,icon:t,action:n})=>m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center",children:[m.jsx(t,{className:"w-5 h-5 mr-3 text-gray-400"}),r]}),n]}),e.length>0?m.jsx("ul",{className:"space-y-3",children:e.map((s,o)=>m.jsxs("li",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-gray-600 dark:text-gray-300 truncate pr-2",children:s.primary}),m.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100 whitespace-nowrap",children:s.secondary})]},o))}):m.jsx("p",{className:"text-sm text-center py-8 text-gray-400 dark:text-gray-500",children:"No data available."})]}),O6=({isOpen:r,onClose:e,clients:t})=>r?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"All Clients"}),m.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(bd,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),m.jsx("div",{className:"overflow-y-auto p-6",children:t.length>0?m.jsx("ul",{className:"space-y-4",children:t.map((n,s)=>m.jsxs("li",{className:"flex justify-between items-center text-base border-b dark:border-gray-700/50 pb-2",children:[m.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:n.primary}),m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-50",children:n.secondary})]},s))}):m.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:"No clients found for this period."})})]})}):null,M6=({isOpen:r,onClose:e,references:t})=>r?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Client & Project References"}),m.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(bd,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),m.jsx("div",{className:"overflow-y-auto p-6",children:t.length>0?m.jsx("ul",{className:"space-y-4",children:t.map((n,s)=>m.jsxs("li",{className:"border-b dark:border-gray-700/50 pb-3 last:border-b-0",children:[m.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-50",children:n.clientRef}),n.projectRefs.length>0?m.jsx("ul",{className:"pl-5 mt-2 space-y-1 text-sm list-disc",children:n.projectRefs.map((o,l)=>m.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:o},l))}):m.jsx("p",{className:"pl-5 mt-1 text-sm text-gray-500 italic",children:"No associated project references."})]},s))}):m.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:"No references found for this period."})})]})}):null,B6=({invoices:r,currencySymbol:e,displayCurrency:t,convertCurrency:n})=>{const[s,o]=G.useState(new Date),[l,u]=G.useState("month"),{activityData:h,activityTooltips:f}=G.useMemo(()=>{const D=new Map,H=new Map;return r.forEach(Y=>{try{Y.date&&!isNaN(new Date(Y.date).getTime())&&(D.has(Y.date)||(D.set(Y.date,"invoice"),H.set(Y.date,"Invoice Issued"))),(Y.travelDates||[]).forEach(ne=>{ne&&!isNaN(new Date(ne).getTime())&&(D.set(ne,"travel"),H.set(ne,"Travel Day"))}),(Y.workDates||[]).forEach(ne=>{ne&&!isNaN(new Date(ne).getTime())&&(D.set(ne,"work"),H.set(ne,"Work Day"))})}catch(ne){console.error("Skipping invalid date found in invoice for calendar:",ne)}}),{activityData:D,activityTooltips:H}},[r]),v=s.getFullYear(),x=s.getMonth(),C=G.useMemo(()=>{if(l!=="year")return{workDays:0,earnings:0};const D=r.filter(ne=>{try{return new Date(ne.date).getFullYear()===v}catch{return!1}}),H=new Set;let Y=0;return D.forEach(ne=>{(ne.workDates||[]).forEach(we=>H.add(we)),(ne.travelDates||[]).forEach(we=>H.add(we)),Y+=n(ne.total||0,ne.currency,t)}),{workDays:H.size,earnings:Y}},[v,r,l,t,n]),b=D=>{o(H=>{const Y=new Date(H);return Y.setDate(1),l==="month"?Y.setMonth(Y.getMonth()+D):Y.setFullYear(Y.getFullYear()+D),Y})},j=D=>{switch(D){case"work":return"bg-green-500 text-white font-bold";case"travel":return"bg-orange-500 text-white font-bold";case"invoice":return"bg-yellow-400 text-gray-800 font-bold";default:return""}},L=(D,H)=>D>=1e6?`${H}${(D/1e6).toFixed(1)} million`:`${H}${D.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,A=()=>{const D=new Date(v,x+1,0).getDate(),H=(new Date(v,x,1).getDay()+6)%7,Y=Array.from({length:D},(ue,Q)=>Q+1),ne=Array.from({length:H}),we=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return m.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-xs text-gray-500 dark:text-gray-400",children:[we.map(ue=>m.jsx("div",{className:"font-bold",children:ue},ue)),ne.map((ue,Q)=>m.jsx("div",{},`pad-${Q}`)),Y.map(ue=>{const Q=`${v}-${(x+1).toString().padStart(2,"0")}-${ue.toString().padStart(2,"0")}`,ye=h.get(Q),pe=f.get(Q),B=j(ye);return m.jsx("div",{title:pe,className:`w-full aspect-square flex items-center justify-center rounded-full transition-colors ${B}`,children:ue},ue)})]})},E=()=>{const D=["M","T","W","T","F","S","S"];return m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-4",children:Array.from({length:12}).map((H,Y)=>{const ne=new Date(v,Y).toLocaleString("default",{month:"long"}),we=new Date(v,Y+1,0).getDate(),ue=(new Date(v,Y,1).getDay()+6)%7,Q=Array.from({length:we},(pe,B)=>B+1),ye=Array.from({length:ue});return m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-center text-sm mb-2 text-gray-700 dark:text-gray-300",children:ne}),m.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[D.map(pe=>m.jsx("div",{className:"text-[10px] text-center text-gray-400",children:pe},pe)),ye.map((pe,B)=>m.jsx("div",{},`pad-${B}`)),Q.map(pe=>{var Se;const B=`${v}-${(Y+1).toString().padStart(2,"0")}-${pe.toString().padStart(2,"0")}`,V=h.get(B),ie=f.get(B),ee=V?(Se=j(V))==null?void 0:Se.split(" ")[0]:"bg-gray-200 dark:bg-gray-700/50";return m.jsx("div",{title:ie,className:`w-full aspect-square rounded-sm ${ee}`},pe)})]})]},Y)})})};return m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg h-full flex flex-col",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center",children:[m.jsx(Q2,{className:"w-5 h-5 mr-3 text-gray-400"}),"Activity Calendar"]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-900 p-1 rounded-md",children:[m.jsx("button",{onClick:()=>u("month"),className:`px-2 py-1 text-xs font-semibold rounded ${l==="month"?"bg-white dark:bg-gray-700 shadow text-blue-600 dark:text-blue-400":"text-gray-500"}`,children:"Month"}),m.jsx("button",{onClick:()=>u("year"),className:`px-2 py-1 text-xs font-semibold rounded ${l==="year"?"bg-white dark:bg-gray-700 shadow text-blue-600 dark:text-blue-400":"text-gray-500"}`,children:"Year"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>b(-1),className:"p-1.5 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(eg,{})}),m.jsx("span",{className:"text-sm font-semibold w-28 text-center text-gray-800 dark:text-gray-200",children:l==="month"?s.toLocaleString("default",{month:"long",year:"numeric"}):v}),m.jsx("button",{onClick:()=>b(1),className:"p-1.5 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",children:m.jsx(tg,{})})]})]})]}),m.jsx("div",{className:"flex-grow",children:l==="month"?A():E()}),l==="year"&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsxs("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 mb-2",children:["Summary for ",v]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-gray-600 dark:text-gray-300 space-y-1 sm:space-y-0",children:[m.jsxs("span",{children:["Days of work: ",m.jsxs("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:[C.workDays," days"]})]}),m.jsxs("span",{children:["Earnings: ",m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:L(C.earnings,e)})]})]})]})]})},U6=({count:r,amount:e,currency:t})=>r===0?null:m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800/50 p-4 rounded-xl text-yellow-800 dark:text-yellow-200 flex items-center gap-4",children:[m.jsx(bh,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 flex-shrink-0"}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold",children:["You have ",r," outstanding invoice(s)!"]}),m.jsxs("p",{className:"text-sm",children:["The total amount awaiting payment is ",t,e.toFixed(2),". Check the Invoice History to follow up."]})]})]}),z6={"£":"GBP",$:"USD","€":"EUR","¥":"JPY",A$:"AUD",RM:"MYR"},q6={GBP:"£",USD:"$",EUR:"€",JPY:"¥",AUD:"A$",MYR:"RM",CAD:"C$",CHF:"CHF",CNY:"CN¥",INR:"₹"},$6=["GBP","USD","EUR","JPY","AUD","MYR","CAD","CHF","CNY","INR"],H6=({currentUser:r})=>{const[e,t]=G.useState([]),[n,s]=G.useState(!0),[o,l]=G.useState("last12"),[u,h]=G.useState(!1),[f,v]=G.useState(!1),[x,C]=G.useState("GBP"),[b,j]=G.useState(null),[L,A]=G.useState(!0),E=Cd();G.useEffect(()=>{const se=async()=>{s(!0);try{const ae=await i0(r.id);t(ae)}catch(ae){console.error("Failed to load invoices for dashboard:",ae)}finally{s(!1)}},I=async()=>{A(!0);try{const ae=localStorage.getItem("exchangeRates"),N=new Date().getTime();if(ae){const{rates:W,timestamp:K}=JSON.parse(ae);if(N-K<144e5){j(W),A(!1);return}}const M=await fetch("https://api.frankfurter.app/latest?from=EUR");if(!M.ok)throw new Error("Network response was not ok");const $=await M.json(),z={...$.rates,[$.base]:1};j(z),localStorage.setItem("exchangeRates",JSON.stringify({rates:z,timestamp:N}))}catch(ae){console.error("Failed to fetch exchange rates:",ae),E.addToast("Could not fetch exchange rates. Totals may be inaccurate.","error"),localStorage.removeItem("exchangeRates")}finally{A(!1)}};se(),I()},[r.id,E]);const D=G.useCallback((se,I,ae)=>{if(!b||!se)return 0;const N=z6[I];if(!N)return console.warn(`Unsupported currency symbol for conversion: ${I}`),se;const M=ae,$=b[N],z=b[M];return typeof $!="number"||typeof z!="number"?(console.warn(`Exchange rate not available or not a number for ${N} or ${M}.`),se):se/$*z},[b]),H=se=>{const I=se==null?void 0:se.total;return typeof I=="number"&&!isNaN(I)?I:0},Y=G.useMemo(()=>{const se=new Set(e.map(I=>{try{return new Date(I.date).getFullYear()}catch{return 0}}).filter(I=>I>0));return Array.from(se).sort((I,ae)=>ae-I)},[e]),ne=G.useMemo(()=>{if(o==="last12"){const I=new Date;return I.setMonth(I.getMonth()-12),e.filter(ae=>{try{return new Date(ae.date)>=I}catch{return!1}})}const se=parseInt(o,10);return e.filter(I=>{try{return new Date(I.date).getFullYear()===se}catch{return!1}})},[e,o]),{totalEarnings:we,totalInvoicesCount:ue,totalClients:Q,currencySymbol:ye,outstandingAmount:pe,outstandingCount:B}=G.useMemo(()=>{let se=0,I=0,ae=0;ne.forEach($=>{const z=D(H($),$.currency,x);se+=z,$.status!=="Paid"&&(ae++,I+=z)});const N=new Set(ne.map($=>$.client)).size,M=q6[x]||x;return{totalEarnings:se,totalInvoicesCount:ne.length,totalClients:N,currencySymbol:M,outstandingAmount:I,outstandingCount:ae}},[ne,x,D]),{data:V,chartTitle:ie}=G.useMemo(()=>{if(o==="last12"){const se=Array.from({length:12},(I,ae)=>{const N=new Date;return N.setDate(1),N.setMonth(N.getMonth()-ae),{label:N.toLocaleString("default",{month:"short"}),key:`${N.getFullYear()}-${N.getMonth()}`,earnings:0}}).reverse();return ne.forEach(I=>{try{if(!I.date||isNaN(new Date(I.date).getTime()))return;const ae=new Date(I.date),N=`${ae.getFullYear()}-${ae.getMonth()}`,M=se.find($=>$.key===N);M&&(M.earnings+=D(H(I),I.currency,x))}catch{}}),{data:se,chartTitle:"Monthly Earnings (Last 12 Months)"}}else{const se=parseInt(o,10),I=Array.from({length:12},(ae,N)=>({label:new Date(0,N).toLocaleString("default",{month:"short"}),earnings:0}));return ne.forEach(ae=>{try{if(!ae.date||isNaN(new Date(ae.date).getTime()))return;const N=new Date(ae.date).getMonth();I[N].earnings+=D(H(ae),ae.currency,x)}catch{}}),{data:I,chartTitle:`Monthly Earnings (${se})`}}},[ne,o,x,D]),ee=G.useMemo(()=>{const se=new Map;return ne.forEach(I=>{const ae=D(H(I),I.currency,x),N=se.get(I.client)||0;se.set(I.client,N+ae)}),Array.from(se.entries()).sort((I,ae)=>ae[1]-I[1]).map(([I,ae])=>({primary:I,secondary:`${ye}${ae.toFixed(2)}`}))},[ne,ye,x,D]),Se=G.useMemo(()=>ee.slice(0,5),[ee]),ke=G.useMemo(()=>{const se=new Map;return ne.forEach(I=>{const ae=I.clientReference,N=I.projectReference;ae&&(se.has(ae)||se.set(ae,new Set),N&&se.get(ae).add(N))}),Array.from(se.entries()).map(([I,ae])=>({clientRef:I,projectRefs:Array.from(ae).sort()})).sort((I,ae)=>I.clientRef.localeCompare(ae.clientRef))},[ne]),Ne=G.useMemo(()=>ke.map(se=>({primary:se.clientRef,secondary:""})).slice(0,4),[ke]),re=()=>{const se=[],I=new Map;ne.forEach(W=>{(W.workDates||[]).forEach(K=>{I.has(K)||I.set(K,"Work")}),(W.travelDates||[]).forEach(K=>{I.has(K)||I.set(K,"Travel")})}),Array.from(I.entries()).sort((W,K)=>W[0].localeCompare(K[0])).forEach(([W,K])=>{se.push([W,K])});const N=W=>{const K=String(W);return K.includes(",")?`"${K}"`:K};let M="data:text/csv;charset=utf-8,";M+=`Summary Report
`,M+=`Period,${o==="last12"?"Last 12 Months":`Year ${o}`}
`,M+=`Display Currency,${x}
`,M+=`Metric,Value
`,M+=`Total Earnings,${N(ye+we.toFixed(2))}
`,M+=`Total Invoices,${ue}
`,M+=`Total Clients,${Q}
`,M+=`Outstanding Invoices,${B}
`,M+=`Outstanding Amount,${N(ye+pe.toFixed(2))}
`,M+=`
`,M+=`Activity Log
`,M+=`Date,Type
`,se.forEach(W=>{M+=W.map(N).join(",")+`
`}),M+=`
`,M+=`Earnings by Month
`,M+=`Month,Earnings (${x})
`,V.forEach(W=>{M+=`${W.label},${W.earnings.toFixed(2)}
`}),M+=`
`,M+=`Earnings by Client
`,M+=`Client,Earnings (${x})
`,ee.forEach(W=>{const K=W.secondary.replace(ye,"");M+=`${N(W.primary)},${K}
`});const $=encodeURI(M),z=document.createElement("a");z.setAttribute("href",$),z.setAttribute("download",`PDF_Invoicer_Summary_${o}_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(z),z.click(),document.body.removeChild(z)};return n?m.jsx("div",{className:"text-center p-10",children:"Loading dashboard..."}):e.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10",children:[m.jsx(dg,{className:"w-24 h-24 text-blue-400 mb-6"}),m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Welcome to Your Dashboard!"}),m.jsx("p",{className:"mt-2 text-lg text-gray-500 dark:text-gray-400",children:"It looks like you haven't created any invoices yet."}),m.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Click on 'Create Invoice' in the sidebar to get started."})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsx(O6,{isOpen:u,onClose:()=>h(!1),clients:ee}),m.jsx(M6,{isOpen:f,onClose:()=>v(!1),references:ke}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"My Dashboard"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.jsx("div",{className:"relative",children:m.jsx("select",{value:x,onChange:se=>C(se.target.value),disabled:L,className:"pl-3 pr-8 py-2 rounded-lg text-sm font-semibold border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:ring-blue-500 focus:border-blue-500 shadow-sm appearance-none",title:"Select display currency",children:L?m.jsx("option",{children:"Loading..."}):$6.map(se=>m.jsx("option",{value:se,children:se},se))})}),m.jsx("div",{className:"relative",children:m.jsxs("select",{value:o,onChange:se=>l(se.target.value),className:"pl-3 pr-8 py-2 rounded-lg text-sm font-semibold border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:ring-blue-500 focus:border-blue-500 shadow-sm appearance-none",title:"Select time period",children:[m.jsx("option",{value:"last12",children:"Last 12 Months"}),Y.map(se=>m.jsx("option",{value:se,children:`Year ${se}`},se))]})}),m.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-semibold border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 shadow-sm",title:"Export Summary",children:[m.jsx(Mh,{}),"Export"]})]})]}),m.jsx(U6,{count:B,amount:pe,currency:ye}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(a1,{title:"Total Earnings",value:`${ye}${we.toFixed(2)}`,icon:X2,color:"bg-blue-500"}),m.jsx(a1,{title:"Total Invoices",value:ue,icon:Zv,color:"bg-green-500"}),m.jsx(a1,{title:"Total Clients",value:Q,icon:Lp,color:"bg-orange-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:ie}),m.jsx(D6,{data:V,currency:ye})]}),m.jsx(B6,{invoices:e,currencySymbol:ye,displayCurrency:x,convertCurrency:D}),m.jsx(I2,{title:"Top Clients",items:Se,icon:Lp,action:m.jsx("button",{onClick:()=>h(!0),className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:"See All"})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsx(I2,{title:"Client References",items:Ne,icon:V1,action:ke.length>0&&m.jsx("button",{onClick:()=>v(!0),className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:"See All"})})})]})]})},W6=()=>{const[r,e]=G.useState(""),[t,n]=G.useState(""),[s,o]=G.useState(""),[l,u]=G.useState(!1);gl();const h=async f=>{f.preventDefault(),o(""),u(!0);try{const{error:v}=await Wt.auth.signInWithPassword({email:r,password:t});v&&o(v.message)}catch(v){console.error(v),o("An unexpected error occurred. Please try again later.")}finally{u(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8 md:p-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/logo.svg",alt:"PDF Invoicer Logo",className:"w-20 h-20 mx-auto mb-4"}),m.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:"PDF Invoicer"}),m.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:"BETA"})]}),m.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-400",children:"Sign In to Your Account"})]}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Bh,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:f=>e(f.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"you@example.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(du,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:f=>n(f.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"••••••••"})]})]}),m.jsx("div",{className:"flex items-center justify-end text-sm",children:m.jsx(Xn,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})}),s&&m.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:s}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 disabled:bg-blue-400",children:l?"Signing In...":"Sign In"})})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",m.jsx(Xn,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign Up"})]})})]}),m.jsxs("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-6 space-x-4",children:[m.jsx(Xn,{to:"/terms",className:"hover:underline",children:"Terms of Service"}),m.jsx("span",{children:"•"}),m.jsx(Xn,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),m.jsx("span",{children:"•"}),m.jsx(Xn,{to:"/faq",className:"hover:underline",children:"FAQ"})]})]})})},V6=()=>{const[r,e]=G.useState(""),[t,n]=G.useState(""),[s,o]=G.useState(""),[l,u]=G.useState(!1),[h,f]=G.useState(""),[v,x]=G.useState(""),[C,b]=G.useState(!1),j=async L=>{if(L.preventDefault(),f(""),x(""),b(!0),t!==s){f("Passwords do not match."),b(!1);return}if(t.length<6){f("Password should be at least 6 characters."),b(!1);return}if(!l){f("You must agree to the terms and conditions to sign up."),b(!1);return}try{const{data:A,error:E}=await Wt.auth.signUp({email:r,password:t,options:{emailRedirectTo:`${window.location.origin}${window.location.pathname}`}});E?f(E.message):A.user?x("Account created! Check your email for a confirmation link to log in."):f("An unknown error occurred during sign up.")}catch(A){A instanceof Error?f(A.message):f("An unknown error occurred during sign up."),console.error(A)}finally{b(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8 md:p-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/logo.svg",alt:"PDF Invoicer Logo",className:"w-20 h-20 mx-auto mb-4"}),m.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:"PDF Invoicer"}),m.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:"BETA"})]}),m.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-400",children:"Create Your Account"})]}),m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Bh,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r,onChange:L=>e(L.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"you@example.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(du,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t,onChange:L=>n(L.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"••••••••"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(du,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:L=>o(L.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"••••••••"})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex items-center h-5",children:m.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:l,onChange:L=>u(L.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),m.jsx("div",{className:"ml-3 text-sm",children:m.jsxs("label",{htmlFor:"terms",className:"text-gray-600 dark:text-gray-400",children:["I agree to the"," ",m.jsx(Xn,{to:"/terms",className:"font-medium text-blue-600 hover:underline",children:"Terms of Service"})," and ",m.jsx(Xn,{to:"/privacy",className:"font-medium text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]}),h&&m.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:h}),v&&m.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:v}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 disabled:bg-blue-400",children:C?"Signing Up...":"Sign Up"})})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",m.jsx(Xn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign In"})]})})]}),m.jsxs("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-6 space-x-4",children:[m.jsx(Xn,{to:"/terms",className:"hover:underline",children:"Terms of Service"}),m.jsx("span",{children:"•"}),m.jsx(Xn,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),m.jsx("span",{children:"•"}),m.jsx(Xn,{to:"/faq",className:"hover:underline",children:"FAQ"})]})]})})},Z6=()=>m.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 md:p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8 md:p-10",children:[m.jsxs(Xn,{to:"/dashboard",className:"flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline mb-6",children:[m.jsx(wd,{className:"mr-2"}),"Back to App"]}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Terms of Service"}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString()]}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-4 text-gray-700 dark:text-gray-300",children:[m.jsx("p",{children:"Welcome to PDF Invoicer! These terms and conditions outline the rules and regulations for the use of our application."}),m.jsx("h2",{className:"text-xl font-semibold",children:"1. Acceptance of Terms"}),m.jsx("p",{children:"By accessing and using our application, you accept and agree to be bound by the terms and provision of this agreement. In addition, when using these particular services, you shall be subject to any posted guidelines or rules applicable to such services. Any participation in this service will constitute acceptance of this agreement."}),m.jsx("h2",{className:"text-xl font-semibold",children:"2. Description of Service"}),m.jsx("p",{children:'Our application provides users with the ability to create, manage, and download invoices in PDF format. The service is provided "as is" and we assume no responsibility for the timeliness, deletion, mis-delivery or failure to store any user communications or personalization settings.'}),m.jsx("h2",{className:"text-xl font-semibold",children:"3. User Accounts"}),m.jsx("p",{children:"To access most features of the application, you must register for a user account. You are responsible for safeguarding your password and for all activities that occur under your account. You agree to notify us immediately of any unauthorized use of your account."}),m.jsx("h2",{className:"text-xl font-semibold",children:"4. User Content"}),m.jsx("p",{children:'You are solely responsible for all information, data, text, or other materials ("content") that you upload, post, or otherwise transmit via the service. We do not claim ownership of any content you submit. By submitting content, you grant us a worldwide, non-exclusive, royalty-free license to use, store, and process such content solely for the purpose of providing the service to you.'}),m.jsx("h2",{className:"text-xl font-semibold",children:"5. Limitation of Liability"}),m.jsx("p",{children:"In no event shall PDF Invoicer, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the service."}),m.jsx("h2",{className:"text-xl font-semibold",children:"6. Changes to Terms"}),m.jsx("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. We will provide notice of any changes by posting the new Terms of Service on this page. Your continued use of the service after any such changes constitutes your acceptance of the new Terms."}),m.jsx("p",{children:"If you have any questions about these Terms, please contact us."})]})]})}),G6=()=>m.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 md:p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8 md:p-10",children:[m.jsxs(Xn,{to:"/dashboard",className:"flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline mb-6",children:[m.jsx(wd,{className:"mr-2"}),"Back to App"]}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Privacy Policy"}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:["Last updated: ",new Date().toLocaleDateString()]}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-4 text-gray-700 dark:text-gray-300",children:[m.jsx("p",{children:"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."}),m.jsx("h2",{className:"text-xl font-semibold",children:"1. Information Collection and Use"}),m.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."}),m.jsx("h3",{className:"text-lg font-medium",children:"Personal Data"}),m.jsx("p",{children:'While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). Personally identifiable information may include, but is not limited to: Email address and Password.'}),m.jsx("h3",{className:"text-lg font-medium",children:"Invoice Data"}),m.jsx("p",{children:"All invoice information, client details, and financial data you enter into the application is linked to your account and stored securely on our backend servers."}),m.jsx("h2",{className:"text-xl font-semibold",children:"2. Data Storage and Security"}),m.jsx("p",{children:"Your data is stored securely in a cloud database. We implement industry-standard security practices to protect your data. We use Supabase as our backend service provider, which provides the database and authentication infrastructure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."}),m.jsx("h2",{className:"text-xl font-semibold",children:"3. Use of Your Personal Data"}),m.jsxs("p",{children:["The Application may use Personal Data for the following purposes:",m.jsxs("ul",{className:"list-disc pl-6",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"To provide and maintain our Service"}),", including to monitor the usage of our Service."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"To manage Your Account:"})," to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."]})]})]}),m.jsx("h2",{className:"text-xl font-semibold",children:"4. Changes to This Privacy Policy"}),m.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page. You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),m.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us, or for specific data protection inquiries in Malaysia, contact the Personal Data Protection Department at their official portal: ",m.jsx("a",{href:"https://daftar.pdp.gov.my/p_aduan",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"https://daftar.pdp.gov.my/p_aduan"}),"."]})]})]})}),Y6=({item:r,isOpen:e,onClick:t})=>{const{question:n,answer:s,icon:o}=r;return m.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[m.jsxs("button",{onClick:t,className:"w-full flex justify-between items-center text-left py-5 px-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(o,{className:"w-6 h-6 mr-4 text-blue-500"}),m.jsx("span",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:n})]}),m.jsx(W1,{className:`w-6 h-6 text-gray-500 transition-transform duration-300 ${e?"rotate-180":""}`})]}),m.jsx("div",{className:`grid transition-all duration-500 ease-in-out ${e?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:m.jsx("div",{className:"overflow-hidden",children:m.jsx("div",{className:"prose dark:prose-invert max-w-none p-6 pt-0 text-gray-600 dark:text-gray-300",children:s})})})]})},J6=[{icon:Z1,question:"Getting Started & Account Management",answer:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Welcome to PDF Invoicer! Here’s what you need to know to get started with your new cloud-powered account:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-3",children:[m.jsxs("li",{children:[m.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"Your Data is Now in the Cloud!"}),m.jsx("p",{className:"mt-1",children:"This application securely stores your data (invoices, clients, settings) on our servers, powered by Supabase. This means you get the best of both worlds: robust security and the convenience of accessing your information from anywhere."})]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Cross-Device & Cross-Browser Syncing"}),m.jsx("p",{className:"mt-1",children:"You can now log in from any computer or browser and your data will be there waiting for you. All your information is synchronized automatically."})]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Account Creation:"})," To begin, use the 'Sign Up' link. You'll need to verify your email address. Once confirmed, you can log in and start creating invoices."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Account Management:"})," You can change your password or permanently delete your account from the 'Settings' page. Deleting your account will remove all of your data from our servers and is an irreversible action."]})]})]})},{icon:X2,question:"Understanding the Dashboard",answer:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"The dashboard gives you a complete overview of your invoicing activity. Key features include:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Statistics Cards:"})," At the top, you'll find quick stats for Total Earnings, Total Invoices, and unique Clients for the selected time period."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Currency & Time Filters:"}),' You can change the currency for your financial summaries and filter the dashboard data by "Last 12 Months" or specific years.']}),m.jsxs("li",{children:[m.jsx("strong",{children:"Earnings Chart:"})," A bar chart visualizes your earnings over time, adjusted to your selected filters."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Activity Calendar:"})," This calendar provides a visual heat-map of your work. It shows dates you've marked as 'Work Days' (green), 'Travel Days' (orange), and days you've issued an invoice (yellow)."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Client & Reference Lists:"})," See your top clients by earnings and a list of all client/project references used in your invoices. Click 'See All' for a complete, detailed list in a pop-up window."]})]})]})},{icon:sg,question:"Configuring Your Settings",answer:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"The 'Settings' page is where you personalize your invoices and manage your account. It's important to fill this out before creating your first invoice."}),m.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Sender & Bank Information:"})," Enter your company/personal details and bank information. This data will automatically appear on your generated PDFs, saving you time."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"PDF Appearance:"})," Choose from over a dozen professional color schemes for your PDFs. Your selection is saved automatically and will be the default for all new invoices."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Account Security:"})," Secure your account by changing your password here."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Danger Zone:"})," You can permanently delete your account and all its data from this section. Please be aware that this action is irreversible."]})]})]})},{icon:ig,question:"How to Create an Invoice",answer:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Click 'Create Invoice' in the sidebar to start. The form is designed to be comprehensive:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-3",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Core Details:"})," Fill in the Invoice #, Date, Client information, and any references. If you select a saved client from the dropdown, their address will auto-fill."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Activity Dates (Optional):"})," Click this section to open a calendar where you can select specific 'Work Dates' and 'Travel Dates'. These are automatically reflected in your Dashboard's Activity Calendar, helping you track your time."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Line Items:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-2",children:[m.jsx("li",{children:"Add as many items as you need with the 'Add Line Item' button."}),m.jsx("li",{children:"The description field has a dropdown of common tasks (like 'Consulting work') to speed up entry."}),m.jsx("li",{children:"Totals for each line are calculated automatically."})]})]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Totals Section:"})," You can add a tax rate (in percent), and the final invoice total is calculated for you instantly."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Saving & Generating:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Save Invoice:"})," Saves the invoice data to the server. You can come back and edit it later."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Save & Generate PDF:"})," Saves the invoice and immediately generates and downloads the PDF file using your currently selected theme."]})]})]})]})]})},{icon:og,question:"Managing Your Invoice History",answer:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"The 'Invoice History' page lists all your saved invoices. Click on any invoice to expand it and see the available actions:"}),m.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-3",children:[m.jsxs("li",{children:[m.jsxs("strong",{className:"flex items-center",children:[m.jsx(ug,{className:"mr-2 text-purple-500"}),"Re-generate:"]})," If you've changed your PDF theme or company settings, click this to create a new PDF for this invoice without changing its financial data. You can also quickly select a new theme from the dropdown before regenerating."]}),m.jsxs("li",{children:[m.jsxs("strong",{className:"flex items-center",children:[m.jsx(ng,{className:"mr-2 text-indigo-500"}),"View:"]})," Opens the generated PDF in a new browser tab for a quick preview."]}),m.jsxs("li",{children:[m.jsxs("strong",{className:"flex items-center",children:[m.jsx(Mh,{className:"mr-2 text-green-500"}),"Download:"]})," Downloads the PDF file to your computer."]}),m.jsxs("li",{children:[m.jsxs("strong",{className:"flex items-center",children:[m.jsx(lg,{className:"mr-2 text-blue-500"}),"Edit:"]})," Opens this invoice in the 'Create Invoice' form, allowing you to make and save changes."]}),m.jsxs("li",{children:[m.jsxs("strong",{className:"flex items-center",children:[m.jsx(Uh,{className:"mr-2 text-red-500"}),"Delete:"]})," Permanently deletes the invoice from the server. A confirmation prompt will appear to prevent accidental deletion."]})]})]})}],K6=()=>{const[r,e]=G.useState(0),t=n=>{e(r===n?null:n)};return m.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 md:p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(Xn,{to:"/dashboard",className:"flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline mb-6",children:[m.jsx(wd,{className:"mr-2"}),"Back to App"]}),m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Help & Frequently Asked Questions"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"A guide to the essential features of the PDF Invoicer application."}),m.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl overflow-hidden",children:J6.map((n,s)=>m.jsx(Y6,{item:n,isOpen:r===s,onClick:()=>t(s)},s))})]})})},X6=()=>m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-8",children:"Contact"}),m.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-8",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("span",{className:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/50",children:m.jsx(Z1,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})})}),m.jsxs("div",{className:"ml-6 flex-grow",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"A Note from the Creator"}),m.jsxs("div",{className:"prose dark:prose-invert max-w-none mt-4 text-gray-600 dark:text-gray-300",children:[m.jsx("p",{children:"Hi there! Aizal here 👋"}),m.jsx("p",{children:"Thank you so much for checking out PDF Invoicer — whether you're just exploring or already using it to manage your invoices, I truly appreciate your time and support. This app was built with simplicity, privacy, and productivity in mind, and it means a lot to see it being used by people like you."}),m.jsxs("p",{children:["If you have any feedback, ideas, or just want to say hi, feel free to reach out to me on"," ",m.jsx("a",{href:"https://x.com/ShaifulAizal",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"X (formerly Twitter)"}),". I’d love to hear from you!"]}),m.jsxs("p",{className:"mt-6",children:["Warm regards,",m.jsx("br",{}),"Aizal Abdullah",m.jsx("br",{}),"Creator of PDF Invoicer"]})]})]})]})})]}),F2="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-base dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",Q6="px-5 py-2 mt-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:bg-gray-400",eb="shaiful.aizal@gmail.com",R2=`-- This function automatically creates a profile for a new user upon sign-up.
-- It's the most critical function for the app to work correctly.
CREATE OR REPLACE FUNCTION public.handle_create_profile_for_new_user()
RETURNS trigger AS $$
BEGIN
  INSERT INTO public.profiles (id, email, credits, is_admin)
  VALUES (
    new.id,
    new.email,
    9999, -- Default beta credits for all new users
    false -- New users are never admins by default. Admin rights must be granted manually.
  );
  RETURN new;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- This trigger attaches the function to the authentication system.
-- It must be created for the function above to have any effect.
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE PROCEDURE public.handle_create_profile_for_new_user();`,D2=`-- This function securely handles user account deletion from the Settings page.
CREATE OR REPLACE FUNCTION public.handle_soft_delete_user()
RETURNS void AS $$
BEGIN
  -- Deletes all data associated with the calling user
  DELETE FROM public.invoices WHERE user_id = auth.uid();
  DELETE FROM public.clients WHERE user_id = auth.uid();
  DELETE FROM public.sender_info WHERE user_id = auth.uid();
  DELETE FROM public.bank_info WHERE user_id = auth.uid();
  DELETE FROM public.app_settings WHERE user_id = auth.uid();
  
  -- Deactivates the profile instead of deleting it
  UPDATE public.profiles
  SET status = 'deactivated'
  WHERE id = auth.uid();
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;`,O2=`-- This helper function is used in Row Level Security policies to check for admin privileges.
CREATE OR REPLACE FUNCTION public.is_admin()
RETURNS boolean AS $$
BEGIN
  RETURN (
    SELECT is_admin
    FROM public.profiles
    WHERE id = auth.uid()
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;`,M2=`-- This function securely joins profile data with authentication data.
-- It MUST be created with SECURITY DEFINER to access the auth.users table.
CREATE OR REPLACE FUNCTION admin_get_all_users()
RETURNS TABLE (
    id uuid,
    email text,
    credits integer,
    is_admin boolean,
    status text,
    last_sign_in_at timestamptz,
    email_confirmed_at timestamptz
)
LANGUAGE sql
SECURITY DEFINER
SET search_path = public
AS $$
    SELECT
        p.id,
        u.email,
        p.credits,
        p.is_admin,
        p.status::text,
        u.last_sign_in_at,
        u.email_confirmed_at
    FROM
        public.profiles p
    LEFT JOIN
        auth.users u ON p.id = u.id;
$$;`,B2=`-- This function securely and efficiently counts invoices for each user.
-- It MUST be created with SECURITY DEFINER to work correctly.
CREATE OR REPLACE FUNCTION admin_count_invoices_per_user()
RETURNS TABLE (
    email text,
    invoice_count bigint
)
LANGUAGE sql
SECURITY DEFINER
SET search_path = public
AS $$
    SELECT
        p.email,
        COUNT(i.id) as invoice_count
    FROM
        public.profiles p
    LEFT JOIN
        public.invoices i ON p.id = i.user_id
    GROUP BY
        p.email
    ORDER BY
        p.email;
$$;`,Vu=(r,e)=>{navigator.clipboard.writeText(r).then(()=>{e.addToast("SQL copied to clipboard!","success")},t=>{console.error("Failed to copy SQL: ",t),e.addToast("Failed to copy SQL.","error")})},tb=({user:r})=>{const e=()=>r.status==="deactivated"?{text:"Deactivated",color:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}:r.email_confirmed_at?r.last_sign_in_at&&(new Date().getTime()-new Date(r.last_sign_in_at).getTime())/864e5>90?{text:"Inactive",color:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}:{text:"Active",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}:{text:"Pending",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},{text:t,color:n}=e();return m.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${n}`,children:t})},rb=({currentUser:r})=>{const[e,t]=G.useState([]),[n,s]=G.useState(new Map),[o,l]=G.useState(!0),[u,h]=G.useState(null),[f,v]=G.useState(null),[x,C]=G.useState(!1),b=Cd(),[j,L]=G.useState(""),[A,E]=G.useState(""),[D,H]=G.useState(!1),Y=G.useCallback(async()=>{l(!0),h(null);try{const[pe,B]=await Promise.all([w6(),b6()]);t((pe||[]).sort((ie,ee)=>(ie.email||"").localeCompare(ee.email||""))),s(B)}catch(pe){const B=pe.message||"An unknown error occurred";console.error("Failed to load admin data",pe),B.includes("Could not find the function")?h("A required database function is missing. The Admin Panel cannot load. Please create the function in your Supabase SQL Editor and then refresh this page. See below for the required SQL code."):h(`An unexpected error occurred while loading admin data: ${B}`),b.addToast("Error loading admin data.","error")}finally{l(!1)}},[b]);G.useEffect(()=>{Y()},[Y]);const ne=async pe=>{const B=!pe.is_admin,V=B?"promote":"demote";if(window.confirm(`Are you sure you want to ${V} ${pe.email}?`))try{await _6(pe.id,B),b.addToast(`User ${pe.email} has been ${V}d.`,"success"),Y()}catch(ie){console.error(ie),b.addToast(`Error: ${ie.message}`,"error")}},we=async pe=>{if(window.confirm(`Are you sure you want to award unlimited credits to ${pe.email}?`))try{await k6(pe.id),b.addToast(`Unlimited credits awarded to ${pe.email}.`,"success"),Y()}catch(B){console.error(B),b.addToast(`Error: ${B.message}`,"error")}},ue=pe=>{v(pe),C(!0)},Q=async()=>{if(f)try{await C6(f.id),b.addToast(`User ${f.email} has been permanently deleted.`,"success"),Y()}catch(pe){console.error(pe),b.addToast(`Error deleting user: ${pe.message}`,"error")}finally{C(!1),v(null)}},ye=async pe=>{if(pe.preventDefault(),!j||!A){b.addToast("Email and password are required.","error");return}try{const{data:{user:B},error:V}=await Wt.auth.signUp({email:j,password:A});if(V)throw V;if(B&&D){const ie={is_admin:!0,credits:9999};await Wt.from("profiles").update(ie).eq("id",B.id)}b.addToast(`User ${j} created successfully.`,"success"),L(""),E(""),H(!1),Y()}catch(B){console.error(B),b.addToast(`Error creating user: ${B.message}`,"error")}};return o&&!u&&e.length===0?m.jsx("div",{className:"p-10 text-center",children:"Loading Admin Panel..."}):m.jsxs(m.Fragment,{children:[m.jsx(a0,{isOpen:x,onClose:()=>C(!1),onConfirm:Q,title:"Delete User Account",message:m.jsxs(m.Fragment,{children:[m.jsxs("p",{children:["This action is irreversible. It will permanently deactivate the user ",m.jsx("strong",{className:"text-red-700 dark:text-red-300",children:f==null?void 0:f.email})," and all associated data (invoices, clients, settings)."]}),m.jsx("p",{className:"font-bold mt-2",children:"Are you absolutely sure?"})]}),confirmInput:"DELETE"}),m.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Admin Panel"}),u?m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-red-800 dark:text-red-200",children:"Action Required: Database Setup"}),m.jsx("p",{className:"text-red-600 dark:text-red-300 mt-2 mb-4",children:u}),m.jsx("div",{className:"text-center",children:m.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold bg-blue-600 text-white hover:bg-blue-700 transition",children:[m.jsx(ug,{className:o?"animate-spin":""})," ",o?"Refreshing...":"Refresh Admin Panel"]})})]}):m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-8 rounded-xl shadow-lg",children:[m.jsxs("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6 flex items-center",children:[m.jsx(Z1,{className:"mr-3"})," User Management"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Email"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credits"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoices"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),m.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(pe=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:pe.email}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-center font-semibold",children:pe.credits>=9999?"∞":pe.credits}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center",children:m.jsx(tb,{user:pe})}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-center",children:n.get(pe.email||"")||0}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-center",children:pe.is_admin?m.jsx(H1,{className:"h-5 w-5 text-green-500 mx-auto"}):m.jsx(rg,{className:"h-5 w-5 text-red-500 mx-auto"})}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:m.jsx("div",{className:"flex items-center justify-end space-x-2",children:pe.email&&pe.email.toLowerCase()!==eb.toLowerCase()?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>we(pe),disabled:pe.credits>=9999,className:"p-1.5 rounded-md bg-blue-500 hover:bg-blue-600 text-white disabled:bg-gray-400 disabled:cursor-not-allowed transition",title:"Award unlimited credits",children:m.jsx(uy,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>ne(pe),className:`px-3 py-1.5 text-xs font-semibold rounded-md ${pe.is_admin?"bg-yellow-500 hover:bg-yellow-600":"bg-green-500 hover:bg-green-600"} text-white transition`,children:pe.is_admin?"Demote":"Promote"}),m.jsx("button",{onClick:()=>ue(pe),className:"p-1.5 rounded-md bg-red-600 hover:bg-red-700 text-white transition",title:"Delete User",children:m.jsx(Uh,{className:"h-4 w-4"})})]}):m.jsx("span",{className:"text-xs text-gray-400 italic",children:"Main Admin"})})})]},pe.id))})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[m.jsxs("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6 flex items-center",children:[m.jsx(cg,{className:"mr-3"})," Add New User"]}),m.jsxs("form",{onSubmit:ye,className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"newUserEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),m.jsx("input",{type:"email",id:"newUserEmail",value:j,onChange:pe=>L(pe.target.value),required:!0,className:F2})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"newUserPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),m.jsx("input",{type:"password",id:"newUserPassword",value:A,onChange:pe=>E(pe.target.value),required:!0,className:F2})]}),m.jsx("div",{className:"flex flex-col justify-end h-full",children:m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("input",{type:"checkbox",id:"newUserIsAdmin",checked:D,onChange:pe=>H(pe.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),m.jsx("label",{htmlFor:"newUserIsAdmin",className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:"Make this user an admin"})]})}),m.jsx("div",{className:"md:col-span-3 text-right",children:m.jsx("button",{type:"submit",className:Q6,children:"Create User"})})]})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 p-6 rounded-xl shadow-lg",children:[m.jsxs("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-4 mb-6 flex items-center",children:[m.jsx(ag,{className:"mr-3 text-blue-500"})," Core Database Functions"]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"These SQL functions are required for the application to work correctly. If you're experiencing issues with user sign-ups, deletions, or this admin panel, ensure these functions exist and are up-to-date in your Supabase SQL Editor."}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"1. User Profile Creation (CRITICAL)"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:"This function automatically creates a user profile upon sign-up. If this is missing, new users cannot log in."}),m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 rounded-lg text-xs overflow-x-auto",children:m.jsx("code",{children:R2})}),m.jsxs("button",{onClick:()=>Vu(R2,b),className:"mt-3 flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:[m.jsx(zu,{})," Copy SQL"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"2. Self-Service User Deletion"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:'This function powers the "Delete My Account" button in the settings page.'}),m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 rounded-lg text-xs overflow-x-auto",children:m.jsx("code",{children:D2})}),m.jsxs("button",{onClick:()=>Vu(D2,b),className:"mt-3 flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:[m.jsx(zu,{})," Copy SQL"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"3. Admin Check"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:"This function is used by Row Level Security policies to grant admins special permissions."}),m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 rounded-lg text-xs overflow-x-auto",children:m.jsx("code",{children:O2})}),m.jsxs("button",{onClick:()=>Vu(O2,b),className:"mt-3 flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:[m.jsx(zu,{})," Copy SQL"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"4. Admin Panel Functions"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-3 text-sm",children:"These two functions (`admin_get_all_users` and `admin_count_invoices_per_user`) are required for this admin panel to display user data."}),m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 mt-4 rounded-lg text-xs overflow-x-auto",children:m.jsx("code",{children:M2})}),m.jsxs("button",{onClick:()=>Vu(M2,b),className:"mt-3 flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:[m.jsx(zu,{})," Copy `admin_get_all_users`"]}),m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-4 mt-4 rounded-lg text-xs overflow-x-auto",children:m.jsx("code",{children:B2})}),m.jsxs("button",{onClick:()=>Vu(B2,b),className:"mt-3 flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:[m.jsx(zu,{})," Copy `admin_count_invoices_per_user`"]})]})]})]})]})]})},nb=()=>{const[r,e]=G.useState(""),[t,n]=G.useState(""),[s,o]=G.useState(""),[l,u]=G.useState(!1),h=async f=>{f.preventDefault(),u(!0),n(""),o("");try{const{error:v}=await Wt.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}${window.location.pathname}`});v?o(v.message):n("Password reset instructions have been sent to your email.")}catch{o("An unexpected error occurred.")}finally{u(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8 md:p-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/logo.svg",alt:"PDF Invoicer Logo",className:"w-20 h-20 mx-auto mb-4"}),m.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:"PDF Invoicer"}),m.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:"BETA"})]}),m.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-400",children:"Reset Password"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Enter your email to get a reset link."})]}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Bh,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:f=>e(f.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"you@example.com"})]})]}),s&&m.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:s}),t&&m.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:t}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l||!!t,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 disabled:bg-blue-400",children:l?"Sending...":"Send Reset Link"})})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsxs(Xn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 flex items-center justify-center mx-auto",children:[m.jsx(wd,{className:"mr-2"}),"Back to Sign In"]})})]})})})},ib=()=>{const[r,e]=G.useState(""),[t,n]=G.useState(""),[s,o]=G.useState(""),[l,u]=G.useState(""),[h,f]=G.useState(!1),v=gl(),x=async C=>{if(C.preventDefault(),r!==t){u("Passwords do not match.");return}if(r.length<6){u("Password must be at least 6 characters long.");return}f(!0),o(""),u("");try{const{error:b}=await Wt.auth.updateUser({password:r});b?u(b.message):(o("Password updated successfully! Redirecting to sign in..."),setTimeout(()=>v("/login"),3e3))}catch{u("An unexpected error occurred.")}finally{f(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-8 md:p-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/logo.svg",alt:"PDF Invoicer Logo",className:"w-20 h-20 mx-auto mb-4"}),m.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:"PDF Invoicer"}),m.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:"BETA"})]}),m.jsx("p",{className:"mt-4 text-xl text-gray-600 dark:text-gray-400",children:"Update Your Password"}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Enter your new password below."})]}),m.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(du,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:C=>e(C.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"••••••••"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(du,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t,onChange:C=>n(C.target.value),className:"block w-full text-base pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"••••••••"})]})]}),l&&m.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:l}),s&&m.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:s}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:h||!!s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 disabled:bg-blue-400",children:h?"Updating...":"Update Password"})})]})]})})})},sb=()=>{const r=gl();return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("button",{onClick:()=>r("/settings"),className:"flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline mb-6",children:[m.jsx(wd,{className:"mr-2"}),"Back to Settings"]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Buy Credits"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Purchase credits to create new invoices. 1 credit = 1 new invoice."})]}),m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 border-l-4 border-yellow-500 text-yellow-800 dark:text-yellow-200 p-4 my-6 rounded-r-lg",role:"alert",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(dg,{className:"h-6 w-6 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:"Feature Coming Soon!"}),m.jsx("p",{className:"text-sm",children:"Purchasing is currently disabled during our beta phase. All users have been granted complimentary credits. Enjoy!"})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[m.jsx(o1,{credits:5,price:"RM10"}),m.jsx(o1,{credits:15,price:"RM15",tag:"Popular",isFeatured:!0}),m.jsx(o1,{credits:30,price:"RM50",tag:"Best Value",tagColor:"bg-green-400 text-green-900"})]}),m.jsx("div",{className:"mt-12",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-center text-gray-700 dark:text-gray-200",children:"All Packages Include"}),m.jsxs("ul",{className:"mt-6 space-y-3 text-gray-600 dark:text-gray-300",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx(Bf,{className:"w-5 h-5 text-green-500 mr-3"})," One-time payment, no subscription."]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx(Bf,{className:"w-5 h-5 text-green-500 mr-3"})," Credits never expire."]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx(Bf,{className:"w-5 h-5 text-green-500 mr-3"})," Secure payment processing."]})]}),m.jsxs("div",{className:"mt-8 text-center",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Supported Payment Methods:"}),m.jsx("div",{className:"flex justify-center items-center mt-3",children:m.jsx("img",{src:"https://upgvvoufmlhrecgltdge.supabase.co/storage/v1/object/public/assets/Billplz_checkout.png",alt:"Supported payment methods including Billplz, FPX, credit cards, and e-wallets",className:"h-auto max-w-full sm:max-w-sm rounded-md shadow-sm"})}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"...and major Malaysian e-wallets like TnG, GrabPay, Boost & more via our payment gateway."})]})]})})]})},o1=({credits:r,price:e,tag:t,tagColor:n="bg-yellow-400 text-yellow-900",isFeatured:s=!1})=>m.jsxs("div",{className:`relative border-2 ${s?"border-blue-600":"border-gray-200 dark:border-gray-700"} rounded-xl p-6 text-center flex flex-col`,children:[t&&m.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 text-xs font-bold rounded-full ${n}`,children:t}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"text-5xl font-extrabold text-gray-800 dark:text-gray-100",children:r}),m.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:"Credits"}),m.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mt-4",children:e})]}),m.jsx("button",{disabled:!0,className:"w-full mt-6 py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition",children:"Purchase"})]}),ab=({user:r,children:e})=>{const t=io();return r?m.jsx(m.Fragment,{children:e}):m.jsx(Kc,{to:"/login",state:{from:t},replace:!0})},ob=({currentUser:r,handleLogout:e,handleCreateNewInvoice:t,children:n})=>{const[s,o]=G.useState(!1),l=io(),u=h=>{const f=h.split("/")[1]||"Dashboard";return f.charAt(0).toUpperCase()+f.slice(1).replace(/([A-Z])/g," $1").trim()};return m.jsx(S6,{currentUser:r,children:m.jsxs("div",{className:"flex flex-col md:flex-row h-screen text-gray-800 dark:text-gray-100 bg-transparent",children:[m.jsx(py,{currentUser:r,onCreateNew:t,onLogout:e,isOpen:s,setIsOpen:o}),m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-gray-800 shadow-md",children:[m.jsx("button",{onClick:()=>o(!0),className:"p-2",children:m.jsx(Kv,{className:"w-6 h-6 text-gray-800 dark:text-gray-100"})}),m.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:u(l.pathname)}),m.jsx("div",{className:"w-8"})," "]}),m.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-10 md:overflow-y-auto bg-[#efe9e7] dark:bg-gray-900",children:n})]})]})})},lb=()=>{var C;const[r,e]=G.useState(null),[t,n]=G.useState(!1),[s,o]=G.useState(null),l=gl(),u=io();G.useEffect(()=>{const{data:{subscription:b}}=Wt.auth.onAuthStateChange(async(j,L)=>{var A,E;try{if(j==="PASSWORD_RECOVERY"){l("/update-password"),e(null);return}if(!(L!=null&&L.user)){e(null),j==="SIGNED_OUT"&&l("/login"),n(!0);return}const{data:D,error:H}=await Wt.from("profiles").select("*").eq("id",L.user.id).single();if(H)throw new Error(`Failed to fetch profile: ${H.message}`);if(!D)throw new Error("User profile not found for authenticated user.");const Y=D;if(Y.status==="deactivated"){alert("This account has been deactivated."),await Wt.auth.signOut();return}const ne={...L.user,profile:{is_admin:Y.is_admin??!1,credits:Y.credits??0,status:Y.status??"active",signature_font:Y.signature_font??"Helvetica"}};if(e(ne),j==="SIGNED_IN"){const we=((E=(A=u.state)==null?void 0:A.from)==null?void 0:E.pathname)||"/dashboard";l(we,{replace:!0})}}catch(D){console.error("Authentication error, signing out:",D.message),await Wt.auth.signOut().catch(H=>console.error("Sign out failed:",H)),e(null),l("/login")}finally{n(!0)}});return()=>b.unsubscribe()},[l,u.state]);const h=G.useCallback(async()=>{await Wt.auth.signOut(),l("/login")},[l]),f=G.useCallback(b=>{e(j=>j?{...j,profile:{...j.profile,...b}}:null)},[]),v=G.useCallback(async b=>{if(!r)return;const j=await d6(b);j?(o(j),l("/create-invoice")):alert("Invoice not found")},[r,l]),x=()=>{o(null),l("/create-invoice")};return t?m.jsxs(Sp,{children:[m.jsx(wn,{path:"/terms",element:m.jsx(Z6,{})}),m.jsx(wn,{path:"/privacy",element:m.jsx(G6,{})}),m.jsx(wn,{path:"/faq",element:m.jsx(K6,{})}),m.jsx(wn,{path:"/login",element:r?m.jsx(Kc,{to:"/dashboard"}):m.jsx(W6,{})}),m.jsx(wn,{path:"/signup",element:r?m.jsx(Kc,{to:"/dashboard"}):m.jsx(V6,{})}),m.jsx(wn,{path:"/forgot-password",element:r?m.jsx(Kc,{to:"/dashboard"}):m.jsx(nb,{})}),m.jsx(wn,{path:"/update-password",element:m.jsx(ib,{})}),m.jsx(wn,{path:"/*",element:m.jsx(ab,{user:r,children:r&&m.jsx(ob,{currentUser:r,handleLogout:h,handleCreateNewInvoice:x,children:m.jsxs(Sp,{children:[m.jsx(wn,{index:!0,element:m.jsx(Kc,{to:"/dashboard",replace:!0})}),m.jsx(wn,{path:"dashboard",element:m.jsx(H6,{currentUser:r})}),m.jsx(wn,{path:"create-invoice",element:m.jsx(L6,{currentUser:r,invoiceToEdit:s,onInvoiceSaved:()=>l("/invoice-history"),onUserUpdate:f})}),m.jsx(wn,{path:"invoice-history",element:m.jsx(T6,{currentUser:r,onEditInvoice:v})}),m.jsx(wn,{path:"settings",element:m.jsx(R6,{currentUser:r,onUserUpdate:f,onLogout:h})}),m.jsx(wn,{path:"contact",element:m.jsx(X6,{})}),m.jsx(wn,{path:"buy-credits",element:m.jsx(sb,{})}),((C=r==null?void 0:r.profile)==null?void 0:C.is_admin)&&m.jsx(wn,{path:"admin",element:m.jsx(rb,{currentUser:r})}),m.jsx(wn,{path:"*",element:m.jsx(Kc,{to:"/dashboard",replace:!0})})]})})})})]}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:m.jsx("p",{children:"Authenticating..."})})},T5=document.getElementById("root");if(!T5)throw new Error("Could not find root element to mount to");const cb=_m.createRoot(T5);cb.render(m.jsx(U2.StrictMode,{children:m.jsx(yv,{children:m.jsx(N6,{children:m.jsx(lb,{})})})}));export{gr as _,ub as c,B1 as g};
